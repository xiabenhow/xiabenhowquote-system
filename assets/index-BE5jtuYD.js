(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function Vb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k0={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb=Symbol.for("react.transitional.element"),Ob=Symbol.for("react.fragment");function P0(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:Mb,type:e,key:i,ref:t!==void 0?t:null,props:n}}Tu.Fragment=Ob;Tu.jsx=P0;Tu.jsxs=P0;k0.exports=Tu;var f=k0.exports,B0={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=Symbol.for("react.transitional.element"),jb=Symbol.for("react.portal"),zb=Symbol.for("react.fragment"),Ub=Symbol.for("react.strict_mode"),Lb=Symbol.for("react.profiler"),kb=Symbol.for("react.consumer"),Pb=Symbol.for("react.context"),Bb=Symbol.for("react.forward_ref"),qb=Symbol.for("react.suspense"),Hb=Symbol.for("react.memo"),q0=Symbol.for("react.lazy"),Fb=Symbol.for("react.activity"),Pg=Symbol.iterator;function Gb(e){return e===null||typeof e!="object"?null:(e=Pg&&e[Pg]||e["@@iterator"],typeof e=="function"?e:null)}var H0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F0=Object.assign,G0={};function Rs(e,t,n){this.props=e,this.context=t,this.refs=G0,this.updater=n||H0}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Q0(){}Q0.prototype=Rs.prototype;function Kf(e,t,n){this.props=e,this.context=t,this.refs=G0,this.updater=n||H0}var Xf=Kf.prototype=new Q0;Xf.constructor=Kf;F0(Xf,Rs.prototype);Xf.isPureReactComponent=!0;var Bg=Array.isArray;function Sh(){}var Rt={H:null,A:null,T:null,S:null},Y0=Object.prototype.hasOwnProperty;function $f(e,t,n){var i=n.ref;return{$$typeof:Yf,type:e,key:t,ref:i!==void 0?i:null,props:n}}function Qb(e,t){return $f(e.type,t,e.props)}function Zf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yf}function Yb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var qg=/\/+/g;function Rc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Yb(""+e.key):t.toString(36)}function Kb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Sh,Sh):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ja(e,t,n,i,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(s){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Yf:case jb:r=!0;break;case q0:return r=e._init,ja(r(e._payload),t,n,i,a)}}if(r)return a=a(e),r=i===""?"."+Rc(e,0):i,Bg(a)?(n="",r!=null&&(n=r.replace(qg,"$&/")+"/"),ja(a,t,n,"",function(h){return h})):a!=null&&(Zf(a)&&(a=Qb(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(qg,"$&/")+"/")+r)),t.push(a)),1;r=0;var o=i===""?".":i+":";if(Bg(e))for(var u=0;u<e.length;u++)i=e[u],s=o+Rc(i,u),r+=ja(i,t,n,s,a);else if(u=Gb(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=o+Rc(i,u++),r+=ja(i,t,n,s,a);else if(s==="object"){if(typeof e.then=="function")return ja(Kb(e),t,n,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function kl(e,t,n){if(e==null)return e;var i=[],a=0;return ja(e,i,"","",function(s){return t.call(n,s,a++)}),i}function Xb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hg=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$b={map:kl,forEach:function(e,t,n){kl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return kl(e,function(){t++}),t},toArray:function(e){return kl(e,function(t){return t})||[]},only:function(e){if(!Zf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Activity=Fb;Z.Children=$b;Z.Component=Rs;Z.Fragment=zb;Z.Profiler=Lb;Z.PureComponent=Kf;Z.StrictMode=Ub;Z.Suspense=qb;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt;Z.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Rt.H.useMemoCache(e)}};Z.cache=function(e){return function(){return e.apply(null,arguments)}};Z.cacheSignal=function(){return null};Z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=F0({},e.props),a=e.key;if(t!=null)for(s in t.key!==void 0&&(a=""+t.key),t)!Y0.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(i[s]=t[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var r=Array(s),o=0;o<s;o++)r[o]=arguments[o+2];i.children=r}return $f(e.type,a,i)};Z.createContext=function(e){return e={$$typeof:Pb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:kb,_context:e},e};Z.createElement=function(e,t,n){var i,a={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)Y0.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(a[i]=t[i]);var r=arguments.length-2;if(r===1)a.children=n;else if(1<r){for(var o=Array(r),u=0;u<r;u++)o[u]=arguments[u+2];a.children=o}if(e&&e.defaultProps)for(i in r=e.defaultProps,r)a[i]===void 0&&(a[i]=r[i]);return $f(e,s,a)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Bb,render:e}};Z.isValidElement=Zf;Z.lazy=function(e){return{$$typeof:q0,_payload:{_status:-1,_result:e},_init:Xb}};Z.memo=function(e,t){return{$$typeof:Hb,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Rt.T,n={};Rt.T=n;try{var i=e(),a=Rt.S;a!==null&&a(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Sh,Hg)}catch(s){Hg(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),Rt.T=t}};Z.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()};Z.use=function(e){return Rt.H.use(e)};Z.useActionState=function(e,t,n){return Rt.H.useActionState(e,t,n)};Z.useCallback=function(e,t){return Rt.H.useCallback(e,t)};Z.useContext=function(e){return Rt.H.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e,t){return Rt.H.useDeferredValue(e,t)};Z.useEffect=function(e,t){return Rt.H.useEffect(e,t)};Z.useEffectEvent=function(e){return Rt.H.useEffectEvent(e)};Z.useId=function(){return Rt.H.useId()};Z.useImperativeHandle=function(e,t,n){return Rt.H.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Rt.H.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Rt.H.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Rt.H.useMemo(e,t)};Z.useOptimistic=function(e,t){return Rt.H.useOptimistic(e,t)};Z.useReducer=function(e,t,n){return Rt.H.useReducer(e,t,n)};Z.useRef=function(e){return Rt.H.useRef(e)};Z.useState=function(e){return Rt.H.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Rt.H.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Rt.H.useTransition()};Z.version="19.2.0";B0.exports=Z;var et=B0.exports;const Zb=Vb(et);var K0={exports:{}},bu={},X0={exports:{}},$0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,Y){var $=B.length;B.push(Y);t:for(;0<$;){var Tt=$-1>>>1,Pt=B[Tt];if(0<a(Pt,Y))B[Tt]=Y,B[$]=Pt,$=Tt;else break t}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Y=B[0],$=B.pop();if($!==Y){B[0]=$;t:for(var Tt=0,Pt=B.length,Hi=Pt>>>1;Tt<Hi;){var Fi=2*(Tt+1)-1,Ra=B[Fi],Ge=Fi+1,Yn=B[Ge];if(0>a(Ra,$))Ge<Pt&&0>a(Yn,Ra)?(B[Tt]=Yn,B[Ge]=$,Tt=Ge):(B[Tt]=Ra,B[Fi]=$,Tt=Fi);else if(Ge<Pt&&0>a(Yn,$))B[Tt]=Yn,B[Ge]=$,Tt=Ge;else break t}}return Y}function a(B,Y){var $=B.sortIndex-Y.sortIndex;return $!==0?$:B.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var r=Date,o=r.now();e.unstable_now=function(){return r.now()-o}}var u=[],h=[],m=1,p=null,y=3,T=!1,C=!1,V=!1,M=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function I(B){for(var Y=n(h);Y!==null;){if(Y.callback===null)i(h);else if(Y.startTime<=B)i(h),Y.sortIndex=Y.expirationTime,t(u,Y);else break;Y=n(h)}}function j(B){if(V=!1,I(B),!C)if(n(u)!==null)C=!0,k||(k=!0,R());else{var Y=n(h);Y!==null&&kt(j,Y.startTime-B)}}var k=!1,E=-1,g=5,v=-1;function A(){return M?!0:!(e.unstable_now()-v<g)}function w(){if(M=!1,k){var B=e.unstable_now();v=B;var Y=!0;try{t:{C=!1,V&&(V=!1,b(E),E=-1),T=!0;var $=y;try{e:{for(I(B),p=n(u);p!==null&&!(p.expirationTime>B&&A());){var Tt=p.callback;if(typeof Tt=="function"){p.callback=null,y=p.priorityLevel;var Pt=Tt(p.expirationTime<=B);if(B=e.unstable_now(),typeof Pt=="function"){p.callback=Pt,I(B),Y=!0;break e}p===n(u)&&i(u),I(B)}else i(u);p=n(u)}if(p!==null)Y=!0;else{var Hi=n(h);Hi!==null&&kt(j,Hi.startTime-B),Y=!1}}break t}finally{p=null,y=$,T=!1}Y=void 0}}finally{Y?R():k=!1}}}var R;if(typeof N=="function")R=function(){N(w)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,tt=x.port2;x.port1.onmessage=w,R=function(){tt.postMessage(null)}}else R=function(){S(w,0)};function kt(B,Y){E=S(function(){B(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(B){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var $=y;y=Y;try{return B()}finally{y=$}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=y;y=B;try{return Y()}finally{y=$}},e.unstable_scheduleCallback=function(B,Y,$){var Tt=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Tt+$:Tt):$=Tt,B){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=$+Pt,B={id:m++,callback:Y,priorityLevel:B,startTime:$,expirationTime:Pt,sortIndex:-1},$>Tt?(B.sortIndex=$,t(h,B),n(u)===null&&B===n(h)&&(V?(b(E),E=-1):V=!0,kt(j,$-Tt))):(B.sortIndex=Pt,t(u,B),C||T||(C=!0,k||(k=!0,R()))),B},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(B){var Y=y;return function(){var $=y;y=Y;try{return B.apply(this,arguments)}finally{y=$}}}})($0);X0.exports=$0;var Jb=X0.exports,Z0={exports:{}},Te={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb=et;function J0(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ti(){}var ve={d:{f:ti,r:function(){throw Error(J0(522))},D:ti,C:ti,L:ti,m:ti,X:ti,S:ti,M:ti},p:0,findDOMNode:null},tA=Symbol.for("react.portal");function eA(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tA,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Er=Wb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Au(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ve;Te.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(J0(299));return eA(e,t,null,n)};Te.flushSync=function(e){var t=Er.T,n=ve.p;try{if(Er.T=null,ve.p=2,e)return e()}finally{Er.T=t,ve.p=n,ve.d.f()}};Te.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ve.d.C(e,t))};Te.prefetchDNS=function(e){typeof e=="string"&&ve.d.D(e)};Te.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Au(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ve.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:s}):n==="script"&&ve.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Te.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Au(t.as,t.crossOrigin);ve.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ve.d.M(e)};Te.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Au(n,t.crossOrigin);ve.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Te.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Au(t.as,t.crossOrigin);ve.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ve.d.m(e)};Te.requestFormReset=function(e){ve.d.r(e)};Te.unstable_batchedUpdates=function(e,t){return e(t)};Te.useFormState=function(e,t,n){return Er.H.useFormState(e,t,n)};Te.useFormStatus=function(){return Er.H.useHostTransitionStatus()};Te.version="19.2.0";function W0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W0)}catch(e){console.error(e)}}W0(),Z0.exports=Te;var nA=Z0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=Jb,t_=et,iA=nA;function z(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function n_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function i_(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fg(e){if(ol(e)!==e)throw Error(z(188))}function aA(e){var t=e.alternate;if(!t){if(t=ol(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Fg(a),e;if(s===i)return Fg(a),t;s=s.sibling}throw Error(z(188))}if(n.return!==i.return)n=a,i=s;else{for(var r=!1,o=a.child;o;){if(o===n){r=!0,n=a,i=s;break}if(o===i){r=!0,i=a,n=s;break}o=o.sibling}if(!r){for(o=s.child;o;){if(o===n){r=!0,n=s,i=a;break}if(o===i){r=!0,i=s,n=a;break}o=o.sibling}if(!r)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function a_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=a_(e),t!==null)return t;e=e.sibling}return null}var Ct=Object.assign,sA=Symbol.for("react.element"),Pl=Symbol.for("react.transitional.element"),cr=Symbol.for("react.portal"),qa=Symbol.for("react.fragment"),s_=Symbol.for("react.strict_mode"),xh=Symbol.for("react.profiler"),r_=Symbol.for("react.consumer"),In=Symbol.for("react.context"),Jf=Symbol.for("react.forward_ref"),wh=Symbol.for("react.suspense"),Nh=Symbol.for("react.suspense_list"),Wf=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),Rh=Symbol.for("react.activity"),rA=Symbol.for("react.memo_cache_sentinel"),Gg=Symbol.iterator;function ir(e){return e===null||typeof e!="object"?null:(e=Gg&&e[Gg]||e["@@iterator"],typeof e=="function"?e:null)}var lA=Symbol.for("react.client.reference");function Ch(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===lA?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qa:return"Fragment";case xh:return"Profiler";case s_:return"StrictMode";case wh:return"Suspense";case Nh:return"SuspenseList";case Rh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case cr:return"Portal";case In:return e.displayName||"Context";case r_:return(e._context.displayName||"Context")+".Consumer";case Jf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wf:return t=e.displayName||null,t!==null?t:Ch(e.type)||"Memo";case ei:t=e._payload,e=e._init;try{return Ch(e(t))}catch{}}return null}var hr=Array.isArray,Q=t_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=iA.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,aa={pending:!1,data:null,method:null,action:null},Dh=[],Ha=-1;function bn(e){return{current:e}}function ie(e){0>Ha||(e.current=Dh[Ha],Dh[Ha]=null,Ha--)}function At(e,t){Ha++,Dh[Ha]=e.current,e.current=t}var gn=bn(null),kr=bn(null),di=bn(null),Io=bn(null);function Vo(e,t){switch(At(di,t),At(kr,e),At(gn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zp(t),e=w1(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ie(gn),At(gn,e)}function cs(){ie(gn),ie(kr),ie(di)}function Ih(e){e.memoizedState!==null&&At(Io,e);var t=gn.current,n=w1(t,e.type);t!==n&&(At(kr,e),At(gn,n))}function Mo(e){kr.current===e&&(ie(gn),ie(kr)),Io.current===e&&(ie(Io),$r._currentValue=aa)}var Cc,Qg;function Zi(e){if(Cc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cc=t&&t[1]||"",Qg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cc+e+Qg}var Dc=!1;function Ic(e,t){if(!e||Dc)return"";Dc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(T){var y=T}Reflect.construct(e,[],p)}else{try{p.call()}catch(T){y=T}e.call(p.prototype)}}else{try{throw Error()}catch(T){y=T}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(T){if(T&&y&&typeof T.stack=="string")return[T.stack,y.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),r=s[0],o=s[1];if(r&&o){var u=r.split(`
`),h=o.split(`
`);for(a=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;if(i===u.length||a===h.length)for(i=u.length-1,a=h.length-1;1<=i&&0<=a&&u[i]!==h[a];)a--;for(;1<=i&&0<=a;i--,a--)if(u[i]!==h[a]){if(i!==1||a!==1)do if(i--,a--,0>a||u[i]!==h[a]){var m=`
`+u[i].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=i&&0<=a);break}}}finally{Dc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Zi(n):""}function oA(e,t){switch(e.tag){case 26:case 27:case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return e.child!==t&&t!==null?Zi("Suspense Fallback"):Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return Ic(e.type,!1);case 11:return Ic(e.type.render,!1);case 1:return Ic(e.type,!0);case 31:return Zi("Activity");default:return""}}function Yg(e){try{var t="",n=null;do t+=oA(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Vh=Object.prototype.hasOwnProperty,td=Jt.unstable_scheduleCallback,Vc=Jt.unstable_cancelCallback,uA=Jt.unstable_shouldYield,cA=Jt.unstable_requestPaint,Ue=Jt.unstable_now,hA=Jt.unstable_getCurrentPriorityLevel,l_=Jt.unstable_ImmediatePriority,o_=Jt.unstable_UserBlockingPriority,Oo=Jt.unstable_NormalPriority,fA=Jt.unstable_LowPriority,u_=Jt.unstable_IdlePriority,dA=Jt.log,mA=Jt.unstable_setDisableYieldValue,ul=null,Le=null;function li(e){if(typeof dA=="function"&&mA(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(ul,e)}catch{}}var ke=Math.clz32?Math.clz32:yA,gA=Math.log,pA=Math.LN2;function yA(e){return e>>>=0,e===0?32:31-(gA(e)/pA|0)|0}var Bl=256,ql=262144,Hl=4194304;function Ji(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Su(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,s=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var o=i&134217727;return o!==0?(i=o&~s,i!==0?a=Ji(i):(r&=o,r!==0?a=Ji(r):n||(n=o&~e,n!==0&&(a=Ji(n))))):(o=i&~s,o!==0?a=Ji(o):r!==0?a=Ji(r):n||(n=i&~e,n!==0&&(a=Ji(n)))),a===0?0:t!==0&&t!==a&&!(t&s)&&(s=a&-a,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:a}function cl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function _A(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c_(){var e=Hl;return Hl<<=1,!(Hl&62914560)&&(Hl=4194304),e}function Mc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vA(e,t,n,i,a,s){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=r&~n;0<n;){var m=31-ke(n),p=1<<m;o[m]=0,u[m]=-1;var y=h[m];if(y!==null)for(h[m]=null,m=0;m<y.length;m++){var T=y[m];T!==null&&(T.lane&=-536870913)}n&=~p}i!==0&&h_(e,i,0),s!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=s&~(r&~t))}function h_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-ke(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function f_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-ke(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function d_(e,t){var n=t&-t;return n=n&42?1:ed(n),n&(e.suspendedLanes|t)?0:n}function ed(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function nd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function m_(){var e=ft.p;return e!==0?e:(e=window.event,e===void 0?32:U1(e.type))}function Kg(e,t){var n=ft.p;try{return ft.p=e,t()}finally{ft.p=n}}var Li=Math.random().toString(36).slice(2),re="__reactFiber$"+Li,Ce="__reactProps$"+Li,Cs="__reactContainer$"+Li,Mh="__reactEvents$"+Li,EA="__reactListeners$"+Li,TA="__reactHandles$"+Li,Xg="__reactResources$"+Li,fl="__reactMarker$"+Li;function id(e){delete e[re],delete e[Ce],delete e[Mh],delete e[EA],delete e[TA]}function Fa(e){var t=e[re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cs]||n[re]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ny(e);e!==null;){if(n=e[re])return n;e=ny(e)}return t}e=n,n=e.parentNode}return null}function Ds(e){if(e=e[re]||e[Cs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(z(33))}function ts(e){var t=e[Xg];return t||(t=e[Xg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ne(e){e[fl]=!0}var g_=new Set,p_={};function Ea(e,t){hs(e,t),hs(e+"Capture",t)}function hs(e,t){for(p_[e]=t,e=0;e<t.length;e++)g_.add(t[e])}var bA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$g={},Zg={};function AA(e){return Vh.call(Zg,e)?!0:Vh.call($g,e)?!1:bA.test(e)?Zg[e]=!0:($g[e]=!0,!1)}function oo(e,t,n){if(AA(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Fl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Sn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Ye(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function y_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SA(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(r){n=""+r,s.call(this,r)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oh(e){if(!e._valueTracker){var t=y_(e)?"checked":"value";e._valueTracker=SA(e,t,""+e[t])}}function __(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=y_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function jo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xA=/[\n"\\]/g;function $e(e){return e.replace(xA,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function jh(e,t,n,i,a,s,r,o){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ye(t)):e.value!==""+Ye(t)&&(e.value=""+Ye(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?zh(e,r,Ye(t)):n!=null?zh(e,r,Ye(n)):i!=null&&e.removeAttribute("value"),a==null&&s!=null&&(e.defaultChecked=!!s),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+Ye(o):e.removeAttribute("name")}function v_(e,t,n,i,a,s,r,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){Oh(e);return}n=n!=null?""+Ye(n):"",t=t!=null?""+Ye(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Oh(e)}function zh(e,t,n){t==="number"&&jo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function es(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ye(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function E_(e,t,n){if(t!=null&&(t=""+Ye(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Ye(n):""}function T_(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(z(92));if(hr(i)){if(1<i.length)throw Error(z(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Ye(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Oh(e)}function fs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jg(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||wA.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function b_(e,t,n){if(t!=null&&typeof t!="object")throw Error(z(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Jg(e,a,i)}else for(var s in t)t.hasOwnProperty(s)&&Jg(e,s,t[s])}function ad(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),RA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(e){return RA.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Vn(){}var Uh=null;function sd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ga=null,ns=null;function Wg(e){var t=Ds(e);if(t&&(e=t.stateNode)){var n=e[Ce]||null;t:switch(e=t.stateNode,t.type){case"input":if(jh(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+$e(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[Ce]||null;if(!a)throw Error(z(90));jh(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&__(i)}break t;case"textarea":E_(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}}}var Oc=!1;function A_(e,t,n){if(Oc)return e(t,n);Oc=!0;try{var i=e(t);return i}finally{if(Oc=!1,(Ga!==null||ns!==null)&&(zu(),Ga&&(t=Ga,e=ns,ns=Ga=null,Wg(t),e)))for(t=0;t<e.length;t++)Wg(e[t])}}function Pr(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Ce]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lh=!1;if(Un)try{var ar={};Object.defineProperty(ar,"passive",{get:function(){Lh=!0}}),window.addEventListener("test",ar,ar),window.removeEventListener("test",ar,ar)}catch{Lh=!1}var oi=null,rd=null,co=null;function S_(){if(co)return co;var e,t=rd,n=t.length,i,a="value"in oi?oi.value:oi.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var r=n-e;for(i=1;i<=r&&t[n-i]===a[s-i];i++);return co=a.slice(e,1<i?1-i:void 0)}function ho(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gl(){return!0}function tp(){return!1}function De(e){function t(n,i,a,s,r){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=s,this.target=r,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gl:tp,this.isPropagationStopped=tp,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),t}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=De(Ta),dl=Ct({},Ta,{view:0,detail:0}),CA=De(dl),jc,zc,sr,wu=Ct({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&e.type==="mousemove"?(jc=e.screenX-sr.screenX,zc=e.screenY-sr.screenY):zc=jc=0,sr=e),jc)},movementY:function(e){return"movementY"in e?e.movementY:zc}}),ep=De(wu),DA=Ct({},wu,{dataTransfer:0}),IA=De(DA),VA=Ct({},dl,{relatedTarget:0}),Uc=De(VA),MA=Ct({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),OA=De(MA),jA=Ct({},Ta,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zA=De(jA),UA=Ct({},Ta,{data:0}),np=De(UA),LA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PA[e])?!!t[e]:!1}function ld(){return BA}var qA=Ct({},dl,{key:function(e){if(e.key){var t=LA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ho(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ld,charCode:function(e){return e.type==="keypress"?ho(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ho(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HA=De(qA),FA=Ct({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ip=De(FA),GA=Ct({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ld}),QA=De(GA),YA=Ct({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),KA=De(YA),XA=Ct({},wu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$A=De(XA),ZA=Ct({},Ta,{newState:0,oldState:0}),JA=De(ZA),WA=[9,13,27,32],od=Un&&"CompositionEvent"in window,Tr=null;Un&&"documentMode"in document&&(Tr=document.documentMode);var t2=Un&&"TextEvent"in window&&!Tr,x_=Un&&(!od||Tr&&8<Tr&&11>=Tr),ap=" ",sp=!1;function w_(e,t){switch(e){case"keyup":return WA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qa=!1;function e2(e,t){switch(e){case"compositionend":return N_(t);case"keypress":return t.which!==32?null:(sp=!0,ap);case"textInput":return e=t.data,e===ap&&sp?null:e;default:return null}}function n2(e,t){if(Qa)return e==="compositionend"||!od&&w_(e,t)?(e=S_(),co=rd=oi=null,Qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x_&&t.locale!=="ko"?null:t.data;default:return null}}var i2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!i2[e.type]:t==="textarea"}function R_(e,t,n,i){Ga?ns?ns.push(i):ns=[i]:Ga=i,t=Wo(t,"onChange"),0<t.length&&(n=new xu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var br=null,Br=null;function a2(e){A1(e,0)}function Nu(e){var t=fr(e);if(__(t))return e}function lp(e,t){if(e==="change")return t}var C_=!1;if(Un){var Lc;if(Un){var kc="oninput"in document;if(!kc){var op=document.createElement("div");op.setAttribute("oninput","return;"),kc=typeof op.oninput=="function"}Lc=kc}else Lc=!1;C_=Lc&&(!document.documentMode||9<document.documentMode)}function up(){br&&(br.detachEvent("onpropertychange",D_),Br=br=null)}function D_(e){if(e.propertyName==="value"&&Nu(Br)){var t=[];R_(t,Br,e,sd(e)),A_(a2,t)}}function s2(e,t,n){e==="focusin"?(up(),br=t,Br=n,br.attachEvent("onpropertychange",D_)):e==="focusout"&&up()}function r2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(Br)}function l2(e,t){if(e==="click")return Nu(t)}function o2(e,t){if(e==="input"||e==="change")return Nu(t)}function u2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qe=typeof Object.is=="function"?Object.is:u2;function qr(e,t){if(qe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!Vh.call(t,a)||!qe(e[a],t[a]))return!1}return!0}function cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hp(e,t){var n=cp(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=cp(n)}}function I_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?I_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function V_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=jo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jo(e.document)}return t}function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var c2=Un&&"documentMode"in document&&11>=document.documentMode,Ya=null,kh=null,Ar=null,Ph=!1;function fp(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ph||Ya==null||Ya!==jo(i)||(i=Ya,"selectionStart"in i&&ud(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ar&&qr(Ar,i)||(Ar=i,i=Wo(kh,"onSelect"),0<i.length&&(t=new xu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ya)))}function $i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ka={animationend:$i("Animation","AnimationEnd"),animationiteration:$i("Animation","AnimationIteration"),animationstart:$i("Animation","AnimationStart"),transitionrun:$i("Transition","TransitionRun"),transitionstart:$i("Transition","TransitionStart"),transitioncancel:$i("Transition","TransitionCancel"),transitionend:$i("Transition","TransitionEnd")},Pc={},M_={};Un&&(M_=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function ba(e){if(Pc[e])return Pc[e];if(!Ka[e])return e;var t=Ka[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in M_)return Pc[e]=t[n];return e}var O_=ba("animationend"),j_=ba("animationiteration"),z_=ba("animationstart"),h2=ba("transitionrun"),f2=ba("transitionstart"),d2=ba("transitioncancel"),U_=ba("transitionend"),L_=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function on(e,t){L_.set(e,t),Ea(t,[e])}var zo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Qe=[],Xa=0,cd=0;function Ru(){for(var e=Xa,t=cd=Xa=0;t<e;){var n=Qe[t];Qe[t++]=null;var i=Qe[t];Qe[t++]=null;var a=Qe[t];Qe[t++]=null;var s=Qe[t];if(Qe[t++]=null,i!==null&&a!==null){var r=i.pending;r===null?a.next=a:(a.next=r.next,r.next=a),i.pending=a}s!==0&&k_(n,a,s)}}function Cu(e,t,n,i){Qe[Xa++]=e,Qe[Xa++]=t,Qe[Xa++]=n,Qe[Xa++]=i,cd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function hd(e,t,n,i){return Cu(e,t,n,i),Uo(e)}function Aa(e,t){return Cu(e,null,null,t),Uo(e)}function k_(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var a=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(a=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,a&&t!==null&&(a=31-ke(n),e=s.hiddenUpdates,i=e[a],i===null?e[a]=[t]:i.push(t),t.lane=n|536870912),s):null}function Uo(e){if(50<Vr)throw Vr=0,uf=null,Error(z(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $a={};function m2(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oe(e,t,n,i){return new m2(e,t,n,i)}function fd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function On(e,t){var n=e.alternate;return n===null?(n=Oe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function P_(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function fo(e,t,n,i,a,s){var r=0;if(i=e,typeof e=="function")fd(e)&&(r=1);else if(typeof e=="string")r=vS(e,n,gn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Rh:return e=Oe(31,n,t,a),e.elementType=Rh,e.lanes=s,e;case qa:return sa(n.children,a,s,t);case s_:r=8,a|=24;break;case xh:return e=Oe(12,n,t,a|2),e.elementType=xh,e.lanes=s,e;case wh:return e=Oe(13,n,t,a),e.elementType=wh,e.lanes=s,e;case Nh:return e=Oe(19,n,t,a),e.elementType=Nh,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case In:r=10;break t;case r_:r=9;break t;case Jf:r=11;break t;case Wf:r=14;break t;case ei:r=16,i=null;break t}r=29,n=Error(z(130,e===null?"null":typeof e,"")),i=null}return t=Oe(r,n,t,a),t.elementType=e,t.type=i,t.lanes=s,t}function sa(e,t,n,i){return e=Oe(7,e,i,t),e.lanes=n,e}function Bc(e,t,n){return e=Oe(6,e,null,t),e.lanes=n,e}function B_(e){var t=Oe(18,null,null,0);return t.stateNode=e,t}function qc(e,t,n){return t=Oe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var dp=new WeakMap;function Ze(e,t){if(typeof e=="object"&&e!==null){var n=dp.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Yg(t)},dp.set(e,t),t)}return{value:e,source:t,stack:Yg(t)}}var Za=[],Ja=0,Lo=null,Hr=0,Ke=[],Xe=0,Ni=null,fn=1,dn="";function Cn(e,t){Za[Ja++]=Hr,Za[Ja++]=Lo,Lo=e,Hr=t}function q_(e,t,n){Ke[Xe++]=fn,Ke[Xe++]=dn,Ke[Xe++]=Ni,Ni=e;var i=fn;e=dn;var a=32-ke(i)-1;i&=~(1<<a),n+=1;var s=32-ke(t)+a;if(30<s){var r=a-a%5;s=(i&(1<<r)-1).toString(32),i>>=r,a-=r,fn=1<<32-ke(t)+a|n<<a|i,dn=s+e}else fn=1<<s|n<<a|i,dn=e}function dd(e){e.return!==null&&(Cn(e,1),q_(e,1,0))}function md(e){for(;e===Lo;)Lo=Za[--Ja],Za[Ja]=null,Hr=Za[--Ja],Za[Ja]=null;for(;e===Ni;)Ni=Ke[--Xe],Ke[Xe]=null,dn=Ke[--Xe],Ke[Xe]=null,fn=Ke[--Xe],Ke[Xe]=null}function H_(e,t){Ke[Xe++]=fn,Ke[Xe++]=dn,Ke[Xe++]=Ni,fn=t.id,dn=t.overflow,Ni=e}var le=null,wt=null,lt=!1,mi=null,Je=!1,qh=Error(z(519));function Ri(e){var t=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fr(Ze(t,e)),qh}function mp(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[re]=e,t[Ce]=i,n){case"dialog":nt("cancel",t),nt("close",t);break;case"iframe":case"object":case"embed":nt("load",t);break;case"video":case"audio":for(n=0;n<Kr.length;n++)nt(Kr[n],t);break;case"source":nt("error",t);break;case"img":case"image":case"link":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"input":nt("invalid",t),v_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":nt("invalid",t);break;case"textarea":nt("invalid",t),T_(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||x1(t.textContent,n)?(i.popover!=null&&(nt("beforetoggle",t),nt("toggle",t)),i.onScroll!=null&&nt("scroll",t),i.onScrollEnd!=null&&nt("scrollend",t),i.onClick!=null&&(t.onclick=Vn),t=!0):t=!1,t||Ri(e,!0)}function gp(e){for(le=e.return;le;)switch(le.tag){case 5:case 31:case 13:Je=!1;return;case 27:case 3:Je=!0;return;default:le=le.return}}function Va(e){if(e!==le)return!1;if(!lt)return gp(e),lt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||mf(e.type,e.memoizedProps)),n=!n),n&&wt&&Ri(e),gp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));wt=ey(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));wt=ey(e)}else t===27?(t=wt,ki(e.type)?(e=_f,_f=null,wt=e):wt=t):wt=le?en(e.stateNode.nextSibling):null;return!0}function ha(){wt=le=null,lt=!1}function Hc(){var e=mi;return e!==null&&(xe===null?xe=e:xe.push.apply(xe,e),mi=null),e}function Fr(e){mi===null?mi=[e]:mi.push(e)}var Hh=bn(null),Sa=null,Mn=null;function ii(e,t,n){At(Hh,t._currentValue),t._currentValue=n}function jn(e){e._currentValue=Hh.current,ie(Hh)}function Fh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Gh(e,t,n,i){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){var r=a.child;s=s.firstContext;t:for(;s!==null;){var o=s;s=a;for(var u=0;u<t.length;u++)if(o.context===t[u]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Fh(s.return,n,e),i||(r=null);break t}s=o.next}}else if(a.tag===18){if(r=a.return,r===null)throw Error(z(341));r.lanes|=n,s=r.alternate,s!==null&&(s.lanes|=n),Fh(r,n,e),r=null}else r=a.child;if(r!==null)r.return=a;else for(r=a;r!==null;){if(r===e){r=null;break}if(a=r.sibling,a!==null){a.return=r.return,r=a;break}r=r.return}a=r}}function Is(e,t,n,i){e=null;for(var a=t,s=!1;a!==null;){if(!s){if(a.flags&524288)s=!0;else if(a.flags&262144)break}if(a.tag===10){var r=a.alternate;if(r===null)throw Error(z(387));if(r=r.memoizedProps,r!==null){var o=a.type;qe(a.pendingProps.value,r.value)||(e!==null?e.push(o):e=[o])}}else if(a===Io.current){if(r=a.alternate,r===null)throw Error(z(387));r.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push($r):e=[$r])}a=a.return}e!==null&&Gh(t,e,n,i),t.flags|=262144}function ko(e){for(e=e.firstContext;e!==null;){if(!qe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fa(e){Sa=e,Mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ue(e){return F_(Sa,e)}function Ql(e,t){return Sa===null&&fa(e),F_(e,t)}function F_(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Mn===null){if(e===null)throw Error(z(308));Mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Mn=Mn.next=t;return n}var g2=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},p2=Jt.unstable_scheduleCallback,y2=Jt.unstable_NormalPriority,Ft={$$typeof:In,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new g2,data:new Map,refCount:0}}function ml(e){e.refCount--,e.refCount===0&&p2(y2,function(){e.controller.abort()})}var Sr=null,Qh=0,ds=0,is=null;function _2(e,t){if(Sr===null){var n=Sr=[];Qh=0,ds=Pd(),is={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Qh++,t.then(pp,pp),t}function pp(){if(--Qh===0&&Sr!==null){is!==null&&(is.status="fulfilled");var e=Sr;Sr=null,ds=0,is=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function v2(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var yp=Q.S;Q.S=function(e,t){a1=Ue(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&_2(e,t),yp!==null&&yp(e,t)};var ra=bn(null);function pd(){var e=ra.current;return e!==null?e:Et.pooledCache}function mo(e,t){t===null?At(ra,ra.current):At(ra,t.pool)}function G_(){var e=pd();return e===null?null:{parent:Ft._currentValue,pool:e}}var Vs=Error(z(460)),yd=Error(z(474)),Du=Error(z(542)),Po={then:function(){}};function _p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Q_(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Vn,Vn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ep(e),e;default:if(typeof t.status=="string")t.then(Vn,Vn);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(z(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=i}},function(i){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ep(e),e}throw la=t,Vs}}function Wi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(la=n,Vs):n}}var la=null;function vp(){if(la===null)throw Error(z(459));var e=la;return la=null,e}function Ep(e){if(e===Vs||e===Du)throw Error(z(483))}var as=null,Gr=0;function Yl(e){var t=Gr;return Gr+=1,as===null&&(as=[]),Q_(as,e,t)}function rr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Kl(e,t){throw t.$$typeof===sA?Error(z(525)):(e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Y_(e){function t(S,b){if(e){var N=S.deletions;N===null?(S.deletions=[b],S.flags|=16):N.push(b)}}function n(S,b){if(!e)return null;for(;b!==null;)t(S,b),b=b.sibling;return null}function i(S){for(var b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function a(S,b){return S=On(S,b),S.index=0,S.sibling=null,S}function s(S,b,N){return S.index=N,e?(N=S.alternate,N!==null?(N=N.index,N<b?(S.flags|=67108866,b):N):(S.flags|=67108866,b)):(S.flags|=1048576,b)}function r(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function o(S,b,N,I){return b===null||b.tag!==6?(b=Bc(N,S.mode,I),b.return=S,b):(b=a(b,N),b.return=S,b)}function u(S,b,N,I){var j=N.type;return j===qa?m(S,b,N.props.children,I,N.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ei&&Wi(j)===b.type)?(b=a(b,N.props),rr(b,N),b.return=S,b):(b=fo(N.type,N.key,N.props,null,S.mode,I),rr(b,N),b.return=S,b)}function h(S,b,N,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=qc(N,S.mode,I),b.return=S,b):(b=a(b,N.children||[]),b.return=S,b)}function m(S,b,N,I,j){return b===null||b.tag!==7?(b=sa(N,S.mode,I,j),b.return=S,b):(b=a(b,N),b.return=S,b)}function p(S,b,N){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Bc(""+b,S.mode,N),b.return=S,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pl:return N=fo(b.type,b.key,b.props,null,S.mode,N),rr(N,b),N.return=S,N;case cr:return b=qc(b,S.mode,N),b.return=S,b;case ei:return b=Wi(b),p(S,b,N)}if(hr(b)||ir(b))return b=sa(b,S.mode,N,null),b.return=S,b;if(typeof b.then=="function")return p(S,Yl(b),N);if(b.$$typeof===In)return p(S,Ql(S,b),N);Kl(S,b)}return null}function y(S,b,N,I){var j=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return j!==null?null:o(S,b,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Pl:return N.key===j?u(S,b,N,I):null;case cr:return N.key===j?h(S,b,N,I):null;case ei:return N=Wi(N),y(S,b,N,I)}if(hr(N)||ir(N))return j!==null?null:m(S,b,N,I,null);if(typeof N.then=="function")return y(S,b,Yl(N),I);if(N.$$typeof===In)return y(S,b,Ql(S,N),I);Kl(S,N)}return null}function T(S,b,N,I,j){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return S=S.get(N)||null,o(b,S,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Pl:return S=S.get(I.key===null?N:I.key)||null,u(b,S,I,j);case cr:return S=S.get(I.key===null?N:I.key)||null,h(b,S,I,j);case ei:return I=Wi(I),T(S,b,N,I,j)}if(hr(I)||ir(I))return S=S.get(N)||null,m(b,S,I,j,null);if(typeof I.then=="function")return T(S,b,N,Yl(I),j);if(I.$$typeof===In)return T(S,b,N,Ql(b,I),j);Kl(b,I)}return null}function C(S,b,N,I){for(var j=null,k=null,E=b,g=b=0,v=null;E!==null&&g<N.length;g++){E.index>g?(v=E,E=null):v=E.sibling;var A=y(S,E,N[g],I);if(A===null){E===null&&(E=v);break}e&&E&&A.alternate===null&&t(S,E),b=s(A,b,g),k===null?j=A:k.sibling=A,k=A,E=v}if(g===N.length)return n(S,E),lt&&Cn(S,g),j;if(E===null){for(;g<N.length;g++)E=p(S,N[g],I),E!==null&&(b=s(E,b,g),k===null?j=E:k.sibling=E,k=E);return lt&&Cn(S,g),j}for(E=i(E);g<N.length;g++)v=T(E,S,g,N[g],I),v!==null&&(e&&v.alternate!==null&&E.delete(v.key===null?g:v.key),b=s(v,b,g),k===null?j=v:k.sibling=v,k=v);return e&&E.forEach(function(w){return t(S,w)}),lt&&Cn(S,g),j}function V(S,b,N,I){if(N==null)throw Error(z(151));for(var j=null,k=null,E=b,g=b=0,v=null,A=N.next();E!==null&&!A.done;g++,A=N.next()){E.index>g?(v=E,E=null):v=E.sibling;var w=y(S,E,A.value,I);if(w===null){E===null&&(E=v);break}e&&E&&w.alternate===null&&t(S,E),b=s(w,b,g),k===null?j=w:k.sibling=w,k=w,E=v}if(A.done)return n(S,E),lt&&Cn(S,g),j;if(E===null){for(;!A.done;g++,A=N.next())A=p(S,A.value,I),A!==null&&(b=s(A,b,g),k===null?j=A:k.sibling=A,k=A);return lt&&Cn(S,g),j}for(E=i(E);!A.done;g++,A=N.next())A=T(E,S,g,A.value,I),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?g:A.key),b=s(A,b,g),k===null?j=A:k.sibling=A,k=A);return e&&E.forEach(function(R){return t(S,R)}),lt&&Cn(S,g),j}function M(S,b,N,I){if(typeof N=="object"&&N!==null&&N.type===qa&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Pl:t:{for(var j=N.key;b!==null;){if(b.key===j){if(j=N.type,j===qa){if(b.tag===7){n(S,b.sibling),I=a(b,N.props.children),I.return=S,S=I;break t}}else if(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ei&&Wi(j)===b.type){n(S,b.sibling),I=a(b,N.props),rr(I,N),I.return=S,S=I;break t}n(S,b);break}else t(S,b);b=b.sibling}N.type===qa?(I=sa(N.props.children,S.mode,I,N.key),I.return=S,S=I):(I=fo(N.type,N.key,N.props,null,S.mode,I),rr(I,N),I.return=S,S=I)}return r(S);case cr:t:{for(j=N.key;b!==null;){if(b.key===j)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){n(S,b.sibling),I=a(b,N.children||[]),I.return=S,S=I;break t}else{n(S,b);break}else t(S,b);b=b.sibling}I=qc(N,S.mode,I),I.return=S,S=I}return r(S);case ei:return N=Wi(N),M(S,b,N,I)}if(hr(N))return C(S,b,N,I);if(ir(N)){if(j=ir(N),typeof j!="function")throw Error(z(150));return N=j.call(N),V(S,b,N,I)}if(typeof N.then=="function")return M(S,b,Yl(N),I);if(N.$$typeof===In)return M(S,b,Ql(S,N),I);Kl(S,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,b!==null&&b.tag===6?(n(S,b.sibling),I=a(b,N),I.return=S,S=I):(n(S,b),I=Bc(N,S.mode,I),I.return=S,S=I),r(S)):n(S,b)}return function(S,b,N,I){try{Gr=0;var j=M(S,b,N,I);return as=null,j}catch(E){if(E===Vs||E===Du)throw E;var k=Oe(29,E,null,S.mode);return k.lanes=I,k.return=S,k}finally{}}}var da=Y_(!0),K_=Y_(!1),ni=!1;function _d(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,ht&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=Uo(e),k_(e,null,n),t}return Cu(e,i,t,n),Uo(e)}function xr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,f_(e,n)}}function Fc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?a=s=r:s=s.next=r,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Kh=!1;function wr(){if(Kh){var e=is;if(e!==null)throw e}}function Nr(e,t,n,i){Kh=!1;var a=e.updateQueue;ni=!1;var s=a.firstBaseUpdate,r=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,h=u.next;u.next=null,r===null?s=h:r.next=h,r=u;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==r&&(o===null?m.firstBaseUpdate=h:o.next=h,m.lastBaseUpdate=u))}if(s!==null){var p=a.baseState;r=0,m=h=u=null,o=s;do{var y=o.lane&-536870913,T=y!==o.lane;if(T?(rt&y)===y:(i&y)===y){y!==0&&y===ds&&(Kh=!0),m!==null&&(m=m.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var C=e,V=o;y=t;var M=n;switch(V.tag){case 1:if(C=V.payload,typeof C=="function"){p=C.call(M,p,y);break t}p=C;break t;case 3:C.flags=C.flags&-65537|128;case 0:if(C=V.payload,y=typeof C=="function"?C.call(M,p,y):C,y==null)break t;p=Ct({},p,y);break t;case 2:ni=!0}}y=o.callback,y!==null&&(e.flags|=64,T&&(e.flags|=8192),T=a.callbacks,T===null?a.callbacks=[y]:T.push(y))}else T={lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(h=m=T,u=p):m=m.next=T,r|=y;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;T=o,o=T.next,T.next=null,a.lastBaseUpdate=T,a.shared.pending=null}}while(!0);m===null&&(u=p),a.baseState=u,a.firstBaseUpdate=h,a.lastBaseUpdate=m,s===null&&(a.shared.lanes=0),Di|=r,e.lanes=r,e.memoizedState=p}}function X_(e,t){if(typeof e!="function")throw Error(z(191,e));e.call(t)}function $_(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)X_(n[e],t)}var ms=bn(null),Bo=bn(0);function Tp(e,t){e=Bn,At(Bo,e),At(ms,t),Bn=e|t.baseLanes}function Xh(){At(Bo,Bn),At(ms,ms.current)}function vd(){Bn=Bo.current,ie(ms),ie(Bo)}var He=bn(null),tn=null;function ai(e){var t=e.alternate;At(Ut,Ut.current&1),At(He,e),tn===null&&(t===null||ms.current!==null||t.memoizedState!==null)&&(tn=e)}function $h(e){At(Ut,Ut.current),At(He,e),tn===null&&(tn=e)}function Z_(e){e.tag===22?(At(Ut,Ut.current),At(He,e),tn===null&&(tn=e)):si()}function si(){At(Ut,Ut.current),At(He,He.current)}function Me(e){ie(He),tn===e&&(tn=null),ie(Ut)}var Ut=bn(0);function qo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||pf(n)||yf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ln=0,J=null,yt=null,qt=null,Ho=!1,ss=!1,ma=!1,Fo=0,Qr=0,rs=null,E2=0;function Mt(){throw Error(z(321))}function Ed(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qe(e[n],t[n]))return!1;return!0}function Td(e,t,n,i,a,s){return Ln=s,J=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?Rv:Vd,ma=!1,s=n(i,a),ma=!1,ss&&(s=W_(t,n,i,a)),J_(e),s}function J_(e){Q.H=Yr;var t=yt!==null&&yt.next!==null;if(Ln=0,qt=yt=J=null,Ho=!1,Qr=0,rs=null,t)throw Error(z(300));e===null||Qt||(e=e.dependencies,e!==null&&ko(e)&&(Qt=!0))}function W_(e,t,n,i){J=e;var a=0;do{if(ss&&(rs=null),Qr=0,ss=!1,25<=a)throw Error(z(301));if(a+=1,qt=yt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Q.H=Cv,s=t(n,i)}while(ss);return s}function T2(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?gl(t):t,e=e.useState()[0],(yt!==null?yt.memoizedState:null)!==e&&(J.flags|=1024),t}function bd(){var e=Fo!==0;return Fo=0,e}function Ad(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Sd(e){if(Ho){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ho=!1}Ln=0,qt=yt=J=null,ss=!1,Qr=Fo=0,rs=null}function _e(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?J.memoizedState=qt=e:qt=qt.next=e,qt}function Lt(){if(yt===null){var e=J.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=qt===null?J.memoizedState:qt.next;if(t!==null)qt=t,yt=e;else{if(e===null)throw J.alternate===null?Error(z(467)):Error(z(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},qt===null?J.memoizedState=qt=e:qt=qt.next=e}return qt}function Iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(e){var t=Qr;return Qr+=1,rs===null&&(rs=[]),e=Q_(rs,e,t),t=J,(qt===null?t.memoizedState:qt.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?Rv:Vd),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return gl(e);if(e.$$typeof===In)return ue(e)}throw Error(z(438,String(e)))}function xd(e){var t=null,n=J.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=J.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Iu(),J.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=rA;return t.index++,n}function kn(e,t){return typeof t=="function"?t(e):t}function go(e){var t=Lt();return wd(t,yt,e)}function wd(e,t,n){var i=e.queue;if(i===null)throw Error(z(311));i.lastRenderedReducer=n;var a=e.baseQueue,s=i.pending;if(s!==null){if(a!==null){var r=a.next;a.next=s.next,s.next=r}t.baseQueue=a=s,i.pending=null}if(s=e.baseState,a===null)e.memoizedState=s;else{t=a.next;var o=r=null,u=null,h=t,m=!1;do{var p=h.lane&-536870913;if(p!==h.lane?(rt&p)===p:(Ln&p)===p){var y=h.revertLane;if(y===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),p===ds&&(m=!0);else if((Ln&y)===y){h=h.next,y===ds&&(m=!0);continue}else p={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=p,r=s):u=u.next=p,J.lanes|=y,Di|=y;p=h.action,ma&&n(s,p),s=h.hasEagerState?h.eagerState:n(s,p)}else y={lane:p,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=y,r=s):u=u.next=y,J.lanes|=p,Di|=p;h=h.next}while(h!==null&&h!==t);if(u===null?r=s:u.next=o,!qe(s,e.memoizedState)&&(Qt=!0,m&&(n=is,n!==null)))throw n;e.memoizedState=s,e.baseState=r,e.baseQueue=u,i.lastRenderedState=s}return a===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Gc(e){var t=Lt(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var r=a=a.next;do s=e(s,r.action),r=r.next;while(r!==a);qe(s,t.memoizedState)||(Qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function tv(e,t,n){var i=J,a=Lt(),s=lt;if(s){if(n===void 0)throw Error(z(407));n=n()}else n=t();var r=!qe((yt||a).memoizedState,n);if(r&&(a.memoizedState=n,Qt=!0),a=a.queue,Nd(iv.bind(null,i,a,e),[e]),a.getSnapshot!==t||r||qt!==null&&qt.memoizedState.tag&1){if(i.flags|=2048,gs(9,{destroy:void 0},nv.bind(null,i,a,n,t),null),Et===null)throw Error(z(349));s||Ln&127||ev(i,t,n)}return n}function ev(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=J.updateQueue,t===null?(t=Iu(),J.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function nv(e,t,n,i){t.value=n,t.getSnapshot=i,av(t)&&sv(e)}function iv(e,t,n){return n(function(){av(t)&&sv(e)})}function av(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qe(e,n)}catch{return!0}}function sv(e){var t=Aa(e,2);t!==null&&Re(t,e,2)}function Zh(e){var t=_e();if(typeof e=="function"){var n=e;if(e=n(),ma){li(!0);try{n()}finally{li(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:e},t}function rv(e,t,n,i){return e.baseState=n,wd(e,yt,typeof i=="function"?i:kn)}function b2(e,t,n,i,a){if(Ou(e))throw Error(z(485));if(e=t.action,e!==null){var s={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){s.listeners.push(r)}};Q.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,lv(t,s)):(s.next=n.next,t.pending=n.next=s)}}function lv(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var s=Q.T,r={};Q.T=r;try{var o=n(a,i),u=Q.S;u!==null&&u(r,o),bp(e,t,o)}catch(h){Jh(e,t,h)}finally{s!==null&&r.types!==null&&(s.types=r.types),Q.T=s}}else try{s=n(a,i),bp(e,t,s)}catch(h){Jh(e,t,h)}}function bp(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ap(e,t,i)},function(i){return Jh(e,t,i)}):Ap(e,t,n)}function Ap(e,t,n){t.status="fulfilled",t.value=n,ov(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,lv(e,n)))}function Jh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,ov(t),t=t.next;while(t!==i)}e.action=null}function ov(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function uv(e,t){return t}function Sp(e,t){if(lt){var n=Et.formState;if(n!==null){t:{var i=J;if(lt){if(wt){e:{for(var a=wt,s=Je;a.nodeType!==8;){if(!s){a=null;break e}if(a=en(a.nextSibling),a===null){a=null;break e}}s=a.data,a=s==="F!"||s==="F"?a:null}if(a){wt=en(a.nextSibling),i=a.data==="F!";break t}}Ri(i)}i=!1}i&&(t=n[0])}}return n=_e(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uv,lastRenderedState:t},n.queue=i,n=xv.bind(null,J,i),i.dispatch=n,i=Zh(!1),s=Id.bind(null,J,!1,i.queue),i=_e(),a={state:t,dispatch:null,action:e,pending:null},i.queue=a,n=b2.bind(null,J,a,s,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function xp(e){var t=Lt();return cv(t,yt,e)}function cv(e,t,n){if(t=wd(e,t,uv)[0],e=go(kn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=gl(t)}catch(r){throw r===Vs?Du:r}else i=t;t=Lt();var a=t.queue,s=a.dispatch;return n!==t.memoizedState&&(J.flags|=2048,gs(9,{destroy:void 0},A2.bind(null,a,n),null)),[i,s,e]}function A2(e,t){e.action=t}function wp(e){var t=Lt(),n=yt;if(n!==null)return cv(t,n,e);Lt(),t=t.memoizedState,n=Lt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function gs(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=J.updateQueue,t===null&&(t=Iu(),J.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function hv(){return Lt().memoizedState}function po(e,t,n,i){var a=_e();J.flags|=e,a.memoizedState=gs(1|t,{destroy:void 0},n,i===void 0?null:i)}function Mu(e,t,n,i){var a=Lt();i=i===void 0?null:i;var s=a.memoizedState.inst;yt!==null&&i!==null&&Ed(i,yt.memoizedState.deps)?a.memoizedState=gs(t,s,n,i):(J.flags|=e,a.memoizedState=gs(1|t,s,n,i))}function Np(e,t){po(8390656,8,e,t)}function Nd(e,t){Mu(2048,8,e,t)}function S2(e){J.flags|=4;var t=J.updateQueue;if(t===null)t=Iu(),J.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function fv(e){var t=Lt().memoizedState;return S2({ref:t,nextImpl:e}),function(){if(ht&2)throw Error(z(440));return t.impl.apply(void 0,arguments)}}function dv(e,t){return Mu(4,2,e,t)}function mv(e,t){return Mu(4,4,e,t)}function gv(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pv(e,t,n){n=n!=null?n.concat([e]):null,Mu(4,4,gv.bind(null,t,e),n)}function Rd(){}function yv(e,t){var n=Lt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Ed(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function _v(e,t){var n=Lt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Ed(t,i[1]))return i[0];if(i=e(),ma){li(!0);try{e()}finally{li(!1)}}return n.memoizedState=[i,t],i}function Cd(e,t,n){return n===void 0||Ln&1073741824&&!(rt&261930)?e.memoizedState=t:(e.memoizedState=n,e=r1(),J.lanes|=e,Di|=e,n)}function vv(e,t,n,i){return qe(n,t)?n:ms.current!==null?(e=Cd(e,n,i),qe(e,t)||(Qt=!0),e):!(Ln&42)||Ln&1073741824&&!(rt&261930)?(Qt=!0,e.memoizedState=n):(e=r1(),J.lanes|=e,Di|=e,t)}function Ev(e,t,n,i,a){var s=ft.p;ft.p=s!==0&&8>s?s:8;var r=Q.T,o={};Q.T=o,Id(e,!1,t,n);try{var u=a(),h=Q.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var m=v2(u,i);Rr(e,t,m,Pe(e))}else Rr(e,t,i,Pe(e))}catch(p){Rr(e,t,{then:function(){},status:"rejected",reason:p},Pe())}finally{ft.p=s,r!==null&&o.types!==null&&(r.types=o.types),Q.T=r}}function x2(){}function Wh(e,t,n,i){if(e.tag!==5)throw Error(z(476));var a=Tv(e).queue;Ev(e,a,t,aa,n===null?x2:function(){return bv(e),n(i)})}function Tv(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:aa,baseState:aa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:aa},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function bv(e){var t=Tv(e);t.next===null&&(t=e.alternate.memoizedState),Rr(e,t.next.queue,{},Pe())}function Dd(){return ue($r)}function Av(){return Lt().memoizedState}function Sv(){return Lt().memoizedState}function w2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Pe();e=gi(n);var i=pi(t,e,n);i!==null&&(Re(i,t,n),xr(i,t,n)),t={cache:gd()},e.payload=t;return}t=t.return}}function N2(e,t,n){var i=Pe();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ou(e)?wv(t,n):(n=hd(e,t,n,i),n!==null&&(Re(n,e,i),Nv(n,t,i)))}function xv(e,t,n){var i=Pe();Rr(e,t,n,i)}function Rr(e,t,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ou(e))wv(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var r=t.lastRenderedState,o=s(r,n);if(a.hasEagerState=!0,a.eagerState=o,qe(o,r))return Cu(e,t,a,0),Et===null&&Ru(),!1}catch{}finally{}if(n=hd(e,t,a,i),n!==null)return Re(n,e,i),Nv(n,t,i),!0}return!1}function Id(e,t,n,i){if(i={lane:2,revertLane:Pd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ou(e)){if(t)throw Error(z(479))}else t=hd(e,n,i,2),t!==null&&Re(t,e,2)}function Ou(e){var t=e.alternate;return e===J||t!==null&&t===J}function wv(e,t){ss=Ho=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nv(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,f_(e,n)}}var Yr={readContext:ue,use:Vu,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};Yr.useEffectEvent=Mt;var Rv={readContext:ue,use:Vu,useCallback:function(e,t){return _e().memoizedState=[e,t===void 0?null:t],e},useContext:ue,useEffect:Np,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,po(4194308,4,gv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return po(4194308,4,e,t)},useInsertionEffect:function(e,t){po(4,2,e,t)},useMemo:function(e,t){var n=_e();t=t===void 0?null:t;var i=e();if(ma){li(!0);try{e()}finally{li(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=_e();if(n!==void 0){var a=n(t);if(ma){li(!0);try{n(t)}finally{li(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=N2.bind(null,J,e),[i.memoizedState,e]},useRef:function(e){var t=_e();return e={current:e},t.memoizedState=e},useState:function(e){e=Zh(e);var t=e.queue,n=xv.bind(null,J,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Rd,useDeferredValue:function(e,t){var n=_e();return Cd(n,e,t)},useTransition:function(){var e=Zh(!1);return e=Ev.bind(null,J,e.queue,!0,!1),_e().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=J,a=_e();if(lt){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Et===null)throw Error(z(349));rt&127||ev(i,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Np(iv.bind(null,i,s,e),[e]),i.flags|=2048,gs(9,{destroy:void 0},nv.bind(null,i,s,n,t),null),n},useId:function(){var e=_e(),t=Et.identifierPrefix;if(lt){var n=dn,i=fn;n=(i&~(1<<32-ke(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Fo++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=E2++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Dd,useFormState:Sp,useActionState:Sp,useOptimistic:function(e){var t=_e();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Id.bind(null,J,!0,n),n.dispatch=t,[e,t]},useMemoCache:xd,useCacheRefresh:function(){return _e().memoizedState=w2.bind(null,J)},useEffectEvent:function(e){var t=_e(),n={impl:e};return t.memoizedState=n,function(){if(ht&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},Vd={readContext:ue,use:Vu,useCallback:yv,useContext:ue,useEffect:Nd,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:mv,useMemo:_v,useReducer:go,useRef:hv,useState:function(){return go(kn)},useDebugValue:Rd,useDeferredValue:function(e,t){var n=Lt();return vv(n,yt.memoizedState,e,t)},useTransition:function(){var e=go(kn)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:tv,useId:Av,useHostTransitionStatus:Dd,useFormState:xp,useActionState:xp,useOptimistic:function(e,t){var n=Lt();return rv(n,yt,e,t)},useMemoCache:xd,useCacheRefresh:Sv};Vd.useEffectEvent=fv;var Cv={readContext:ue,use:Vu,useCallback:yv,useContext:ue,useEffect:Nd,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:mv,useMemo:_v,useReducer:Gc,useRef:hv,useState:function(){return Gc(kn)},useDebugValue:Rd,useDeferredValue:function(e,t){var n=Lt();return yt===null?Cd(n,e,t):vv(n,yt.memoizedState,e,t)},useTransition:function(){var e=Gc(kn)[0],t=Lt().memoizedState;return[typeof e=="boolean"?e:gl(e),t]},useSyncExternalStore:tv,useId:Av,useHostTransitionStatus:Dd,useFormState:wp,useActionState:wp,useOptimistic:function(e,t){var n=Lt();return yt!==null?rv(n,yt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:xd,useCacheRefresh:Sv};Cv.useEffectEvent=fv;function Qc(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tf={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Pe(),a=gi(i);a.payload=t,n!=null&&(a.callback=n),t=pi(e,a,i),t!==null&&(Re(t,e,i),xr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Pe(),a=gi(i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=pi(e,a,i),t!==null&&(Re(t,e,i),xr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pe(),i=gi(n);i.tag=2,t!=null&&(i.callback=t),t=pi(e,i,n),t!==null&&(Re(t,e,n),xr(t,e,n))}};function Rp(e,t,n,i,a,s,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,r):t.prototype&&t.prototype.isPureReactComponent?!qr(n,i)||!qr(a,s):!0}function Cp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&tf.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=Ct({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function Dv(e){zo(e)}function Iv(e){console.error(e)}function Vv(e){zo(e)}function Go(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Dp(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function ef(e,t,n){return n=gi(n),n.tag=3,n.payload={element:null},n.callback=function(){Go(e,t)},n}function Mv(e){return e=gi(e),e.tag=3,e}function Ov(e,t,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var s=i.value;e.payload=function(){return a(s)},e.callback=function(){Dp(t,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Dp(t,n,i),typeof a!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function R2(e,t,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Is(t,n,a,!0),n=He.current,n!==null){switch(n.tag){case 31:case 13:return tn===null?$o():n.alternate===null&&Ot===0&&(Ot=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Po?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),ih(e,i,a)),!1;case 22:return n.flags|=65536,i===Po?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),ih(e,i,a)),!1}throw Error(z(435,n.tag))}return ih(e,i,a),$o(),!1}if(lt)return t=He.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==qh&&(e=Error(z(422),{cause:i}),Fr(Ze(e,n)))):(i!==qh&&(t=Error(z(423),{cause:i}),Fr(Ze(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=Ze(i,n),a=ef(e.stateNode,i,a),Fc(e,a),Ot!==4&&(Ot=2)),!1;var s=Error(z(520),{cause:i});if(s=Ze(s,n),Ir===null?Ir=[s]:Ir.push(s),Ot!==4&&(Ot=2),t===null)return!0;i=Ze(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=ef(n.stateNode,i,e),Fc(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(yi===null||!yi.has(s))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Mv(a),Ov(a,e,n,i),Fc(n,a),!1}n=n.return}while(n!==null);return!1}var Md=Error(z(461)),Qt=!1;function ae(e,t,n,i){t.child=e===null?K_(t,null,n,i):da(t,e.child,n,i)}function Ip(e,t,n,i,a){n=n.render;var s=t.ref;if("ref"in i){var r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}else r=i;return fa(t),i=Td(e,t,n,r,s,a),o=bd(),e!==null&&!Qt?(Ad(e,t,a),Pn(e,t,a)):(lt&&o&&dd(t),t.flags|=1,ae(e,t,i,a),t.child)}function Vp(e,t,n,i,a){if(e===null){var s=n.type;return typeof s=="function"&&!fd(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,jv(e,t,s,i,a)):(e=fo(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Od(e,a)){var r=s.memoizedProps;if(n=n.compare,n=n!==null?n:qr,n(r,i)&&e.ref===t.ref)return Pn(e,t,a)}return t.flags|=1,e=On(s,i),e.ref=t.ref,e.return=t,t.child=e}function jv(e,t,n,i,a){if(e!==null){var s=e.memoizedProps;if(qr(s,i)&&e.ref===t.ref)if(Qt=!1,t.pendingProps=i=s,Od(e,a))e.flags&131072&&(Qt=!0);else return t.lanes=e.lanes,Pn(e,t,a)}return nf(e,t,n,i,a)}function zv(e,t,n,i){var a=i.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~s}else i=0,t.child=null;return Mp(e,t,s,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&mo(t,s!==null?s.cachePool:null),s!==null?Tp(t,s):Xh(),Z_(t);else return i=t.lanes=536870912,Mp(e,t,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(mo(t,s.cachePool),Tp(t,s),si(),t.memoizedState=null):(e!==null&&mo(t,null),Xh(),si());return ae(e,t,a,n),t.child}function dr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Mp(e,t,n,i,a){var s=pd();return s=s===null?null:{parent:Ft._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},e!==null&&mo(t,null),Xh(),Z_(t),e!==null&&Is(e,t,i,!0),t.childLanes=a,null}function yo(e,t){return t=Qo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Op(e,t,n){return da(t,e.child,null,n),e=yo(t,t.pendingProps),e.flags|=2,Me(t),t.memoizedState=null,e}function C2(e,t,n){var i=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(lt){if(i.mode==="hidden")return e=yo(t,i),t.lanes=536870912,dr(null,e);if($h(t),(e=wt)?(e=R1(e,Je),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ni!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=B_(e),n.return=t,t.child=n,le=t,wt=null)):e=null,e===null)throw Ri(t);return t.lanes=536870912,null}return yo(t,i)}var s=e.memoizedState;if(s!==null){var r=s.dehydrated;if($h(t),a)if(t.flags&256)t.flags&=-257,t=Op(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(z(558));else if(Qt||Is(e,t,n,!1),a=(n&e.childLanes)!==0,Qt||a){if(i=Et,i!==null&&(r=d_(i,n),r!==0&&r!==s.retryLane))throw s.retryLane=r,Aa(e,r),Re(i,e,r),Md;$o(),t=Op(e,t,n)}else e=s.treeContext,wt=en(r.nextSibling),le=t,lt=!0,mi=null,Je=!1,e!==null&&H_(t,e),t=yo(t,i),t.flags|=4096;return t}return e=On(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _o(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function nf(e,t,n,i,a){return fa(t),n=Td(e,t,n,i,void 0,a),i=bd(),e!==null&&!Qt?(Ad(e,t,a),Pn(e,t,a)):(lt&&i&&dd(t),t.flags|=1,ae(e,t,n,a),t.child)}function jp(e,t,n,i,a,s){return fa(t),t.updateQueue=null,n=W_(t,i,n,a),J_(e),i=bd(),e!==null&&!Qt?(Ad(e,t,s),Pn(e,t,s)):(lt&&i&&dd(t),t.flags|=1,ae(e,t,n,s),t.child)}function zp(e,t,n,i,a){if(fa(t),t.stateNode===null){var s=$a,r=n.contextType;typeof r=="object"&&r!==null&&(s=ue(r)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=tf,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},_d(t),r=n.contextType,s.context=typeof r=="object"&&r!==null?ue(r):$a,s.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Qc(t,n,r,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(r=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),r!==s.state&&tf.enqueueReplaceState(s,s.state,null),Nr(t,i,s,a),wr(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var o=t.memoizedProps,u=ga(n,o);s.props=u;var h=s.context,m=n.contextType;r=$a,typeof m=="object"&&m!==null&&(r=ue(m));var p=n.getDerivedStateFromProps;m=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||h!==r)&&Cp(t,s,i,r),ni=!1;var y=t.memoizedState;s.state=y,Nr(t,i,s,a),wr(),h=t.memoizedState,o||y!==h||ni?(typeof p=="function"&&(Qc(t,n,p,i),h=t.memoizedState),(u=ni||Rp(t,n,u,i,y,h,r))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=r,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Yh(e,t),r=t.memoizedProps,m=ga(n,r),s.props=m,p=t.pendingProps,y=s.context,h=n.contextType,u=$a,typeof h=="object"&&h!==null&&(u=ue(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r!==p||y!==u)&&Cp(t,s,i,u),ni=!1,y=t.memoizedState,s.state=y,Nr(t,i,s,a),wr();var T=t.memoizedState;r!==p||y!==T||ni||e!==null&&e.dependencies!==null&&ko(e.dependencies)?(typeof o=="function"&&(Qc(t,n,o,i),T=t.memoizedState),(m=ni||Rp(t,n,m,i,y,T,u)||e!==null&&e.dependencies!==null&&ko(e.dependencies))?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,T,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,T,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=T),s.props=i,s.state=T,s.context=u,i=m):(typeof s.componentDidUpdate!="function"||r===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,_o(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=da(t,e.child,null,a),t.child=da(t,null,n,a)):ae(e,t,n,a),t.memoizedState=s.state,e=t.child):e=Pn(e,t,a),e}function Up(e,t,n,i){return ha(),t.flags|=256,ae(e,t,n,i),t.child}var Yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kc(e){return{baseLanes:e,cachePool:G_()}}function Xc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=je),e}function Uv(e,t,n){var i=t.pendingProps,a=!1,s=(t.flags&128)!==0,r;if((r=s)||(r=e!==null&&e.memoizedState===null?!1:(Ut.current&2)!==0),r&&(a=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(lt){if(a?ai(t):si(),(e=wt)?(e=R1(e,Je),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ni!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=B_(e),n.return=t,t.child=n,le=t,wt=null)):e=null,e===null)throw Ri(t);return yf(e)?t.lanes=32:t.lanes=536870912,null}var o=i.children;return i=i.fallback,a?(si(),a=t.mode,o=Qo({mode:"hidden",children:o},a),i=sa(i,a,n,null),o.return=t,i.return=t,o.sibling=i,t.child=o,i=t.child,i.memoizedState=Kc(n),i.childLanes=Xc(e,r,n),t.memoizedState=Yc,dr(null,i)):(ai(t),af(t,o))}var u=e.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(s)t.flags&256?(ai(t),t.flags&=-257,t=$c(e,t,n)):t.memoizedState!==null?(si(),t.child=e.child,t.flags|=128,t=null):(si(),o=i.fallback,a=t.mode,i=Qo({mode:"visible",children:i.children},a),o=sa(o,a,n,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,da(t,e.child,null,n),i=t.child,i.memoizedState=Kc(n),i.childLanes=Xc(e,r,n),t.memoizedState=Yc,t=dr(null,i));else if(ai(t),yf(o)){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;r=h,i=Error(z(419)),i.stack="",i.digest=r,Fr({value:i,source:null,stack:null}),t=$c(e,t,n)}else if(Qt||Is(e,t,n,!1),r=(n&e.childLanes)!==0,Qt||r){if(r=Et,r!==null&&(i=d_(r,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Aa(e,i),Re(r,e,i),Md;pf(o)||$o(),t=$c(e,t,n)}else pf(o)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,wt=en(o.nextSibling),le=t,lt=!0,mi=null,Je=!1,e!==null&&H_(t,e),t=af(t,i.children),t.flags|=4096);return t}return a?(si(),o=i.fallback,a=t.mode,u=e.child,h=u.sibling,i=On(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?o=On(h,o):(o=sa(o,a,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,dr(null,i),i=t.child,o=e.child.memoizedState,o===null?o=Kc(n):(a=o.cachePool,a!==null?(u=Ft._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=G_(),o={baseLanes:o.baseLanes|n,cachePool:a}),i.memoizedState=o,i.childLanes=Xc(e,r,n),t.memoizedState=Yc,dr(e.child,i)):(ai(t),n=e.child,e=n.sibling,n=On(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function af(e,t){return t=Qo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Qo(e,t){return e=Oe(22,e,null,t),e.lanes=0,e}function $c(e,t,n){return da(t,e.child,null,n),e=af(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Fh(e.return,t,n)}function Zc(e,t,n,i,a,s){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=a,r.treeForkCount=s)}function Lv(e,t,n){var i=t.pendingProps,a=i.revealOrder,s=i.tail;i=i.children;var r=Ut.current,o=(r&2)!==0;if(o?(r=r&1|2,t.flags|=128):r&=1,At(Ut,r),ae(e,t,i,n),i=lt?Hr:0,!o&&e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lp(e,n,t);else if(e.tag===19)Lp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&qo(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Zc(t,!1,a,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&qo(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Zc(t,!0,n,null,s,i);break;case"together":Zc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Pn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Di|=t.lanes,!(n&t.childLanes))if(e!==null){if(Is(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=On(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=On(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Od(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ko(e)))}function D2(e,t,n){switch(t.tag){case 3:Vo(t,t.stateNode.containerInfo),ii(t,Ft,e.memoizedState.cache),ha();break;case 27:case 5:Ih(t);break;case 4:Vo(t,t.stateNode.containerInfo);break;case 10:ii(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$h(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(ai(t),t.flags|=128,null):n&t.child.childLanes?Uv(e,t,n):(ai(t),e=Pn(e,t,n),e!==null?e.sibling:null);ai(t);break;case 19:var a=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Is(e,t,n,!1),i=(n&t.childLanes)!==0),a){if(i)return Lv(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),At(Ut,Ut.current),i)break;return null;case 22:return t.lanes=0,zv(e,t,n,t.pendingProps);case 24:ii(t,Ft,e.memoizedState.cache)}return Pn(e,t,n)}function kv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qt=!0;else{if(!Od(e,n)&&!(t.flags&128))return Qt=!1,D2(e,t,n);Qt=!!(e.flags&131072)}else Qt=!1,lt&&t.flags&1048576&&q_(t,Hr,t.index);switch(t.lanes=0,t.tag){case 16:t:{var i=t.pendingProps;if(e=Wi(t.elementType),t.type=e,typeof e=="function")fd(e)?(i=ga(e,i),t.tag=1,t=zp(null,t,e,i,n)):(t.tag=0,t=nf(null,t,e,i,n));else{if(e!=null){var a=e.$$typeof;if(a===Jf){t.tag=11,t=Ip(null,t,e,i,n);break t}else if(a===Wf){t.tag=14,t=Vp(null,t,e,i,n);break t}}throw t=Ch(e)||e,Error(z(306,t,""))}}return t;case 0:return nf(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,a=ga(i,t.pendingProps),zp(e,t,i,a,n);case 3:t:{if(Vo(t,t.stateNode.containerInfo),e===null)throw Error(z(387));i=t.pendingProps;var s=t.memoizedState;a=s.element,Yh(e,t),Nr(t,i,null,n);var r=t.memoizedState;if(i=r.cache,ii(t,Ft,i),i!==s.cache&&Gh(t,[Ft],n,!0),wr(),i=r.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Up(e,t,i,n);break t}else if(i!==a){a=Ze(Error(z(424)),t),Fr(a),t=Up(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(wt=en(e.firstChild),le=t,lt=!0,mi=null,Je=!0,n=K_(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ha(),i===a){t=Pn(e,t,n);break t}ae(e,t,i,n)}t=t.child}return t;case 26:return _o(e,t),e===null?(n=ay(t.type,null,t.pendingProps,null))?t.memoizedState=n:lt||(n=t.type,e=t.pendingProps,i=tu(di.current).createElement(n),i[re]=t,i[Ce]=e,ce(i,n,e),ne(i),t.stateNode=i):t.memoizedState=ay(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ih(t),e===null&&lt&&(i=t.stateNode=C1(t.type,t.pendingProps,di.current),le=t,Je=!0,a=wt,ki(t.type)?(_f=a,wt=en(i.firstChild)):wt=a),ae(e,t,t.pendingProps.children,n),_o(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&lt&&((a=i=wt)&&(i=rS(i,t.type,t.pendingProps,Je),i!==null?(t.stateNode=i,le=t,wt=en(i.firstChild),Je=!1,a=!0):a=!1),a||Ri(t)),Ih(t),a=t.type,s=t.pendingProps,r=e!==null?e.memoizedProps:null,i=s.children,mf(a,s)?i=null:r!==null&&mf(a,r)&&(t.flags|=32),t.memoizedState!==null&&(a=Td(e,t,T2,null,null,n),$r._currentValue=a),_o(e,t),ae(e,t,i,n),t.child;case 6:return e===null&&lt&&((e=n=wt)&&(n=lS(n,t.pendingProps,Je),n!==null?(t.stateNode=n,le=t,wt=null,e=!0):e=!1),e||Ri(t)),null;case 13:return Uv(e,t,n);case 4:return Vo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=da(t,null,i,n):ae(e,t,i,n),t.child;case 11:return Ip(e,t,t.type,t.pendingProps,n);case 7:return ae(e,t,t.pendingProps,n),t.child;case 8:return ae(e,t,t.pendingProps.children,n),t.child;case 12:return ae(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,ii(t,t.type,i.value),ae(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,fa(t),a=ue(a),i=i(a),t.flags|=1,ae(e,t,i,n),t.child;case 14:return Vp(e,t,t.type,t.pendingProps,n);case 15:return jv(e,t,t.type,t.pendingProps,n);case 19:return Lv(e,t,n);case 31:return C2(e,t,n);case 22:return zv(e,t,n,t.pendingProps);case 24:return fa(t),i=ue(Ft),e===null?(a=pd(),a===null&&(a=Et,s=gd(),a.pooledCache=s,s.refCount++,s!==null&&(a.pooledCacheLanes|=n),a=s),t.memoizedState={parent:i,cache:a},_d(t),ii(t,Ft,a)):(e.lanes&n&&(Yh(e,t),Nr(t,null,null,n),wr()),a=e.memoizedState,s=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),ii(t,Ft,i)):(i=s.cache,ii(t,Ft,i),i!==a.cache&&Gh(t,[Ft],n,!0))),ae(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(z(156,t.tag))}function xn(e){e.flags|=4}function Jc(e,t,n,i,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(u1())e.flags|=8192;else throw la=Po,yd}else e.flags&=-16777217}function kp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!V1(t))if(u1())e.flags|=8192;else throw la=Po,yd}function Xl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?c_():536870912,e.lanes|=t,ps|=t)}function lr(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function I2(e,t,n){var i=t.pendingProps;switch(md(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return xt(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),jn(Ft),cs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Va(t)?xn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hc())),xt(t),null;case 26:var a=t.type,s=t.memoizedState;return e===null?(xn(t),s!==null?(xt(t),kp(t,s)):(xt(t),Jc(t,a,null,i,n))):s?s!==e.memoizedState?(xn(t),xt(t),kp(t,s)):(xt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&xn(t),xt(t),Jc(t,a,e,i,n)),null;case 27:if(Mo(t),n=di.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(!i){if(t.stateNode===null)throw Error(z(166));return xt(t),null}e=gn.current,Va(t)?mp(t):(e=C1(a,i,n),t.stateNode=e,xn(t))}return xt(t),null;case 5:if(Mo(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(!i){if(t.stateNode===null)throw Error(z(166));return xt(t),null}if(s=gn.current,Va(t))mp(t);else{var r=tu(di.current);switch(s){case 1:s=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:s=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":s=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":s=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":s=r.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?r.createElement(a,{is:i.is}):r.createElement(a)}}s[re]=t,s[Ce]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=s;t:switch(ce(s,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&xn(t)}}return xt(t),Jc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(z(166));if(e=di.current,Va(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,a=le,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}e[re]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||x1(e.nodeValue,n)),e||Ri(t,!0)}else e=tu(e).createTextNode(i),e[re]=t,t.stateNode=e}return xt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Va(t),n!==null){if(e===null){if(!i)throw Error(z(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(557));e[re]=t}else ha(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),e=!1}else n=Hc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Me(t),t):(Me(t),null);if(t.flags&128)throw Error(z(558))}return xt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Va(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(z(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[re]=t}else ha(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xt(t),a=!1}else a=Hc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Me(t),t):(Me(t),null)}return Me(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Xl(t,t.updateQueue),xt(t),null);case 4:return cs(),e===null&&Bd(t.stateNode.containerInfo),xt(t),null;case 10:return jn(t.type),xt(t),null;case 19:if(ie(Ut),i=t.memoizedState,i===null)return xt(t),null;if(a=(t.flags&128)!==0,s=i.rendering,s===null)if(a)lr(i,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=qo(e),s!==null){for(t.flags|=128,lr(i,!1),e=s.updateQueue,t.updateQueue=e,Xl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)P_(n,e),n=n.sibling;return At(Ut,Ut.current&1|2),lt&&Cn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Ue()>Ko&&(t.flags|=128,a=!0,lr(i,!1),t.lanes=4194304)}else{if(!a)if(e=qo(s),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Xl(t,e),lr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!lt)return xt(t),null}else 2*Ue()-i.renderingStartTime>Ko&&n!==536870912&&(t.flags|=128,a=!0,lr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ue(),e.sibling=null,n=Ut.current,At(Ut,a?n&1|2:n&1),lt&&Cn(t,i.treeForkCount),e):(xt(t),null);case 22:case 23:return Me(t),vd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),n=t.updateQueue,n!==null&&Xl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ie(ra),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),jn(Ft),xt(t),null;case 25:return null;case 30:return null}throw Error(z(156,t.tag))}function V2(e,t){switch(md(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jn(Ft),cs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Mo(t),null;case 31:if(t.memoizedState!==null){if(Me(t),t.alternate===null)throw Error(z(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Me(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(Ut),null;case 4:return cs(),null;case 10:return jn(t.type),null;case 22:case 23:return Me(t),vd(),e!==null&&ie(ra),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return jn(Ft),null;case 25:return null;default:return null}}function Pv(e,t){switch(md(t),t.tag){case 3:jn(Ft),cs();break;case 26:case 27:case 5:Mo(t);break;case 4:cs();break;case 31:t.memoizedState!==null&&Me(t);break;case 13:Me(t);break;case 19:ie(Ut);break;case 10:jn(t.type);break;case 22:case 23:Me(t),vd(),e!==null&&ie(ra);break;case 24:jn(Ft)}}function pl(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var s=n.create,r=n.inst;i=s(),r.destroy=i}n=n.next}while(n!==a)}}catch(o){gt(t,t.return,o)}}function Ci(e,t,n){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var s=a.next;i=s;do{if((i.tag&e)===e){var r=i.inst,o=r.destroy;if(o!==void 0){r.destroy=void 0,a=t;var u=n,h=o;try{h()}catch(m){gt(a,u,m)}}}i=i.next}while(i!==s)}}catch(m){gt(t,t.return,m)}}function Bv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{$_(t,n)}catch(i){gt(e,e.return,i)}}}function qv(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){gt(e,t,i)}}function Cr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(a){gt(e,t,a)}}function mn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){gt(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){gt(e,t,a)}else n.current=null}function Hv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){gt(e,e.return,a)}}function Wc(e,t,n){try{var i=e.stateNode;tS(i,e.type,n,t),i[Ce]=t}catch(a){gt(e,e.return,a)}}function Fv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ki(e.type)||e.tag===4}function th(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Fv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ki(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vn));else if(i!==4&&(i===27&&ki(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(sf(e,t,n),e=e.sibling;e!==null;)sf(e,t,n),e=e.sibling}function Yo(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&ki(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Yo(e,t,n),e=e.sibling;e!==null;)Yo(e,t,n),e=e.sibling}function Gv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ce(t,i,n),t[re]=e,t[Ce]=n}catch(s){gt(e,e.return,s)}}var Dn=!1,Ht=!1,eh=!1,Pp=typeof WeakSet=="function"?WeakSet:Set,ee=null;function M2(e,t){if(e=e.containerInfo,ff=au,e=V_(e),ud(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var r=0,o=-1,u=-1,h=0,m=0,p=e,y=null;e:for(;;){for(var T;p!==n||a!==0&&p.nodeType!==3||(o=r+a),p!==s||i!==0&&p.nodeType!==3||(u=r+i),p.nodeType===3&&(r+=p.nodeValue.length),(T=p.firstChild)!==null;)y=p,p=T;for(;;){if(p===e)break e;if(y===n&&++h===a&&(o=r),y===s&&++m===i&&(u=r),(T=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=T}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(df={focusedElem:e,selectionRange:n},au=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){switch(t=ee,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,a=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var C=ga(n.type,a);e=i.getSnapshotBeforeUpdate(C,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(V){gt(n,n.return,V)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)gf(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(z(163))}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}}function Qv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Nn(e,n),i&4&&pl(5,n);break;case 1:if(Nn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){gt(n,n.return,r)}else{var a=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){gt(n,n.return,r)}}i&64&&Bv(n),i&512&&Cr(n,n.return);break;case 3:if(Nn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{$_(e,t)}catch(r){gt(n,n.return,r)}}break;case 27:t===null&&i&4&&Gv(n);case 26:case 5:Nn(e,n),t===null&&i&4&&Hv(n),i&512&&Cr(n,n.return);break;case 12:Nn(e,n);break;case 31:Nn(e,n),i&4&&Xv(e,n);break;case 13:Nn(e,n),i&4&&$v(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=q2.bind(null,n),oS(e,n))));break;case 22:if(i=n.memoizedState!==null||Dn,!i){t=t!==null&&t.memoizedState!==null||Ht,a=Dn;var s=Ht;Dn=i,(Ht=t)&&!s?Rn(e,n,(n.subtreeFlags&8772)!==0):Nn(e,n),Dn=a,Ht=s}break;case 30:break;default:Nn(e,n)}}function Yv(e){var t=e.alternate;t!==null&&(e.alternate=null,Yv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&id(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dt=null,Se=!1;function wn(e,t,n){for(n=n.child;n!==null;)Kv(e,t,n),n=n.sibling}function Kv(e,t,n){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(ul,n)}catch{}switch(n.tag){case 26:Ht||mn(n,t),wn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ht||mn(n,t);var i=Dt,a=Se;ki(n.type)&&(Dt=n.stateNode,Se=!1),wn(e,t,n),Mr(n.stateNode),Dt=i,Se=a;break;case 5:Ht||mn(n,t);case 6:if(i=Dt,a=Se,Dt=null,wn(e,t,n),Dt=i,Se=a,Dt!==null)if(Se)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(n.stateNode)}catch(s){gt(n,t,s)}else try{Dt.removeChild(n.stateNode)}catch(s){gt(n,t,s)}break;case 18:Dt!==null&&(Se?(e=Dt,Wp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Es(e)):Wp(Dt,n.stateNode));break;case 4:i=Dt,a=Se,Dt=n.stateNode.containerInfo,Se=!0,wn(e,t,n),Dt=i,Se=a;break;case 0:case 11:case 14:case 15:Ci(2,n,t),Ht||Ci(4,n,t),wn(e,t,n);break;case 1:Ht||(mn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&qv(n,t,i)),wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:Ht=(i=Ht)||n.memoizedState!==null,wn(e,t,n),Ht=i;break;default:wn(e,t,n)}}function Xv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Es(e)}catch(n){gt(t,t.return,n)}}}function $v(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Es(e)}catch(n){gt(t,t.return,n)}}function O2(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Pp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Pp),t;default:throw Error(z(435,e.tag))}}function $l(e,t){var n=O2(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var a=H2.bind(null,e,i);i.then(a,a)}})}function be(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],s=e,r=t,o=r;t:for(;o!==null;){switch(o.tag){case 27:if(ki(o.type)){Dt=o.stateNode,Se=!1;break t}break;case 5:Dt=o.stateNode,Se=!1;break t;case 3:case 4:Dt=o.stateNode.containerInfo,Se=!0;break t}o=o.return}if(Dt===null)throw Error(z(160));Kv(s,r,a),Dt=null,Se=!1,s=a.alternate,s!==null&&(s.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Zv(t,e),t=t.sibling}var sn=null;function Zv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:be(t,e),Ae(e),i&4&&(Ci(3,e,e.return),pl(3,e),Ci(5,e,e.return));break;case 1:be(t,e),Ae(e),i&512&&(Ht||n===null||mn(n,n.return)),i&64&&Dn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=sn;if(be(t,e),Ae(e),i&512&&(Ht||n===null||mn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;e:switch(i){case"title":s=a.getElementsByTagName("title")[0],(!s||s[fl]||s[re]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=a.createElement(i),a.head.insertBefore(s,a.querySelector("head > title"))),ce(s,i,n),s[re]=e,ne(s),i=s;break t;case"link":var r=ry("link","href",a).get(i+(n.href||""));if(r){for(var o=0;o<r.length;o++)if(s=r[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(o,1);break e}}s=a.createElement(i),ce(s,i,n),a.head.appendChild(s);break;case"meta":if(r=ry("meta","content",a).get(i+(n.content||""))){for(o=0;o<r.length;o++)if(s=r[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(o,1);break e}}s=a.createElement(i),ce(s,i,n),a.head.appendChild(s);break;default:throw Error(z(468,i))}s[re]=e,ne(s),i=s}e.stateNode=i}else ly(a,e.type,e.stateNode);else e.stateNode=sy(a,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?ly(a,e.type,e.stateNode):sy(a,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Wc(e,e.memoizedProps,n.memoizedProps)}break;case 27:be(t,e),Ae(e),i&512&&(Ht||n===null||mn(n,n.return)),n!==null&&i&4&&Wc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(be(t,e),Ae(e),i&512&&(Ht||n===null||mn(n,n.return)),e.flags&32){a=e.stateNode;try{fs(a,"")}catch(C){gt(e,e.return,C)}}i&4&&e.stateNode!=null&&(a=e.memoizedProps,Wc(e,a,n!==null?n.memoizedProps:a)),i&1024&&(eh=!0);break;case 6:if(be(t,e),Ae(e),i&4){if(e.stateNode===null)throw Error(z(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(C){gt(e,e.return,C)}}break;case 3:if(To=null,a=sn,sn=eu(t.containerInfo),be(t,e),sn=a,Ae(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(C){gt(e,e.return,C)}eh&&(eh=!1,Jv(e));break;case 4:i=sn,sn=eu(e.stateNode.containerInfo),be(t,e),Ae(e),sn=i;break;case 12:be(t,e),Ae(e);break;case 31:be(t,e),Ae(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,$l(e,i)));break;case 13:be(t,e),Ae(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ju=Ue()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,$l(e,i)));break;case 22:a=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Dn,m=Ht;if(Dn=h||a,Ht=m||u,be(t,e),Ht=m,Dn=h,Ae(e),i&8192)t:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||u||Dn||Ht||ta(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,a)r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{o=u.stateNode;var p=u.memoizedProps.style,y=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=y==null||typeof y=="boolean"?"":(""+y).trim()}}catch(C){gt(u,u.return,C)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(C){gt(u,u.return,C)}}}else if(t.tag===18){if(n===null){u=t;try{var T=u.stateNode;a?ty(T,!0):ty(u.stateNode,!1)}catch(C){gt(u,u.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,$l(e,n))));break;case 19:be(t,e),Ae(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,$l(e,i)));break;case 30:break;case 21:break;default:be(t,e),Ae(e)}}function Ae(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Fv(i)){n=i;break}i=i.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var a=n.stateNode,s=th(e);Yo(e,s,a);break;case 5:var r=n.stateNode;n.flags&32&&(fs(r,""),n.flags&=-33);var o=th(e);Yo(e,o,r);break;case 3:case 4:var u=n.stateNode.containerInfo,h=th(e);sf(e,h,u);break;default:throw Error(z(161))}}catch(m){gt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Jv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Qv(e,t.alternate,t),t=t.sibling}function ta(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ci(4,t,t.return),ta(t);break;case 1:mn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&qv(t,t.return,n),ta(t);break;case 27:Mr(t.stateNode);case 26:case 5:mn(t,t.return),ta(t);break;case 22:t.memoizedState===null&&ta(t);break;case 30:ta(t);break;default:ta(t)}e=e.sibling}}function Rn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,a=e,s=t,r=s.flags;switch(s.tag){case 0:case 11:case 15:Rn(a,s,n),pl(4,s);break;case 1:if(Rn(a,s,n),i=s,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(h){gt(i,i.return,h)}if(i=s,a=i.updateQueue,a!==null){var o=i.stateNode;try{var u=a.shared.hiddenCallbacks;if(u!==null)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)X_(u[a],o)}catch(h){gt(i,i.return,h)}}n&&r&64&&Bv(s),Cr(s,s.return);break;case 27:Gv(s);case 26:case 5:Rn(a,s,n),n&&i===null&&r&4&&Hv(s),Cr(s,s.return);break;case 12:Rn(a,s,n);break;case 31:Rn(a,s,n),n&&r&4&&Xv(a,s);break;case 13:Rn(a,s,n),n&&r&4&&$v(a,s);break;case 22:s.memoizedState===null&&Rn(a,s,n),Cr(s,s.return);break;case 30:break;default:Rn(a,s,n)}t=t.sibling}}function jd(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ml(n))}function zd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ml(e))}function an(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wv(e,t,n,i),t=t.sibling}function Wv(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:an(e,t,n,i),a&2048&&pl(9,t);break;case 1:an(e,t,n,i);break;case 3:an(e,t,n,i),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ml(e)));break;case 12:if(a&2048){an(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,r=s.id,o=s.onPostCommit;typeof o=="function"&&o(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){gt(t,t.return,u)}}else an(e,t,n,i);break;case 31:an(e,t,n,i);break;case 13:an(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,r=t.alternate,t.memoizedState!==null?s._visibility&2?an(e,t,n,i):Dr(e,t):s._visibility&2?an(e,t,n,i):(s._visibility|=2,za(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),a&2048&&jd(r,t);break;case 24:an(e,t,n,i),a&2048&&zd(t.alternate,t);break;default:an(e,t,n,i)}}function za(e,t,n,i,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,r=t,o=n,u=i,h=r.flags;switch(r.tag){case 0:case 11:case 15:za(s,r,o,u,a),pl(8,r);break;case 23:break;case 22:var m=r.stateNode;r.memoizedState!==null?m._visibility&2?za(s,r,o,u,a):Dr(s,r):(m._visibility|=2,za(s,r,o,u,a)),a&&h&2048&&jd(r.alternate,r);break;case 24:za(s,r,o,u,a),a&&h&2048&&zd(r.alternate,r);break;default:za(s,r,o,u,a)}t=t.sibling}}function Dr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:Dr(n,i),a&2048&&jd(i.alternate,i);break;case 24:Dr(n,i),a&2048&&zd(i.alternate,i);break;default:Dr(n,i)}t=t.sibling}}var mr=8192;function Ma(e,t,n){if(e.subtreeFlags&mr)for(e=e.child;e!==null;)t1(e,t,n),e=e.sibling}function t1(e,t,n){switch(e.tag){case 26:Ma(e,t,n),e.flags&mr&&e.memoizedState!==null&&ES(n,sn,e.memoizedState,e.memoizedProps);break;case 5:Ma(e,t,n);break;case 3:case 4:var i=sn;sn=eu(e.stateNode.containerInfo),Ma(e,t,n),sn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=mr,mr=16777216,Ma(e,t,n),mr=i):Ma(e,t,n));break;default:Ma(e,t,n)}}function e1(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function or(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ee=i,i1(i,e)}e1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)n1(e),e=e.sibling}function n1(e){switch(e.tag){case 0:case 11:case 15:or(e),e.flags&2048&&Ci(9,e,e.return);break;case 3:or(e);break;case 12:or(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,vo(e)):or(e);break;default:or(e)}}function vo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ee=i,i1(i,e)}e1(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ci(8,t,t.return),vo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,vo(t));break;default:vo(t)}e=e.sibling}}function i1(e,t){for(;ee!==null;){var n=ee;switch(n.tag){case 0:case 11:case 15:Ci(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ml(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ee=i;else t:for(n=e;ee!==null;){i=ee;var a=i.sibling,s=i.return;if(Yv(i),i===n){ee=null;break t}if(a!==null){a.return=s,ee=a;break t}ee=s}}}var j2={getCacheForType:function(e){var t=ue(Ft),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ue(Ft).controller.signal}},z2=typeof WeakMap=="function"?WeakMap:Map,ht=0,Et=null,it=null,rt=0,mt=0,Ve=null,ui=!1,Ms=!1,Ud=!1,Bn=0,Ot=0,Di=0,oa=0,Ld=0,je=0,ps=0,Ir=null,xe=null,rf=!1,ju=0,a1=0,Ko=1/0,Xo=null,yi=null,$t=0,_i=null,ys=null,zn=0,lf=0,of=null,s1=null,Vr=0,uf=null;function Pe(){return ht&2&&rt!==0?rt&-rt:Q.T!==null?Pd():m_()}function r1(){if(je===0)if(!(rt&536870912)||lt){var e=ql;ql<<=1,!(ql&3932160)&&(ql=262144),je=e}else je=536870912;return e=He.current,e!==null&&(e.flags|=32),je}function Re(e,t,n){(e===Et&&(mt===2||mt===9)||e.cancelPendingCommit!==null)&&(_s(e,0),ci(e,rt,je,!1)),hl(e,n),(!(ht&2)||e!==Et)&&(e===Et&&(!(ht&2)&&(oa|=n),Ot===4&&ci(e,rt,je,!1)),An(e))}function l1(e,t,n){if(ht&6)throw Error(z(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||cl(e,t),a=i?k2(e,t):nh(e,t,!0),s=i;do{if(a===0){Ms&&!i&&ci(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!U2(n)){a=nh(e,t,!1),s=!1;continue}if(a===2){if(s=t,e.errorRecoveryDisabledLanes&s)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;t:{var o=e;a=Ir;var u=o.current.memoizedState.isDehydrated;if(u&&(_s(o,r).flags|=256),r=nh(o,r,!1),r!==2){if(Ud&&!u){o.errorRecoveryDisabledLanes|=s,oa|=s,a=4;break t}s=xe,xe=a,s!==null&&(xe===null?xe=s:xe.push.apply(xe,s))}a=r}if(s=!1,a!==2)continue}}if(a===1){_s(e,0),ci(e,t,0,!0);break}t:{switch(i=e,s=a,s){case 0:case 1:throw Error(z(345));case 4:if((t&4194048)!==t)break;case 6:ci(i,t,je,!ui);break t;case 2:xe=null;break;case 3:case 5:break;default:throw Error(z(329))}if((t&62914560)===t&&(a=ju+300-Ue(),10<a)){if(ci(i,t,je,!ui),Su(i,0,!0)!==0)break t;zn=t,i.timeoutHandle=N1(Bp.bind(null,i,n,xe,Xo,rf,t,je,oa,ps,ui,s,"Throttled",-0,0),a);break t}Bp(i,n,xe,Xo,rf,t,je,oa,ps,ui,s,null,-0,0)}}break}while(!0);An(e)}function Bp(e,t,n,i,a,s,r,o,u,h,m,p,y,T){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vn},t1(t,s,p);var C=(s&62914560)===s?ju-Ue():(s&4194048)===s?a1-Ue():0;if(C=TS(p,C),C!==null){zn=s,e.cancelPendingCommit=C(Hp.bind(null,e,t,s,n,i,a,r,o,u,m,p,null,y,T)),ci(e,s,r,!h);return}}Hp(e,t,s,n,i,a,r,o,u)}function U2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],s=a.getSnapshot;a=a.value;try{if(!qe(s(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ci(e,t,n,i){t&=~Ld,t&=~oa,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var s=31-ke(a),r=1<<s;i[s]=-1,a&=~r}n!==0&&h_(e,n,t)}function zu(){return ht&6?!0:(yl(0),!1)}function kd(){if(it!==null){if(mt===0)var e=it.return;else e=it,Mn=Sa=null,Sd(e),as=null,Gr=0,e=it;for(;e!==null;)Pv(e.alternate,e),e=e.return;it=null}}function _s(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,iS(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),zn=0,kd(),Et=e,it=n=On(e.current,null),rt=t,mt=0,Ve=null,ui=!1,Ms=cl(e,t),Ud=!1,ps=je=Ld=oa=Di=Ot=0,xe=Ir=null,rf=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var a=31-ke(i),s=1<<a;t|=e[a],i&=~s}return Bn=t,Ru(),n}function o1(e,t){J=null,Q.H=Yr,t===Vs||t===Du?(t=vp(),mt=3):t===yd?(t=vp(),mt=4):mt=t===Md?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ve=t,it===null&&(Ot=1,Go(e,Ze(t,e.current)))}function u1(){var e=He.current;return e===null?!0:(rt&4194048)===rt?tn===null:(rt&62914560)===rt||rt&536870912?e===tn:!1}function c1(){var e=Q.H;return Q.H=Yr,e===null?Yr:e}function h1(){var e=Q.A;return Q.A=j2,e}function $o(){Ot=4,ui||(rt&4194048)!==rt&&He.current!==null||(Ms=!0),!(Di&134217727)&&!(oa&134217727)||Et===null||ci(Et,rt,je,!1)}function nh(e,t,n){var i=ht;ht|=2;var a=c1(),s=h1();(Et!==e||rt!==t)&&(Xo=null,_s(e,t)),t=!1;var r=Ot;t:do try{if(mt!==0&&it!==null){var o=it,u=Ve;switch(mt){case 8:kd(),r=6;break t;case 3:case 2:case 9:case 6:He.current===null&&(t=!0);var h=mt;if(mt=0,Ve=null,Wa(e,o,u,h),n&&Ms){r=0;break t}break;default:h=mt,mt=0,Ve=null,Wa(e,o,u,h)}}L2(),r=Ot;break}catch(m){o1(e,m)}while(!0);return t&&e.shellSuspendCounter++,Mn=Sa=null,ht=i,Q.H=a,Q.A=s,it===null&&(Et=null,rt=0,Ru()),r}function L2(){for(;it!==null;)f1(it)}function k2(e,t){var n=ht;ht|=2;var i=c1(),a=h1();Et!==e||rt!==t?(Xo=null,Ko=Ue()+500,_s(e,t)):Ms=cl(e,t);t:do try{if(mt!==0&&it!==null){t=it;var s=Ve;e:switch(mt){case 1:mt=0,Ve=null,Wa(e,t,s,1);break;case 2:case 9:if(_p(s)){mt=0,Ve=null,qp(t);break}t=function(){mt!==2&&mt!==9||Et!==e||(mt=7),An(e)},s.then(t,t);break t;case 3:mt=7;break t;case 4:mt=5;break t;case 7:_p(s)?(mt=0,Ve=null,qp(t)):(mt=0,Ve=null,Wa(e,t,s,7));break;case 5:var r=null;switch(it.tag){case 26:r=it.memoizedState;case 5:case 27:var o=it;if(r?V1(r):o.stateNode.complete){mt=0,Ve=null;var u=o.sibling;if(u!==null)it=u;else{var h=o.return;h!==null?(it=h,Uu(h)):it=null}break e}}mt=0,Ve=null,Wa(e,t,s,5);break;case 6:mt=0,Ve=null,Wa(e,t,s,6);break;case 8:kd(),Ot=6;break t;default:throw Error(z(462))}}P2();break}catch(m){o1(e,m)}while(!0);return Mn=Sa=null,Q.H=i,Q.A=a,ht=n,it!==null?0:(Et=null,rt=0,Ru(),Ot)}function P2(){for(;it!==null&&!uA();)f1(it)}function f1(e){var t=kv(e.alternate,e,Bn);e.memoizedProps=e.pendingProps,t===null?Uu(e):it=t}function qp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=jp(n,t,t.pendingProps,t.type,void 0,rt);break;case 11:t=jp(n,t,t.pendingProps,t.type.render,t.ref,rt);break;case 5:Sd(t);default:Pv(n,t),t=it=P_(t,Bn),t=kv(n,t,Bn)}e.memoizedProps=e.pendingProps,t===null?Uu(e):it=t}function Wa(e,t,n,i){Mn=Sa=null,Sd(t),as=null,Gr=0;var a=t.return;try{if(R2(e,a,t,n,rt)){Ot=1,Go(e,Ze(n,e.current)),it=null;return}}catch(s){if(a!==null)throw it=a,s;Ot=1,Go(e,Ze(n,e.current)),it=null;return}t.flags&32768?(lt||i===1?e=!0:Ms||rt&536870912?e=!1:(ui=e=!0,(i===2||i===9||i===3||i===6)&&(i=He.current,i!==null&&i.tag===13&&(i.flags|=16384))),d1(t,e)):Uu(t)}function Uu(e){var t=e;do{if(t.flags&32768){d1(t,ui);return}e=t.return;var n=I2(t.alternate,t,Bn);if(n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);Ot===0&&(Ot=5)}function d1(e,t){do{var n=V2(e.alternate,e);if(n!==null){n.flags&=32767,it=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){it=e;return}it=e=n}while(e!==null);Ot=6,it=null}function Hp(e,t,n,i,a,s,r,o,u){e.cancelPendingCommit=null;do Lu();while($t!==0);if(ht&6)throw Error(z(327));if(t!==null){if(t===e.current)throw Error(z(177));if(s=t.lanes|t.childLanes,s|=cd,vA(e,n,s,r,o,u),e===Et&&(it=Et=null,rt=0),ys=t,_i=e,zn=n,lf=s,of=a,s1=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,F2(Oo,function(){return _1(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Q.T,Q.T=null,a=ft.p,ft.p=2,r=ht,ht|=4;try{M2(e,t,n)}finally{ht=r,ft.p=a,Q.T=i}}$t=1,m1(),g1(),p1()}}function m1(){if($t===1){$t=0;var e=_i,t=ys,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Q.T,Q.T=null;var i=ft.p;ft.p=2;var a=ht;ht|=4;try{Zv(t,e);var s=df,r=V_(e.containerInfo),o=s.focusedElem,u=s.selectionRange;if(r!==o&&o&&o.ownerDocument&&I_(o.ownerDocument.documentElement,o)){if(u!==null&&ud(o)){var h=u.start,m=u.end;if(m===void 0&&(m=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(m,o.value.length);else{var p=o.ownerDocument||document,y=p&&p.defaultView||window;if(y.getSelection){var T=y.getSelection(),C=o.textContent.length,V=Math.min(u.start,C),M=u.end===void 0?V:Math.min(u.end,C);!T.extend&&V>M&&(r=M,M=V,V=r);var S=hp(o,V),b=hp(o,M);if(S&&b&&(T.rangeCount!==1||T.anchorNode!==S.node||T.anchorOffset!==S.offset||T.focusNode!==b.node||T.focusOffset!==b.offset)){var N=p.createRange();N.setStart(S.node,S.offset),T.removeAllRanges(),V>M?(T.addRange(N),T.extend(b.node,b.offset)):(N.setEnd(b.node,b.offset),T.addRange(N))}}}}for(p=[],T=o;T=T.parentNode;)T.nodeType===1&&p.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var I=p[o];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}au=!!ff,df=ff=null}finally{ht=a,ft.p=i,Q.T=n}}e.current=t,$t=2}}function g1(){if($t===2){$t=0;var e=_i,t=ys,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Q.T,Q.T=null;var i=ft.p;ft.p=2;var a=ht;ht|=4;try{Qv(e,t.alternate,t)}finally{ht=a,ft.p=i,Q.T=n}}$t=3}}function p1(){if($t===4||$t===3){$t=0,cA();var e=_i,t=ys,n=zn,i=s1;t.subtreeFlags&10256||t.flags&10256?$t=5:($t=0,ys=_i=null,y1(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(yi=null),nd(n),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(ul,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Q.T,a=ft.p,ft.p=2,Q.T=null;try{for(var s=e.onRecoverableError,r=0;r<i.length;r++){var o=i[r];s(o.value,{componentStack:o.stack})}}finally{Q.T=t,ft.p=a}}zn&3&&Lu(),An(e),a=e.pendingLanes,n&261930&&a&42?e===uf?Vr++:(Vr=0,uf=e):Vr=0,yl(0)}}function y1(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ml(t)))}function Lu(){return m1(),g1(),p1(),_1()}function _1(){if($t!==5)return!1;var e=_i,t=lf;lf=0;var n=nd(zn),i=Q.T,a=ft.p;try{ft.p=32>n?32:n,Q.T=null,n=of,of=null;var s=_i,r=zn;if($t=0,ys=_i=null,zn=0,ht&6)throw Error(z(331));var o=ht;if(ht|=4,n1(s.current),Wv(s,s.current,r,n),ht=o,yl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(ul,s)}catch{}return!0}finally{ft.p=a,Q.T=i,y1(e,t)}}function Fp(e,t,n){t=Ze(n,t),t=ef(e.stateNode,t,2),e=pi(e,t,2),e!==null&&(hl(e,2),An(e))}function gt(e,t,n){if(e.tag===3)Fp(e,e,n);else for(;t!==null;){if(t.tag===3){Fp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(yi===null||!yi.has(i))){e=Ze(n,e),n=Mv(2),i=pi(t,n,2),i!==null&&(Ov(n,i,t,e),hl(i,2),An(i));break}}t=t.return}}function ih(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new z2;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(Ud=!0,a.add(n),e=B2.bind(null,e,t,n),t.then(e,e))}function B2(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Et===e&&(rt&n)===n&&(Ot===4||Ot===3&&(rt&62914560)===rt&&300>Ue()-ju?!(ht&2)&&_s(e,0):Ld|=n,ps===rt&&(ps=0)),An(e)}function v1(e,t){t===0&&(t=c_()),e=Aa(e,t),e!==null&&(hl(e,t),An(e))}function q2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),v1(e,n)}function H2(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(z(314))}i!==null&&i.delete(t),v1(e,n)}function F2(e,t){return td(e,t)}var Zo=null,Ua=null,cf=!1,Jo=!1,ah=!1,hi=0;function An(e){e!==Ua&&e.next===null&&(Ua===null?Zo=Ua=e:Ua=Ua.next=e),Jo=!0,cf||(cf=!0,Q2())}function yl(e,t){if(!ah&&Jo){ah=!0;do for(var n=!1,i=Zo;i!==null;){if(e!==0){var a=i.pendingLanes;if(a===0)var s=0;else{var r=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-ke(42|e)+1)-1,s&=a&~(r&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Gp(i,s))}else s=rt,s=Su(i,i===Et?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||cl(i,s)||(n=!0,Gp(i,s));i=i.next}while(n);ah=!1}}function G2(){E1()}function E1(){Jo=cf=!1;var e=0;hi!==0&&nS()&&(e=hi);for(var t=Ue(),n=null,i=Zo;i!==null;){var a=i.next,s=T1(i,t);s===0?(i.next=null,n===null?Zo=a:n.next=a,a===null&&(Ua=n)):(n=i,(e!==0||s&3)&&(Jo=!0)),i=a}$t!==0&&$t!==5||yl(e),hi!==0&&(hi=0)}function T1(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var r=31-ke(s),o=1<<r,u=a[r];u===-1?(!(o&n)||o&i)&&(a[r]=_A(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}if(t=Et,n=rt,n=Su(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(mt===2||mt===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Vc(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||cl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Vc(i),nd(n)){case 2:case 8:n=o_;break;case 32:n=Oo;break;case 268435456:n=u_;break;default:n=Oo}return i=b1.bind(null,e),n=td(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Vc(i),e.callbackPriority=2,e.callbackNode=null,2}function b1(e,t){if($t!==0&&$t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Lu()&&e.callbackNode!==n)return null;var i=rt;return i=Su(e,e===Et?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(l1(e,i,t),T1(e,Ue()),e.callbackNode!=null&&e.callbackNode===n?b1.bind(null,e):null)}function Gp(e,t){if(Lu())return null;l1(e,t,!0)}function Q2(){aS(function(){ht&6?td(l_,G2):E1()})}function Pd(){if(hi===0){var e=ds;e===0&&(e=Bl,Bl<<=1,!(Bl&261888)&&(Bl=256)),hi=e}return hi}function Qp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:uo(""+e)}function Yp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Y2(e,t,n,i,a){if(t==="submit"&&n&&n.stateNode===a){var s=Qp((a[Ce]||null).action),r=i.submitter;r&&(t=(t=r[Ce]||null)?Qp(t.formAction):r.getAttribute("formAction"),t!==null&&(s=t,r=null));var o=new xu("action","action",null,i,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(hi!==0){var u=r?Yp(a,r):new FormData(a);Wh(n,{pending:!0,data:u,method:a.method,action:s},null,u)}}else typeof s=="function"&&(o.preventDefault(),u=r?Yp(a,r):new FormData(a),Wh(n,{pending:!0,data:u,method:a.method,action:s},s,u))},currentTarget:a}]})}}for(var sh=0;sh<Bh.length;sh++){var rh=Bh[sh],K2=rh.toLowerCase(),X2=rh[0].toUpperCase()+rh.slice(1);on(K2,"on"+X2)}on(O_,"onAnimationEnd");on(j_,"onAnimationIteration");on(z_,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(h2,"onTransitionRun");on(f2,"onTransitionStart");on(d2,"onTransitionCancel");on(U_,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kr));function A1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var r=i.length-1;0<=r;r--){var o=i[r],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==s&&a.isPropagationStopped())break t;s=o,a.currentTarget=h;try{s(a)}catch(m){zo(m)}a.currentTarget=null,s=u}else for(r=0;r<i.length;r++){if(o=i[r],u=o.instance,h=o.currentTarget,o=o.listener,u!==s&&a.isPropagationStopped())break t;s=o,a.currentTarget=h;try{s(a)}catch(m){zo(m)}a.currentTarget=null,s=u}}}}function nt(e,t){var n=t[Mh];n===void 0&&(n=t[Mh]=new Set);var i=e+"__bubble";n.has(i)||(S1(t,e,2,!1),n.add(i))}function lh(e,t,n){var i=0;t&&(i|=4),S1(n,e,i,t)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Zl]){e[Zl]=!0,g_.forEach(function(n){n!=="selectionchange"&&($2.has(n)||lh(n,!1,e),lh(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zl]||(t[Zl]=!0,lh("selectionchange",!1,t))}}function S1(e,t,n,i){switch(U1(t)){case 2:var a=SS;break;case 8:a=xS;break;default:a=Gd}n=a.bind(null,t,n,e),a=void 0,!Lh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function oh(e,t,n,i,a){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var o=i.stateNode.containerInfo;if(o===a)break;if(r===4)for(r=i.return;r!==null;){var u=r.tag;if((u===3||u===4)&&r.stateNode.containerInfo===a)return;r=r.return}for(;o!==null;){if(r=Fa(o),r===null)return;if(u=r.tag,u===5||u===6||u===26||u===27){i=s=r;continue t}o=o.parentNode}}i=i.return}A_(function(){var h=s,m=sd(n),p=[];t:{var y=L_.get(e);if(y!==void 0){var T=xu,C=e;switch(e){case"keypress":if(ho(n)===0)break t;case"keydown":case"keyup":T=HA;break;case"focusin":C="focus",T=Uc;break;case"focusout":C="blur",T=Uc;break;case"beforeblur":case"afterblur":T=Uc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=ep;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=IA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=QA;break;case O_:case j_:case z_:T=OA;break;case U_:T=KA;break;case"scroll":case"scrollend":T=CA;break;case"wheel":T=$A;break;case"copy":case"cut":case"paste":T=zA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=ip;break;case"toggle":case"beforetoggle":T=JA}var V=(t&4)!==0,M=!V&&(e==="scroll"||e==="scrollend"),S=V?y!==null?y+"Capture":null:y;V=[];for(var b=h,N;b!==null;){var I=b;if(N=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||N===null||S===null||(I=Pr(b,S),I!=null&&V.push(Xr(b,I,N))),M)break;b=b.return}0<V.length&&(y=new T(y,C,null,n,m),p.push({event:y,listeners:V}))}}if(!(t&7)){t:{if(y=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",y&&n!==Uh&&(C=n.relatedTarget||n.fromElement)&&(Fa(C)||C[Cs]))break t;if((T||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,T?(C=n.relatedTarget||n.toElement,T=h,C=C?Fa(C):null,C!==null&&(M=ol(C),V=C.tag,C!==M||V!==5&&V!==27&&V!==6)&&(C=null)):(T=null,C=h),T!==C)){if(V=ep,I="onMouseLeave",S="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(V=ip,I="onPointerLeave",S="onPointerEnter",b="pointer"),M=T==null?y:fr(T),N=C==null?y:fr(C),y=new V(I,b+"leave",T,n,m),y.target=M,y.relatedTarget=N,I=null,Fa(m)===h&&(V=new V(S,b+"enter",C,n,m),V.target=N,V.relatedTarget=M,I=V),M=I,T&&C)e:{for(V=Z2,S=T,b=C,N=0,I=S;I;I=V(I))N++;I=0;for(var j=b;j;j=V(j))I++;for(;0<N-I;)S=V(S),N--;for(;0<I-N;)b=V(b),I--;for(;N--;){if(S===b||b!==null&&S===b.alternate){V=S;break e}S=V(S),b=V(b)}V=null}else V=null;T!==null&&Kp(p,y,T,V,!1),C!==null&&M!==null&&Kp(p,M,C,V,!0)}}t:{if(y=h?fr(h):window,T=y.nodeName&&y.nodeName.toLowerCase(),T==="select"||T==="input"&&y.type==="file")var k=lp;else if(rp(y))if(C_)k=o2;else{k=r2;var E=s2}else T=y.nodeName,!T||T.toLowerCase()!=="input"||y.type!=="checkbox"&&y.type!=="radio"?h&&ad(h.elementType)&&(k=lp):k=l2;if(k&&(k=k(e,h))){R_(p,k,n,m);break t}E&&E(e,y,h),e==="focusout"&&h&&y.type==="number"&&h.memoizedProps.value!=null&&zh(y,"number",y.value)}switch(E=h?fr(h):window,e){case"focusin":(rp(E)||E.contentEditable==="true")&&(Ya=E,kh=h,Ar=null);break;case"focusout":Ar=kh=Ya=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,fp(p,n,m);break;case"selectionchange":if(c2)break;case"keydown":case"keyup":fp(p,n,m)}var g;if(od)t:{switch(e){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else Qa?w_(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(x_&&n.locale!=="ko"&&(Qa||v!=="onCompositionStart"?v==="onCompositionEnd"&&Qa&&(g=S_()):(oi=m,rd="value"in oi?oi.value:oi.textContent,Qa=!0)),E=Wo(h,v),0<E.length&&(v=new np(v,e,null,n,m),p.push({event:v,listeners:E}),g?v.data=g:(g=N_(n),g!==null&&(v.data=g)))),(g=t2?e2(e,n):n2(e,n))&&(v=Wo(h,"onBeforeInput"),0<v.length&&(E=new np("onBeforeInput","beforeinput",null,n,m),p.push({event:E,listeners:v}),E.data=g)),Y2(p,e,h,n,m)}A1(p,t)})}function Xr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wo(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,s=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||s===null||(a=Pr(e,n),a!=null&&i.unshift(Xr(e,a,s)),a=Pr(e,t),a!=null&&i.push(Xr(e,a,s))),e.tag===3)return i;e=e.return}return[]}function Z2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kp(e,t,n,i,a){for(var s=t._reactName,r=[];n!==null&&n!==i;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===i)break;o!==5&&o!==26&&o!==27||h===null||(u=h,a?(h=Pr(n,s),h!=null&&r.unshift(Xr(n,h,u))):a||(h=Pr(n,s),h!=null&&r.push(Xr(n,h,u)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var J2=/\r\n?/g,W2=/\u0000|\uFFFD/g;function Xp(e){return(typeof e=="string"?e:""+e).replace(J2,`
`).replace(W2,"")}function x1(e,t){return t=Xp(t),Xp(e)===t}function pt(e,t,n,i,a,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||fs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&fs(e,""+i);break;case"className":Fl(e,"class",i);break;case"tabIndex":Fl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(e,n,i);break;case"style":b_(e,i,s);break;case"data":if(t!=="object"){Fl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=uo(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&pt(e,t,"name",a.name,a,null),pt(e,t,"formEncType",a.formEncType,a,null),pt(e,t,"formMethod",a.formMethod,a,null),pt(e,t,"formTarget",a.formTarget,a,null)):(pt(e,t,"encType",a.encType,a,null),pt(e,t,"method",a.method,a,null),pt(e,t,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=uo(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Vn);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=uo(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":nt("beforetoggle",e),nt("toggle",e),oo(e,"popover",i);break;case"xlinkActuate":Sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Sn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Sn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Sn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Sn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":oo(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=NA.get(n)||n,oo(e,n,i))}}function hf(e,t,n,i,a,s){switch(n){case"style":b_(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(z(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(z(60));e.innerHTML=n}}break;case"children":typeof i=="string"?fs(e,i):(typeof i=="number"||typeof i=="bigint")&&fs(e,""+i);break;case"onScroll":i!=null&&nt("scroll",e);break;case"onScrollEnd":i!=null&&nt("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!p_.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),s=e[Ce]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,a),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):oo(e,n,i)}}}function ce(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var i=!1,a=!1,s;for(s in n)if(n.hasOwnProperty(s)){var r=n[s];if(r!=null)switch(s){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:pt(e,t,s,r,n,null)}}a&&pt(e,t,"srcSet",n.srcSet,n,null),i&&pt(e,t,"src",n.src,n,null);return;case"input":nt("invalid",e);var o=s=r=a=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var m=n[i];if(m!=null)switch(i){case"name":a=m;break;case"type":r=m;break;case"checked":u=m;break;case"defaultChecked":h=m;break;case"value":s=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(z(137,t));break;default:pt(e,t,i,m,n,null)}}v_(e,s,o,u,h,r,a,!1);return;case"select":nt("invalid",e),i=r=s=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":s=o;break;case"defaultValue":r=o;break;case"multiple":i=o;default:pt(e,t,a,o,n,null)}t=s,n=r,e.multiple=!!i,t!=null?es(e,!!i,t,!1):n!=null&&es(e,!!i,n,!0);return;case"textarea":nt("invalid",e),s=a=i=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":i=o;break;case"defaultValue":a=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:pt(e,t,r,o,n,null)}T_(e,i,a,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:pt(e,t,u,i,n,null)}return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(i=0;i<Kr.length;i++)nt(Kr[i],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,t));default:pt(e,t,h,i,n,null)}return;default:if(ad(t)){for(m in n)n.hasOwnProperty(m)&&(i=n[m],i!==void 0&&hf(e,t,m,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&pt(e,t,o,i,n,null))}function tS(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,s=null,r=null,o=null,u=null,h=null,m=null;for(T in n){var p=n[T];if(n.hasOwnProperty(T)&&p!=null)switch(T){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(T)||pt(e,t,T,null,i,p)}}for(var y in i){var T=i[y];if(p=n[y],i.hasOwnProperty(y)&&(T!=null||p!=null))switch(y){case"type":s=T;break;case"name":a=T;break;case"checked":h=T;break;case"defaultChecked":m=T;break;case"value":r=T;break;case"defaultValue":o=T;break;case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(z(137,t));break;default:T!==p&&pt(e,t,y,T,i,p)}}jh(e,r,o,u,h,m,s,a);return;case"select":T=r=o=y=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":T=u;default:i.hasOwnProperty(s)||pt(e,t,s,null,i,u)}for(a in i)if(s=i[a],u=n[a],i.hasOwnProperty(a)&&(s!=null||u!=null))switch(a){case"value":y=s;break;case"defaultValue":o=s;break;case"multiple":r=s;default:s!==u&&pt(e,t,a,s,i,u)}t=o,n=r,i=T,y!=null?es(e,!!n,y,!1):!!i!=!!n&&(t!=null?es(e,!!n,t,!0):es(e,!!n,n?[]:"",!1));return;case"textarea":T=y=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:pt(e,t,o,null,i,a)}for(r in i)if(a=i[r],s=n[r],i.hasOwnProperty(r)&&(a!=null||s!=null))switch(r){case"value":y=a;break;case"defaultValue":T=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(z(91));break;default:a!==s&&pt(e,t,r,a,i,s)}E_(e,y,T);return;case"option":for(var C in n)if(y=n[C],n.hasOwnProperty(C)&&y!=null&&!i.hasOwnProperty(C))switch(C){case"selected":e.selected=!1;break;default:pt(e,t,C,null,i,y)}for(u in i)if(y=i[u],T=n[u],i.hasOwnProperty(u)&&y!==T&&(y!=null||T!=null))switch(u){case"selected":e.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:pt(e,t,u,y,i,T)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var V in n)y=n[V],n.hasOwnProperty(V)&&y!=null&&!i.hasOwnProperty(V)&&pt(e,t,V,null,i,y);for(h in i)if(y=i[h],T=n[h],i.hasOwnProperty(h)&&y!==T&&(y!=null||T!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(z(137,t));break;default:pt(e,t,h,y,i,T)}return;default:if(ad(t)){for(var M in n)y=n[M],n.hasOwnProperty(M)&&y!==void 0&&!i.hasOwnProperty(M)&&hf(e,t,M,void 0,i,y);for(m in i)y=i[m],T=n[m],!i.hasOwnProperty(m)||y===T||y===void 0&&T===void 0||hf(e,t,m,y,i,T);return}}for(var S in n)y=n[S],n.hasOwnProperty(S)&&y!=null&&!i.hasOwnProperty(S)&&pt(e,t,S,null,i,y);for(p in i)y=i[p],T=n[p],!i.hasOwnProperty(p)||y===T||y==null&&T==null||pt(e,t,p,y,i,T)}function $p(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],s=a.transferSize,r=a.initiatorType,o=a.duration;if(s&&o&&$p(r)){for(r=0,o=a.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>o)break;var m=u.transferSize,p=u.initiatorType;m&&$p(p)&&(u=u.responseEnd,r+=m*(u<o?1:(o-h)/(u-h)))}if(--i,t+=8*(s+r)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ff=null,df=null;function tu(e){return e.nodeType===9?e:e.ownerDocument}function Zp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w1(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function mf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uh=null;function nS(){var e=window.event;return e&&e.type==="popstate"?e===uh?!1:(uh=e,!0):(uh=null,!1)}var N1=typeof setTimeout=="function"?setTimeout:void 0,iS=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,aS=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(e){return Jp.resolve(null).then(e).catch(sS)}:N1;function sS(e){setTimeout(function(){throw e})}function ki(e){return e==="head"}function Wp(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(a),Es(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Mr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Mr(n);for(var s=n.firstChild;s;){var r=s.nextSibling,o=s.nodeName;s[fl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=r}}else n==="body"&&Mr(e.ownerDocument.body);n=a}while(n);Es(t)}function ty(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function gf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gf(n),id(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function rS(e,t,n,i){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[fl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function lS(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=en(e.nextSibling),e===null))return null;return e}function R1(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=en(e.nextSibling),e===null))return null;return e}function pf(e){return e.data==="$?"||e.data==="$~"}function yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function oS(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var _f=null;function ey(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return en(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function ny(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function C1(e,t,n){switch(t=tu(n),e){case"html":if(e=t.documentElement,!e)throw Error(z(452));return e;case"head":if(e=t.head,!e)throw Error(z(453));return e;case"body":if(e=t.body,!e)throw Error(z(454));return e;default:throw Error(z(451))}}function Mr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);id(e)}var nn=new Map,iy=new Set;function eu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qn=ft.d;ft.d={f:uS,r:cS,D:hS,C:fS,L:dS,m:mS,X:pS,S:gS,M:yS};function uS(){var e=Qn.f(),t=zu();return e||t}function cS(e){var t=Ds(e);t!==null&&t.tag===5&&t.type==="form"?bv(t):Qn.r(e)}var Os=typeof document>"u"?null:document;function D1(e,t,n){var i=Os;if(i&&typeof t=="string"&&t){var a=$e(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),iy.has(a)||(iy.add(a),e={rel:e,crossOrigin:n,href:t},i.querySelector(a)===null&&(t=i.createElement("link"),ce(t,"link",e),ne(t),i.head.appendChild(t)))}}function hS(e){Qn.D(e),D1("dns-prefetch",e,null)}function fS(e,t){Qn.C(e,t),D1("preconnect",e,t)}function dS(e,t,n){Qn.L(e,t,n);var i=Os;if(i&&e&&t){var a='link[rel="preload"][as="'+$e(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+$e(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+$e(n.imageSizes)+'"]')):a+='[href="'+$e(e)+'"]';var s=a;switch(t){case"style":s=vs(e);break;case"script":s=js(e)}nn.has(s)||(e=Ct({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),nn.set(s,e),i.querySelector(a)!==null||t==="style"&&i.querySelector(_l(s))||t==="script"&&i.querySelector(vl(s))||(t=i.createElement("link"),ce(t,"link",e),ne(t),i.head.appendChild(t)))}}function mS(e,t){Qn.m(e,t);var n=Os;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+$e(i)+'"][href="'+$e(e)+'"]',s=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=js(e)}if(!nn.has(s)&&(e=Ct({rel:"modulepreload",href:e},t),nn.set(s,e),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(vl(s)))return}i=n.createElement("link"),ce(i,"link",e),ne(i),n.head.appendChild(i)}}}function gS(e,t,n){Qn.S(e,t,n);var i=Os;if(i&&e){var a=ts(i).hoistableStyles,s=vs(e);t=t||"default";var r=a.get(s);if(!r){var o={loading:0,preload:null};if(r=i.querySelector(_l(s)))o.loading=5;else{e=Ct({rel:"stylesheet",href:e,"data-precedence":t},n),(n=nn.get(s))&&qd(e,n);var u=r=i.createElement("link");ne(u),ce(u,"link",e),u._p=new Promise(function(h,m){u.onload=h,u.onerror=m}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Eo(r,t,i)}r={type:"stylesheet",instance:r,count:1,state:o},a.set(s,r)}}}function pS(e,t){Qn.X(e,t);var n=Os;if(n&&e){var i=ts(n).hoistableScripts,a=js(e),s=i.get(a);s||(s=n.querySelector(vl(a)),s||(e=Ct({src:e,async:!0},t),(t=nn.get(a))&&Hd(e,t),s=n.createElement("script"),ne(s),ce(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(a,s))}}function yS(e,t){Qn.M(e,t);var n=Os;if(n&&e){var i=ts(n).hoistableScripts,a=js(e),s=i.get(a);s||(s=n.querySelector(vl(a)),s||(e=Ct({src:e,async:!0,type:"module"},t),(t=nn.get(a))&&Hd(e,t),s=n.createElement("script"),ne(s),ce(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(a,s))}}function ay(e,t,n,i){var a=(a=di.current)?eu(a):null;if(!a)throw Error(z(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=vs(n.href),n=ts(a).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=vs(n.href);var s=ts(a).hoistableStyles,r=s.get(e);if(r||(a=a.ownerDocument||a,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,r),(s=a.querySelector(_l(e)))&&!s._p&&(r.instance=s,r.state.loading=5),nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},nn.set(e,n),s||_S(a,e,n,r.state))),t&&i===null)throw Error(z(528,""));return r}if(t&&i!==null)throw Error(z(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=js(n),n=ts(a).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,e))}}function vs(e){return'href="'+$e(e)+'"'}function _l(e){return'link[rel="stylesheet"]['+e+"]"}function I1(e){return Ct({},e,{"data-precedence":e.precedence,precedence:null})}function _S(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ce(t,"link",n),ne(t),e.head.appendChild(t))}function js(e){return'[src="'+$e(e)+'"]'}function vl(e){return"script[async]"+e}function sy(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+$e(n.href)+'"]');if(i)return t.instance=i,ne(i),i;var a=Ct({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ne(i),ce(i,"style",a),Eo(i,n.precedence,e),t.instance=i;case"stylesheet":a=vs(n.href);var s=e.querySelector(_l(a));if(s)return t.state.loading|=4,t.instance=s,ne(s),s;i=I1(n),(a=nn.get(a))&&qd(i,a),s=(e.ownerDocument||e).createElement("link"),ne(s);var r=s;return r._p=new Promise(function(o,u){r.onload=o,r.onerror=u}),ce(s,"link",i),t.state.loading|=4,Eo(s,n.precedence,e),t.instance=s;case"script":return s=js(n.src),(a=e.querySelector(vl(s)))?(t.instance=a,ne(a),a):(i=n,(a=nn.get(s))&&(i=Ct({},n),Hd(i,a)),e=e.ownerDocument||e,a=e.createElement("script"),ne(a),ce(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(z(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Eo(i,n.precedence,e));return t.instance}function Eo(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,s=a,r=0;r<i.length;r++){var o=i[r];if(o.dataset.precedence===t)s=o;else if(s!==a)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function qd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Hd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var To=null;function ry(e,t,n){if(To===null){var i=new Map,a=To=new Map;a.set(n,i)}else a=To,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var s=n[a];if(!(s[fl]||s[re]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var r=s.getAttribute(t)||"";r=e+r;var o=i.get(r);o?o.push(s):i.set(r,[s])}}return i}function ly(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function vS(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function V1(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function ES(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=vs(i.href),s=t.querySelector(_l(a));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=nu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,ne(s);return}s=t.ownerDocument||t,i=I1(i),(a=nn.get(a))&&qd(i,a),s=s.createElement("link"),ne(s);var r=s;r._p=new Promise(function(o,u){r.onload=o,r.onerror=u}),ce(s,"link",i),n.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=nu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ch=0;function TS(e,t){return e.stylesheets&&e.count===0&&bo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&bo(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&ch===0&&(ch=62500*eS());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bo(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>ch?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function nu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var iu=null;function bo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,iu=new Map,t.forEach(bS,e),iu=null,nu.call(e))}function bS(e,t){if(!(t.state.loading&4)){var n=iu.get(e);if(n)var i=n.get(null);else{n=new Map,iu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<a.length;s++){var r=a[s];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}a=t.instance,r=a.getAttribute("data-precedence"),s=n.get(r)||i,s===i&&n.set(null,a),n.set(r,a),this.count++,i=nu.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),s?s.parentNode.insertBefore(a,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var $r={$$typeof:In,Provider:null,Consumer:null,_currentValue:aa,_currentValue2:aa,_threadCount:0};function AS(e,t,n,i,a,s,r,o,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mc(0),this.hiddenUpdates=Mc(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=s,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function M1(e,t,n,i,a,s,r,o,u,h,m,p){return e=new AS(e,t,n,r,u,h,m,p,o),t=1,s===!0&&(t|=24),s=Oe(3,null,null,t),e.current=s,s.stateNode=e,t=gd(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},_d(s),e}function O1(e){return e?(e=$a,e):$a}function j1(e,t,n,i,a,s){a=O1(a),i.context===null?i.context=a:i.pendingContext=a,i=gi(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=pi(e,i,t),n!==null&&(Re(n,e,t),xr(n,e,t))}function oy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Fd(e,t){oy(e,t),(e=e.alternate)&&oy(e,t)}function z1(e){if(e.tag===13||e.tag===31){var t=Aa(e,67108864);t!==null&&Re(t,e,67108864),Fd(e,67108864)}}function uy(e){if(e.tag===13||e.tag===31){var t=Pe();t=ed(t);var n=Aa(e,t);n!==null&&Re(n,e,t),Fd(e,t)}}var au=!0;function SS(e,t,n,i){var a=Q.T;Q.T=null;var s=ft.p;try{ft.p=2,Gd(e,t,n,i)}finally{ft.p=s,Q.T=a}}function xS(e,t,n,i){var a=Q.T;Q.T=null;var s=ft.p;try{ft.p=8,Gd(e,t,n,i)}finally{ft.p=s,Q.T=a}}function Gd(e,t,n,i){if(au){var a=vf(i);if(a===null)oh(e,t,i,su,n),cy(e,i);else if(NS(a,e,t,n,i))i.stopPropagation();else if(cy(e,i),t&4&&-1<wS.indexOf(e)){for(;a!==null;){var s=Ds(a);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var r=Ji(s.pendingLanes);if(r!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;r;){var u=1<<31-ke(r);o.entanglements[1]|=u,r&=~u}An(s),!(ht&6)&&(Ko=Ue()+500,yl(0))}}break;case 31:case 13:o=Aa(s,2),o!==null&&Re(o,s,2),zu(),Fd(s,2)}if(s=vf(i),s===null&&oh(e,t,i,su,n),s===a)break;a=s}a!==null&&i.stopPropagation()}else oh(e,t,i,null,n)}}function vf(e){return e=sd(e),Qd(e)}var su=null;function Qd(e){if(su=null,e=Fa(e),e!==null){var t=ol(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=n_(t),e!==null)return e;e=null}else if(n===31){if(e=i_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return su=e,null}function U1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hA()){case l_:return 2;case o_:return 8;case Oo:case fA:return 32;case u_:return 268435456;default:return 32}default:return 32}}var Ef=!1,vi=null,Ei=null,Ti=null,Zr=new Map,Jr=new Map,ri=[],wS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cy(e,t){switch(e){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(t.pointerId)}}function ur(e,t,n,i,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Ds(t),t!==null&&z1(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function NS(e,t,n,i,a){switch(t){case"focusin":return vi=ur(vi,e,t,n,i,a),!0;case"dragenter":return Ei=ur(Ei,e,t,n,i,a),!0;case"mouseover":return Ti=ur(Ti,e,t,n,i,a),!0;case"pointerover":var s=a.pointerId;return Zr.set(s,ur(Zr.get(s)||null,e,t,n,i,a)),!0;case"gotpointercapture":return s=a.pointerId,Jr.set(s,ur(Jr.get(s)||null,e,t,n,i,a)),!0}return!1}function L1(e){var t=Fa(e.target);if(t!==null){var n=ol(t);if(n!==null){if(t=n.tag,t===13){if(t=n_(n),t!==null){e.blockedOn=t,Kg(e.priority,function(){uy(n)});return}}else if(t===31){if(t=i_(n),t!==null){e.blockedOn=t,Kg(e.priority,function(){uy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vf(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Uh=i,n.target.dispatchEvent(i),Uh=null}else return t=Ds(n),t!==null&&z1(t),e.blockedOn=n,!1;t.shift()}return!0}function hy(e,t,n){Ao(e)&&n.delete(t)}function RS(){Ef=!1,vi!==null&&Ao(vi)&&(vi=null),Ei!==null&&Ao(Ei)&&(Ei=null),Ti!==null&&Ao(Ti)&&(Ti=null),Zr.forEach(hy),Jr.forEach(hy)}function Jl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ef||(Ef=!0,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,RS)))}var Wl=null;function fy(e){Wl!==e&&(Wl=e,Jt.unstable_scheduleCallback(Jt.unstable_NormalPriority,function(){Wl===e&&(Wl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if(typeof i!="function"){if(Qd(i||n)===null)continue;break}var s=Ds(n);s!==null&&(e.splice(t,3),t-=3,Wh(s,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function Es(e){function t(u){return Jl(u,e)}vi!==null&&Jl(vi,e),Ei!==null&&Jl(Ei,e),Ti!==null&&Jl(Ti,e),Zr.forEach(t),Jr.forEach(t);for(var n=0;n<ri.length;n++){var i=ri[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)L1(n),n.blockedOn===null&&ri.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],s=n[i+1],r=a[Ce]||null;if(typeof s=="function")r||fy(n);else if(r){var o=null;if(s&&s.hasAttribute("formAction")){if(a=s,r=s[Ce]||null)o=r.formAction;else if(Qd(a)!==null)continue}else o=r.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),fy(n)}}}function k1(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(r){return a=r})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Yd(e){this._internalRoot=e}ku.prototype.render=Yd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));var n=t.current,i=Pe();j1(n,i,e,t,null,null)};ku.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;j1(e.current,2,null,e,null,null),zu(),t[Cs]=null}};function ku(e){this._internalRoot=e}ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=m_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ri.length&&t!==0&&t<ri[n].priority;n++);ri.splice(n,0,e),n===0&&L1(e)}};var dy=t_.version;if(dy!=="19.2.0")throw Error(z(527,dy,"19.2.0"));ft.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=aA(t),e=e!==null?a_(e):null,e=e===null?null:e.stateNode,e};var CS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{ul=to.inject(CS),Le=to}catch{}}bu.createRoot=function(e,t){if(!e_(e))throw Error(z(299));var n=!1,i="",a=Dv,s=Iv,r=Vv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=M1(e,1,!1,null,null,n,i,null,a,s,r,k1),e[Cs]=t.current,Bd(e),new Yd(t)};bu.hydrateRoot=function(e,t,n){if(!e_(e))throw Error(z(299));var i=!1,a="",s=Dv,r=Iv,o=Vv,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=M1(e,1,!0,t,n??null,i,a,u,s,r,o,k1),t.context=O1(null),n=t.current,i=Pe(),i=ed(i),a=gi(i),a.callback=null,pi(n,a,i),n=i,t.current.lanes=n,hl(t,n),An(t),e[Cs]=t.current,Bd(e),new ku(t)};bu.version="19.2.0";function P1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P1)}catch(e){console.error(e)}}P1(),K0.exports=bu;var DS=K0.exports;/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VS=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),my=e=>{const t=VS(e);return t.charAt(0).toUpperCase()+t.slice(1)},B1=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),MS=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=et.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:s,iconNode:r,...o},u)=>et.createElement("svg",{ref:u,...OS,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:B1("lucide",a),...!s&&!MS(o)&&{"aria-hidden":"true"},...o},[...r.map(([h,m])=>et.createElement(h,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(e,t)=>{const n=et.forwardRef(({className:i,...a},s)=>et.createElement(jS,{ref:s,iconNode:t,className:B1(`lucide-${IS(my(e))}`,`lucide-${e}`,i),...a}));return n.displayName=my(e),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],US=jt("calendar",zS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kS=jt("chart-column",LS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],BS=jt("chart-pie",PS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],HS=jt("check",qS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],GS=jt("chevron-down",FS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],YS=jt("chevron-right",QS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],XS=jt("chevron-left",KS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ZS=jt("circle-alert",$S);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],q1=jt("dollar-sign",JS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],H1=jt("download",WS);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ex=jt("eye",tx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Pu=jt("file-text",nx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ax=jt("folder",ix);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],F1=jt("map-pin",sx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],lx=jt("menu",rx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Tf=jt("plus",ox);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],G1=jt("save",ux);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],hx=jt("search",cx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],dx=jt("square-pen",fx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Q1=jt("trash-2",mx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],px=jt("trending-up",gx);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Kd=jt("x",yx),_x=()=>{};var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},vx=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const s=e[n++];t[i++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=e[n++],r=e[n++],o=e[n++],u=((a&7)<<18|(s&63)<<12|(r&63)<<6|o&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],r=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(s&63)<<6|r&63)}}return t.join("")},K1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const s=e[a],r=a+1<e.length,o=r?e[a+1]:0,u=a+2<e.length,h=u?e[a+2]:0,m=s>>2,p=(s&3)<<4|o>>4;let y=(o&15)<<2|h>>6,T=h&63;u||(T=64,r||(y=64)),i.push(n[m],n[p],n[y],n[T])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Y1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):vx(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const s=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0;++a;const h=a<e.length?n[e.charAt(a)]:64;++a;const p=a<e.length?n[e.charAt(a)]:64;if(++a,s==null||o==null||h==null||p==null)throw new Ex;const y=s<<2|o>>4;if(i.push(y),h!==64){const T=o<<4&240|h>>2;if(i.push(T),p!==64){const C=h<<6&192|p;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ex extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tx=function(e){const t=Y1(e);return K1.encodeByteArray(t,!0)},ru=function(e){return Tx(e).replace(/\./g,"")},bx=function(e){try{return K1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=()=>Ax().__FIREBASE_DEFAULTS__,xx=()=>{if(typeof process>"u"||typeof gy>"u")return;const e=gy.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wx=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&bx(e[1]);return t&&JSON.parse(t)},Xd=()=>{try{return _x()||Sx()||xx()||wx()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Nx=e=>{var t,n;return(n=(t=Xd())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},Rx=e=>{const t=Nx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},X1=()=>{var e;return(e=Xd())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dx(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const r={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[ru(JSON.stringify(n)),ru(JSON.stringify(r)),""].join(".")}const Or={};function Vx(){const e={prod:[],emulator:[]};for(const t of Object.keys(Or))Or[t]?e.emulator.push(t):e.prod.push(t);return e}function Mx(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let py=!1;function Ox(e,t){if(typeof window>"u"||typeof document>"u"||!$d(window.location.host)||Or[e]===t||Or[e]||py)return;Or[e]=t;function n(y){return`__firebase__banner__${y}`}const i="__firebase__banner",s=Vx().prod.length>0;function r(){const y=document.getElementById(i);y&&y.remove()}function o(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,T){y.setAttribute("width","24"),y.setAttribute("id",T),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function h(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{py=!0,r()},y}function m(y,T){y.setAttribute("id",T),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=Mx(i),T=n("text"),C=document.getElementById(T)||document.createElement("span"),V=n("learnmore"),M=document.getElementById(V)||document.createElement("a"),S=n("preprendIcon"),b=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const N=y.element;o(N),m(M,V);const I=h();u(b,S),N.append(b,C,M,I),document.body.appendChild(N)}s?(C.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zx(){var t;const e=(t=Xd())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ux(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Lx(){return!zx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $1(){try{return typeof indexedDB=="object"}catch{return!1}}function Z1(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var s;t(((s=a.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}function kx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="FirebaseError";class Pi extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Px,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,s=this.errors[t],r=s?Bx(s,i):"Error",o=`${this.serviceName}: ${r} (${a}).`;return new Pi(a,o,i)}}function Bx(e,t){return e.replace(qx,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const qx=/\{\$([^}]+)}/g;function Wr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const s=e[a],r=t[a];if(yy(s)&&yy(r)){if(!Wr(s,r))return!1}else if(s!==r)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function yy(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=1e3,Fx=2,Gx=4*60*60*1e3,Qx=.5;function _y(e,t=Hx,n=Fx){const i=t*Math.pow(n,e),a=Math.round(Qx*i*(Math.random()-.5)*2);return Math.min(Gx,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(e){return e&&e._delegate?e._delegate:e}class qn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new Cx;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Xx(t))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});i.resolve(s)}catch{}}}}clearInstance(t=ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ea){return this.instances.has(t)}getOptions(t=ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&r.resolve(a)}return a}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&t(s,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Kx(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ea){return this.component?this.component.multipleInstances?t:ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kx(e){return e===ea?void 0:e}function Xx(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Yx(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ut||(ut={}));const Zx={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},Jx=ut.INFO,Wx={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},tw=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=Wx[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zd{constructor(t){this.name=t,this._logLevel=Jx,this._logHandler=tw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Zx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...t),this._logHandler(this,ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...t),this._logHandler(this,ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...t),this._logHandler(this,ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...t),this._logHandler(this,ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...t),this._logHandler(this,ut.ERROR,...t)}}const ew=(e,t)=>t.some(n=>e instanceof n);let vy,Ey;function nw(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iw(){return Ey||(Ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J1=new WeakMap,bf=new WeakMap,W1=new WeakMap,hh=new WeakMap,Jd=new WeakMap;function aw(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",r)},s=()=>{n(bi(e.result)),a()},r=()=>{i(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",r)});return t.then(n=>{n instanceof IDBCursor&&J1.set(n,e)}).catch(()=>{}),Jd.set(t,e),t}function sw(e){if(bf.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",r),e.removeEventListener("abort",r)},s=()=>{n(),a()},r=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",r),e.addEventListener("abort",r)});bf.set(e,t)}let Af={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return bf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||W1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function rw(e){Af=e(Af)}function lw(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(fh(this),t,...n);return W1.set(i,t.sort?t.sort():[t]),bi(i)}:iw().includes(e)?function(...t){return e.apply(fh(this),t),bi(J1.get(this))}:function(...t){return bi(e.apply(fh(this),t))}}function ow(e){return typeof e=="function"?lw(e):(e instanceof IDBTransaction&&sw(e),ew(e,nw())?new Proxy(e,Af):e)}function bi(e){if(e instanceof IDBRequest)return aw(e);if(hh.has(e))return hh.get(e);const t=ow(e);return t!==e&&(hh.set(e,t),Jd.set(t,e)),t}const fh=e=>Jd.get(e);function tE(e,t,{blocked:n,upgrade:i,blocking:a,terminated:s}={}){const r=indexedDB.open(e,t),o=bi(r);return i&&r.addEventListener("upgradeneeded",u=>{i(bi(r.result),u.oldVersion,u.newVersion,bi(r.transaction),u)}),n&&r.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),a&&u.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const uw=["get","getKey","getAll","getAllKeys","count"],cw=["put","add","delete","clear"],dh=new Map;function Ty(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(dh.get(t))return dh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=cw.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||uw.includes(n)))return;const s=async function(r,...o){const u=this.transaction(r,a?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),a&&u.done]))[0]};return dh.set(t,s),s}rw(e=>({...e,get:(t,n,i)=>Ty(t,n)||e.get(t,n,i),has:(t,n)=>!!Ty(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fw(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function fw(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Sf="@firebase/app",by="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Zd("@firebase/app"),dw="@firebase/app-compat",mw="@firebase/analytics-compat",gw="@firebase/analytics",pw="@firebase/app-check-compat",yw="@firebase/app-check",_w="@firebase/auth",vw="@firebase/auth-compat",Ew="@firebase/database",Tw="@firebase/data-connect",bw="@firebase/database-compat",Aw="@firebase/functions",Sw="@firebase/functions-compat",xw="@firebase/installations",ww="@firebase/installations-compat",Nw="@firebase/messaging",Rw="@firebase/messaging-compat",Cw="@firebase/performance",Dw="@firebase/performance-compat",Iw="@firebase/remote-config",Vw="@firebase/remote-config-compat",Mw="@firebase/storage",Ow="@firebase/storage-compat",jw="@firebase/firestore",zw="@firebase/ai",Uw="@firebase/firestore-compat",Lw="firebase",kw="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="[DEFAULT]",Pw={[Sf]:"fire-core",[dw]:"fire-core-compat",[gw]:"fire-analytics",[mw]:"fire-analytics-compat",[yw]:"fire-app-check",[pw]:"fire-app-check-compat",[_w]:"fire-auth",[vw]:"fire-auth-compat",[Ew]:"fire-rtdb",[Tw]:"fire-data-connect",[bw]:"fire-rtdb-compat",[Aw]:"fire-fn",[Sw]:"fire-fn-compat",[xw]:"fire-iid",[ww]:"fire-iid-compat",[Nw]:"fire-fcm",[Rw]:"fire-fcm-compat",[Cw]:"fire-perf",[Dw]:"fire-perf-compat",[Iw]:"fire-rc",[Vw]:"fire-rc-compat",[Mw]:"fire-gcs",[Ow]:"fire-gcs-compat",[jw]:"fire-fst",[Uw]:"fire-fst-compat",[zw]:"fire-vertex","fire-js":"fire-js",[Lw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new Map,Bw=new Map,wf=new Map;function Ay(e,t){try{e.container.addComponent(t)}catch(n){Hn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ii(e){const t=e.name;if(wf.has(t))return Hn.debug(`There were multiple attempts to register component ${t}.`),!1;wf.set(t,e);for(const n of lu.values())Ay(n,e);for(const n of Bw.values())Ay(n,e);return!0}function El(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qw(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new Bu("app","Firebase",Hw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=kw;function eE(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:xf,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Ai.create("bad-app-name",{appName:String(a)});if(n||(n=X1()),!n)throw Ai.create("no-options");const s=lu.get(a);if(s){if(Wr(n,s.options)&&Wr(i,s.config))return s;throw Ai.create("duplicate-app",{appName:a})}const r=new $x(a);for(const u of wf.values())r.addComponent(u);const o=new Fw(n,i,r);return lu.set(a,o),o}function nE(e=xf){const t=lu.get(e);if(!t&&e===xf&&X1())return eE();if(!t)throw Ai.create("no-app",{appName:e});return t}function pn(e,t,n){let i=Pw[e]??e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const r=[`Unable to register library "${i}" with version "${t}":`];a&&r.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&r.push("and"),s&&r.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hn.warn(r.join(" "));return}Ii(new qn(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firebase-heartbeat-database",Yw=1,tl="firebase-heartbeat-store";let mh=null;function iE(){return mh||(mh=tE(Qw,Yw,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(tl)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ai.create("idb-open",{originalErrorMessage:e.message})})),mh}async function Kw(e){try{const n=(await iE()).transaction(tl),i=await n.objectStore(tl).get(aE(e));return await n.done,i}catch(t){if(t instanceof Pi)Hn.warn(t.message);else{const n=Ai.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hn.warn(n.message)}}}async function Sy(e,t){try{const i=(await iE()).transaction(tl,"readwrite");await i.objectStore(tl).put(t,aE(e)),await i.done}catch(n){if(n instanceof Pi)Hn.warn(n.message);else{const i=Ai.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hn.warn(i.message)}}}function aE(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=1024,$w=30;class Zw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ww(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xy();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:a}),this._heartbeatsCache.heartbeats.length>$w){const r=tN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Hn.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xy(),{heartbeatsToSend:i,unsentEntries:a}=Jw(this._heartbeatsCache.heartbeats),s=ru(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Hn.warn(n),""}}}function xy(){return new Date().toISOString().substring(0,10)}function Jw(e,t=Xw){const n=[];let i=e.slice();for(const a of e){const s=n.find(r=>r.agent===a.agent);if(s){if(s.dates.push(a.date),wy(n)>t){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),wy(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Ww{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $1()?Z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function wy(e){return ru(JSON.stringify({version:2,heartbeats:e})).length}function tN(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(e){Ii(new qn("platform-logger",t=>new hw(t),"PRIVATE")),Ii(new qn("heartbeat",t=>new Zw(t),"PRIVATE")),pn(Sf,by,e),pn(Sf,by,"esm2020"),pn("fire-js","")}eN("");var nN="firebase",iN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(nN,iN,"app");const sE="@firebase/installations",Wd="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=1e4,lE=`w:${Wd}`,oE="FIS_v2",aN="https://firebaseinstallations.googleapis.com/v1",sN=60*60*1e3,rN="installations",lN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pa=new Bu(rN,lN,oN);function uE(e){return e instanceof Pi&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE({projectId:e}){return`${aN}/projects/${e}/installations`}function hE(e){return{token:e.token,requestStatus:2,expiresIn:cN(e.expiresIn),creationTime:Date.now()}}async function fE(e,t){const i=(await t.json()).error;return pa.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function dE({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function uN(e,{refreshToken:t}){const n=dE(e);return n.append("Authorization",hN(t)),n}async function mE(e){const t=await e();return t.status>=500&&t.status<600?e():t}function cN(e){return Number(e.replace("s","000"))}function hN(e){return`${oE} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=cE(e),a=dE(e),s=t.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const r={fid:n,authVersion:oE,appId:e.appId,sdkVersion:lE},o={method:"POST",headers:a,body:JSON.stringify(r)},u=await mE(()=>fetch(i,o));if(u.ok){const h=await u.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:hE(h.authToken)}}else throw await fE("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^[cdef][\w-]{21}$/,Nf="";function gN(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=pN(e);return mN.test(n)?n:Nf}catch{return Nf}}function pN(e){return dN(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;function yE(e,t){const n=qu(e);_E(n,t),yN(n,t)}function _E(e,t){const n=pE.get(e);if(n)for(const i of n)i(t)}function yN(e,t){const n=_N();n&&n.postMessage({key:e,fid:t}),vN()}let na=null;function _N(){return!na&&"BroadcastChannel"in self&&(na=new BroadcastChannel("[Firebase] FID Change"),na.onmessage=e=>{_E(e.data.key,e.data.fid)}),na}function vN(){pE.size===0&&na&&(na.close(),na=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="firebase-installations-database",TN=1,ya="firebase-installations-store";let gh=null;function tm(){return gh||(gh=tE(EN,TN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ya)}}})),gh}async function ou(e,t){const n=qu(e),a=(await tm()).transaction(ya,"readwrite"),s=a.objectStore(ya),r=await s.get(n);return await s.put(t,n),await a.done,(!r||r.fid!==t.fid)&&yE(e,t.fid),t}async function vE(e){const t=qu(e),i=(await tm()).transaction(ya,"readwrite");await i.objectStore(ya).delete(t),await i.done}async function Hu(e,t){const n=qu(e),a=(await tm()).transaction(ya,"readwrite"),s=a.objectStore(ya),r=await s.get(n),o=t(r);return o===void 0?await s.delete(n):await s.put(o,n),await a.done,o&&(!r||r.fid!==o.fid)&&yE(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function em(e){let t;const n=await Hu(e.appConfig,i=>{const a=bN(i),s=AN(e,a);return t=s.registrationPromise,s.installationEntry});return n.fid===Nf?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function bN(e){const t=e||{fid:gN(),registrationStatus:0};return EE(t)}function AN(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(pa.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=SN(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:xN(e)}:{installationEntry:t}}async function SN(e,t){try{const n=await fN(e,t);return ou(e.appConfig,n)}catch(n){throw uE(n)&&n.customData.serverCode===409?await vE(e.appConfig):await ou(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function xN(e){let t=await Ny(e.appConfig);for(;t.registrationStatus===1;)await gE(100),t=await Ny(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await em(e);return i||n}return t}function Ny(e){return Hu(e,t=>{if(!t)throw pa.create("installation-not-found");return EE(t)})}function EE(e){return wN(e)?{fid:e.fid,registrationStatus:0}:e}function wN(e){return e.registrationStatus===1&&e.registrationTime+rE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN({appConfig:e,heartbeatServiceProvider:t},n){const i=RN(e,n),a=uN(e,n),s=t.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const r={installation:{sdkVersion:lE,appId:e.appId}},o={method:"POST",headers:a,body:JSON.stringify(r)},u=await mE(()=>fetch(i,o));if(u.ok){const h=await u.json();return hE(h)}else throw await fE("Generate Auth Token",u)}function RN(e,{fid:t}){return`${cE(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(e,t=!1){let n;const i=await Hu(e.appConfig,s=>{if(!TE(s))throw pa.create("not-registered");const r=s.authToken;if(!t&&IN(r))return s;if(r.requestStatus===1)return n=CN(e,t),s;{if(!navigator.onLine)throw pa.create("app-offline");const o=MN(s);return n=DN(e,o),o}});return n?await n:i.authToken}async function CN(e,t){let n=await Ry(e.appConfig);for(;n.authToken.requestStatus===1;)await gE(100),n=await Ry(e.appConfig);const i=n.authToken;return i.requestStatus===0?nm(e,t):i}function Ry(e){return Hu(e,t=>{if(!TE(t))throw pa.create("not-registered");const n=t.authToken;return ON(n)?{...t,authToken:{requestStatus:0}}:t})}async function DN(e,t){try{const n=await NN(e,t),i={...t,authToken:n};return await ou(e.appConfig,i),n}catch(n){if(uE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await vE(e.appConfig);else{const i={...t,authToken:{requestStatus:0}};await ou(e.appConfig,i)}throw n}}function TE(e){return e!==void 0&&e.registrationStatus===2}function IN(e){return e.requestStatus===2&&!VN(e)}function VN(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+sN}function MN(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function ON(e){return e.requestStatus===1&&e.requestTime+rE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(e){const t=e,{installationEntry:n,registrationPromise:i}=await em(t);return i?i.catch(console.error):nm(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(e,t=!1){const n=e;return await UN(n),(await nm(n,t)).token}async function UN(e){const{registrationPromise:t}=await em(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(e){if(!e||!e.options)throw ph("App Configuration");if(!e.name)throw ph("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ph(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function ph(e){return pa.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="installations",kN="installations-internal",PN=e=>{const t=e.getProvider("app").getImmediate(),n=LN(t),i=El(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},BN=e=>{const t=e.getProvider("app").getImmediate(),n=El(t,bE).getImmediate();return{getId:()=>jN(n),getToken:a=>zN(n,a)}};function qN(){Ii(new qn(bE,PN,"PUBLIC")),Ii(new qn(kN,BN,"PRIVATE"))}qN();pn(sE,Wd);pn(sE,Wd,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu="analytics",HN="firebase_id",FN="origin",GN=60*1e3,QN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",im="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee=new Zd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Be=new Bu("analytics","Analytics",YN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(e){if(!e.startsWith(im)){const t=Be.create("invalid-gtag-resource",{gtagURL:e});return Ee.warn(t.message),""}return e}function AE(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function XN(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function $N(e,t){const n=XN("firebase-js-sdk-policy",{createScriptURL:KN}),i=document.createElement("script"),a=`${im}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function ZN(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function JN(e,t,n,i,a,s){const r=i[a];try{if(r)await t[r];else{const u=(await AE(n)).find(h=>h.measurementId===a);u&&await t[u.appId]}}catch(o){Ee.error(o)}e("config",a,s)}async function WN(e,t,n,i,a){try{let s=[];if(a&&a.send_to){let r=a.send_to;Array.isArray(r)||(r=[r]);const o=await AE(n);for(const u of r){const h=o.find(p=>p.measurementId===u),m=h&&t[h.appId];if(m)s.push(m);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",i,a||{})}catch(s){Ee.error(s)}}function tR(e,t,n,i){async function a(s,...r){try{if(s==="event"){const[o,u]=r;await WN(e,t,n,o,u)}else if(s==="config"){const[o,u]=r;await JN(e,t,n,i,o,u)}else if(s==="consent"){const[o,u]=r;e("consent",o,u)}else if(s==="get"){const[o,u,h]=r;e("get",o,u,h)}else if(s==="set"){const[o]=r;e("set",o)}else e(s,...r)}catch(o){Ee.error(o)}}return a}function eR(e,t,n,i,a){let s=function(...r){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(s=window[a]),window[a]=tR(s,e,t,n),{gtagCore:s,wrappedGtag:window[a]}}function nR(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(im)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=30,aR=1e3;class sR{constructor(t={},n=aR){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const SE=new sR;function rR(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function lR(e){var r;const{appId:t,apiKey:n}=e,i={method:"GET",headers:rR(n)},a=QN.replace("{app-id}",t),s=await fetch(a,i);if(s.status!==200&&s.status!==304){let o="";try{const u=await s.json();(r=u.error)!=null&&r.message&&(o=u.error.message)}catch{}throw Be.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function oR(e,t=SE,n){const{appId:i,apiKey:a,measurementId:s}=e.options;if(!i)throw Be.create("no-app-id");if(!a){if(s)return{measurementId:s,appId:i};throw Be.create("no-api-key")}const r=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new hR;return setTimeout(async()=>{o.abort()},GN),xE({appId:i,apiKey:a,measurementId:s},r,o,t)}async function xE(e,{throttleEndTimeMillis:t,backoffCount:n},i,a=SE){var o;const{appId:s,measurementId:r}=e;try{await uR(i,t)}catch(u){if(r)return Ee.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${r} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:r};throw u}try{const u=await lR(e);return a.deleteThrottleMetadata(s),u}catch(u){const h=u;if(!cR(h)){if(a.deleteThrottleMetadata(s),r)return Ee.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${r} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:s,measurementId:r};throw u}const m=Number((o=h==null?void 0:h.customData)==null?void 0:o.httpStatus)===503?_y(n,a.intervalMillis,iR):_y(n,a.intervalMillis),p={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return a.setThrottleMetadata(s,p),Ee.debug(`Calling attemptFetch again in ${m} millis`),xE(e,p,i,a)}}function uR(e,t){return new Promise((n,i)=>{const a=Math.max(t-Date.now(),0),s=setTimeout(n,a);e.addEventListener(()=>{clearTimeout(s),i(Be.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function cR(e){if(!(e instanceof Pi)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class hR{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function fR(e,t,n,i,a){if(a&&a.global){e("event",n,i);return}else{const s=await t,r={...i,send_to:s};e("event",n,r)}}async function dR(e,t,n,i){if(i&&i.global){const a={};for(const s of Object.keys(n))a[`user_properties.${s}`]=n[s];return e("set",a),Promise.resolve()}else{const a=await t;e("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(){if($1())try{await Z1()}catch(e){return Ee.warn(Be.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ee.warn(Be.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gR(e,t,n,i,a,s,r){const o=oR(e);o.then(y=>{n[y.measurementId]=y.appId,e.options.measurementId&&y.measurementId!==e.options.measurementId&&Ee.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Ee.error(y)),t.push(o);const u=mR().then(y=>{if(y)return i.getId()}),[h,m]=await Promise.all([o,u]);nR(s)||$N(s,h.measurementId),a("js",new Date);const p=(r==null?void 0:r.config)??{};return p[FN]="firebase",p.update=!0,m!=null&&(p[HN]=m),a("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.app=t}_delete(){return delete ls[this.app.options.appId],Promise.resolve()}}let ls={},Cy=[];const Dy={};let yh="dataLayer",yR="gtag",Iy,am,Vy=!1;function _R(){const e=[];if(Ux()&&e.push("This is a browser extension environment."),kx()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=Be.create("invalid-analytics-context",{errorInfo:t});Ee.warn(n.message)}}function vR(e,t,n){_R();const i=e.options.appId;if(!i)throw Be.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ee.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Be.create("no-api-key");if(ls[i]!=null)throw Be.create("already-exists",{id:i});if(!Vy){ZN(yh);const{wrappedGtag:s,gtagCore:r}=eR(ls,Cy,Dy,yh,yR);am=s,Iy=r,Vy=!0}return ls[i]=gR(e,Cy,Dy,t,Iy,yh,n),new pR(e)}function ER(e=nE()){e=Fe(e);const t=El(e,uu);return t.isInitialized()?t.getImmediate():TR(e)}function TR(e,t={}){const n=El(e,uu);if(n.isInitialized()){const a=n.getImmediate();if(Wr(t,n.getOptions()))return a;throw Be.create("already-initialized")}return n.initialize({options:t})}function bR(e,t,n){e=Fe(e),dR(am,ls[e.app.options.appId],t,n).catch(i=>Ee.error(i))}function AR(e,t,n,i){e=Fe(e),fR(am,ls[e.app.options.appId],t,n,i).catch(a=>Ee.error(a))}const My="@firebase/analytics",Oy="0.10.19";function SR(){Ii(new qn(uu,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return vR(i,a,n)},"PUBLIC")),Ii(new qn("analytics-internal",e,"PRIVATE")),pn(My,Oy),pn(My,Oy,"esm2020");function e(t){try{const n=t.getProvider(uu).getImmediate();return{logEvent:(i,a,s)=>AR(n,i,a,s),setUserProperties:(i,a)=>bR(n,i,a)}}catch(n){throw Be.create("interop-component-reg-failed",{reason:n})}}}SR();var jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Si,wE;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,g){function v(){}v.prototype=g.prototype,E.F=g.prototype,E.prototype=new v,E.prototype.constructor=E,E.D=function(A,w,R){for(var x=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)x[tt-2]=arguments[tt];return g.prototype[w].apply(A,x)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(E,g,v){v||(v=0);const A=Array(16);if(typeof g=="string")for(var w=0;w<16;++w)A[w]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(w=0;w<16;++w)A[w]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=E.g[0],v=E.g[1],w=E.g[2];let R=E.g[3],x;x=g+(R^v&(w^R))+A[0]+3614090360&4294967295,g=v+(x<<7&4294967295|x>>>25),x=R+(w^g&(v^w))+A[1]+3905402710&4294967295,R=g+(x<<12&4294967295|x>>>20),x=w+(v^R&(g^v))+A[2]+606105819&4294967295,w=R+(x<<17&4294967295|x>>>15),x=v+(g^w&(R^g))+A[3]+3250441966&4294967295,v=w+(x<<22&4294967295|x>>>10),x=g+(R^v&(w^R))+A[4]+4118548399&4294967295,g=v+(x<<7&4294967295|x>>>25),x=R+(w^g&(v^w))+A[5]+1200080426&4294967295,R=g+(x<<12&4294967295|x>>>20),x=w+(v^R&(g^v))+A[6]+2821735955&4294967295,w=R+(x<<17&4294967295|x>>>15),x=v+(g^w&(R^g))+A[7]+4249261313&4294967295,v=w+(x<<22&4294967295|x>>>10),x=g+(R^v&(w^R))+A[8]+1770035416&4294967295,g=v+(x<<7&4294967295|x>>>25),x=R+(w^g&(v^w))+A[9]+2336552879&4294967295,R=g+(x<<12&4294967295|x>>>20),x=w+(v^R&(g^v))+A[10]+4294925233&4294967295,w=R+(x<<17&4294967295|x>>>15),x=v+(g^w&(R^g))+A[11]+2304563134&4294967295,v=w+(x<<22&4294967295|x>>>10),x=g+(R^v&(w^R))+A[12]+1804603682&4294967295,g=v+(x<<7&4294967295|x>>>25),x=R+(w^g&(v^w))+A[13]+4254626195&4294967295,R=g+(x<<12&4294967295|x>>>20),x=w+(v^R&(g^v))+A[14]+2792965006&4294967295,w=R+(x<<17&4294967295|x>>>15),x=v+(g^w&(R^g))+A[15]+1236535329&4294967295,v=w+(x<<22&4294967295|x>>>10),x=g+(w^R&(v^w))+A[1]+4129170786&4294967295,g=v+(x<<5&4294967295|x>>>27),x=R+(v^w&(g^v))+A[6]+3225465664&4294967295,R=g+(x<<9&4294967295|x>>>23),x=w+(g^v&(R^g))+A[11]+643717713&4294967295,w=R+(x<<14&4294967295|x>>>18),x=v+(R^g&(w^R))+A[0]+3921069994&4294967295,v=w+(x<<20&4294967295|x>>>12),x=g+(w^R&(v^w))+A[5]+3593408605&4294967295,g=v+(x<<5&4294967295|x>>>27),x=R+(v^w&(g^v))+A[10]+38016083&4294967295,R=g+(x<<9&4294967295|x>>>23),x=w+(g^v&(R^g))+A[15]+3634488961&4294967295,w=R+(x<<14&4294967295|x>>>18),x=v+(R^g&(w^R))+A[4]+3889429448&4294967295,v=w+(x<<20&4294967295|x>>>12),x=g+(w^R&(v^w))+A[9]+568446438&4294967295,g=v+(x<<5&4294967295|x>>>27),x=R+(v^w&(g^v))+A[14]+3275163606&4294967295,R=g+(x<<9&4294967295|x>>>23),x=w+(g^v&(R^g))+A[3]+4107603335&4294967295,w=R+(x<<14&4294967295|x>>>18),x=v+(R^g&(w^R))+A[8]+1163531501&4294967295,v=w+(x<<20&4294967295|x>>>12),x=g+(w^R&(v^w))+A[13]+2850285829&4294967295,g=v+(x<<5&4294967295|x>>>27),x=R+(v^w&(g^v))+A[2]+4243563512&4294967295,R=g+(x<<9&4294967295|x>>>23),x=w+(g^v&(R^g))+A[7]+1735328473&4294967295,w=R+(x<<14&4294967295|x>>>18),x=v+(R^g&(w^R))+A[12]+2368359562&4294967295,v=w+(x<<20&4294967295|x>>>12),x=g+(v^w^R)+A[5]+4294588738&4294967295,g=v+(x<<4&4294967295|x>>>28),x=R+(g^v^w)+A[8]+2272392833&4294967295,R=g+(x<<11&4294967295|x>>>21),x=w+(R^g^v)+A[11]+1839030562&4294967295,w=R+(x<<16&4294967295|x>>>16),x=v+(w^R^g)+A[14]+4259657740&4294967295,v=w+(x<<23&4294967295|x>>>9),x=g+(v^w^R)+A[1]+2763975236&4294967295,g=v+(x<<4&4294967295|x>>>28),x=R+(g^v^w)+A[4]+1272893353&4294967295,R=g+(x<<11&4294967295|x>>>21),x=w+(R^g^v)+A[7]+4139469664&4294967295,w=R+(x<<16&4294967295|x>>>16),x=v+(w^R^g)+A[10]+3200236656&4294967295,v=w+(x<<23&4294967295|x>>>9),x=g+(v^w^R)+A[13]+681279174&4294967295,g=v+(x<<4&4294967295|x>>>28),x=R+(g^v^w)+A[0]+3936430074&4294967295,R=g+(x<<11&4294967295|x>>>21),x=w+(R^g^v)+A[3]+3572445317&4294967295,w=R+(x<<16&4294967295|x>>>16),x=v+(w^R^g)+A[6]+76029189&4294967295,v=w+(x<<23&4294967295|x>>>9),x=g+(v^w^R)+A[9]+3654602809&4294967295,g=v+(x<<4&4294967295|x>>>28),x=R+(g^v^w)+A[12]+3873151461&4294967295,R=g+(x<<11&4294967295|x>>>21),x=w+(R^g^v)+A[15]+530742520&4294967295,w=R+(x<<16&4294967295|x>>>16),x=v+(w^R^g)+A[2]+3299628645&4294967295,v=w+(x<<23&4294967295|x>>>9),x=g+(w^(v|~R))+A[0]+4096336452&4294967295,g=v+(x<<6&4294967295|x>>>26),x=R+(v^(g|~w))+A[7]+1126891415&4294967295,R=g+(x<<10&4294967295|x>>>22),x=w+(g^(R|~v))+A[14]+2878612391&4294967295,w=R+(x<<15&4294967295|x>>>17),x=v+(R^(w|~g))+A[5]+4237533241&4294967295,v=w+(x<<21&4294967295|x>>>11),x=g+(w^(v|~R))+A[12]+1700485571&4294967295,g=v+(x<<6&4294967295|x>>>26),x=R+(v^(g|~w))+A[3]+2399980690&4294967295,R=g+(x<<10&4294967295|x>>>22),x=w+(g^(R|~v))+A[10]+4293915773&4294967295,w=R+(x<<15&4294967295|x>>>17),x=v+(R^(w|~g))+A[1]+2240044497&4294967295,v=w+(x<<21&4294967295|x>>>11),x=g+(w^(v|~R))+A[8]+1873313359&4294967295,g=v+(x<<6&4294967295|x>>>26),x=R+(v^(g|~w))+A[15]+4264355552&4294967295,R=g+(x<<10&4294967295|x>>>22),x=w+(g^(R|~v))+A[6]+2734768916&4294967295,w=R+(x<<15&4294967295|x>>>17),x=v+(R^(w|~g))+A[13]+1309151649&4294967295,v=w+(x<<21&4294967295|x>>>11),x=g+(w^(v|~R))+A[4]+4149444226&4294967295,g=v+(x<<6&4294967295|x>>>26),x=R+(v^(g|~w))+A[11]+3174756917&4294967295,R=g+(x<<10&4294967295|x>>>22),x=w+(g^(R|~v))+A[2]+718787259&4294967295,w=R+(x<<15&4294967295|x>>>17),x=v+(R^(w|~g))+A[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(w+(x<<21&4294967295|x>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+R&4294967295}i.prototype.v=function(E,g){g===void 0&&(g=E.length);const v=g-this.blockSize,A=this.C;let w=this.h,R=0;for(;R<g;){if(w==0)for(;R<=v;)a(this,E,R),R+=this.blockSize;if(typeof E=="string"){for(;R<g;)if(A[w++]=E.charCodeAt(R++),w==this.blockSize){a(this,A),w=0;break}}else for(;R<g;)if(A[w++]=E[R++],w==this.blockSize){a(this,A),w=0;break}}this.h=w,this.o+=g},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;g=this.o*8;for(var v=E.length-8;v<E.length;++v)E[v]=g&255,g/=256;for(this.v(E),E=Array(16),g=0,v=0;v<4;++v)for(let A=0;A<32;A+=8)E[g++]=this.g[v]>>>A&255;return E};function s(E,g){var v=o;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=g(E)}function r(E,g){this.h=g;const v=[];let A=!0;for(let w=E.length-1;w>=0;w--){const R=E[w]|0;A&&R==g||(v[w]=R,A=!1)}this.g=v}var o={};function u(E){return-128<=E&&E<128?s(E,function(g){return new r([g|0],g<0?-1:0)}):new r([E|0],E<0?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(E<0)return M(h(-E));const g=[];let v=1;for(let A=0;E>=v;A++)g[A]=E/v|0,v*=4294967296;return new r(g,0)}function m(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,g<2||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return M(m(E.substring(1),g));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const v=h(Math.pow(g,8));let A=p;for(let R=0;R<E.length;R+=8){var w=Math.min(8,E.length-R);const x=parseInt(E.substring(R,R+w),g);w<8?(w=h(Math.pow(g,w)),A=A.j(w).add(h(x))):(A=A.j(v),A=A.add(h(x)))}return A}var p=u(0),y=u(1),T=u(16777216);e=r.prototype,e.m=function(){if(V(this))return-M(this).m();let E=0,g=1;for(let v=0;v<this.g.length;v++){const A=this.i(v);E+=(A>=0?A:4294967296+A)*g,g*=4294967296}return E},e.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(V(this))return"-"+M(this).toString(E);const g=h(Math.pow(E,6));var v=this;let A="";for(;;){const w=I(v,g).g;v=S(v,w.j(g));let R=((v.g.length>0?v.g[0]:v.h)>>>0).toString(E);if(v=w,C(v))return R+A;for(;R.length<6;)R="0"+R;A=R+A}},e.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(let g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function V(E){return E.h==-1}e.l=function(E){return E=S(this,E),V(E)?-1:C(E)?0:1};function M(E){const g=E.g.length,v=[];for(let A=0;A<g;A++)v[A]=~E.g[A];return new r(v,~E.h).add(y)}e.abs=function(){return V(this)?M(this):this},e.add=function(E){const g=Math.max(this.g.length,E.g.length),v=[];let A=0;for(let w=0;w<=g;w++){let R=A+(this.i(w)&65535)+(E.i(w)&65535),x=(R>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);A=x>>>16,R&=65535,x&=65535,v[w]=x<<16|R}return new r(v,v[v.length-1]&-2147483648?-1:0)};function S(E,g){return E.add(M(g))}e.j=function(E){if(C(this)||C(E))return p;if(V(this))return V(E)?M(this).j(M(E)):M(M(this).j(E));if(V(E))return M(this.j(M(E)));if(this.l(T)<0&&E.l(T)<0)return h(this.m()*E.m());const g=this.g.length+E.g.length,v=[];for(var A=0;A<2*g;A++)v[A]=0;for(A=0;A<this.g.length;A++)for(let w=0;w<E.g.length;w++){const R=this.i(A)>>>16,x=this.i(A)&65535,tt=E.i(w)>>>16,kt=E.i(w)&65535;v[2*A+2*w]+=x*kt,b(v,2*A+2*w),v[2*A+2*w+1]+=R*kt,b(v,2*A+2*w+1),v[2*A+2*w+1]+=x*tt,b(v,2*A+2*w+1),v[2*A+2*w+2]+=R*tt,b(v,2*A+2*w+2)}for(E=0;E<g;E++)v[E]=v[2*E+1]<<16|v[2*E];for(E=g;E<2*g;E++)v[E]=0;return new r(v,0)};function b(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function N(E,g){this.g=E,this.h=g}function I(E,g){if(C(g))throw Error("division by zero");if(C(E))return new N(p,p);if(V(E))return g=I(M(E),g),new N(M(g.g),M(g.h));if(V(g))return g=I(E,M(g)),new N(M(g.g),g.h);if(E.g.length>30){if(V(E)||V(g))throw Error("slowDivide_ only works with positive integers.");for(var v=y,A=g;A.l(E)<=0;)v=j(v),A=j(A);var w=k(v,1),R=k(A,1);for(A=k(A,2),v=k(v,2);!C(A);){var x=R.add(A);x.l(E)<=0&&(w=w.add(v),R=x),A=k(A,1),v=k(v,1)}return g=S(E,w.j(g)),new N(w,g)}for(w=p;E.l(g)>=0;){for(v=Math.max(1,Math.floor(E.m()/g.m())),A=Math.ceil(Math.log(v)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),R=h(v),x=R.j(g);V(x)||x.l(E)>0;)v-=A,R=h(v),x=R.j(g);C(R)&&(R=y),w=w.add(R),E=S(E,x)}return new N(w,E)}e.B=function(E){return I(this,E).h},e.and=function(E){const g=Math.max(this.g.length,E.g.length),v=[];for(let A=0;A<g;A++)v[A]=this.i(A)&E.i(A);return new r(v,this.h&E.h)},e.or=function(E){const g=Math.max(this.g.length,E.g.length),v=[];for(let A=0;A<g;A++)v[A]=this.i(A)|E.i(A);return new r(v,this.h|E.h)},e.xor=function(E){const g=Math.max(this.g.length,E.g.length),v=[];for(let A=0;A<g;A++)v[A]=this.i(A)^E.i(A);return new r(v,this.h^E.h)};function j(E){const g=E.g.length+1,v=[];for(let A=0;A<g;A++)v[A]=E.i(A)<<1|E.i(A-1)>>>31;return new r(v,E.h)}function k(E,g){const v=g>>5;g%=32;const A=E.g.length-v,w=[];for(let R=0;R<A;R++)w[R]=g>0?E.i(R+v)>>>g|E.i(R+v+1)<<32-g:E.i(R+v);return new r(w,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,wE=i,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=h,r.fromString=m,Si=r}).apply(typeof jy<"u"?jy:typeof self<"u"?self:typeof window<"u"?window:{});var eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NE,gr,RE,So,Rf,CE,DE,IE;(function(){var e,t=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof eo=="object"&&eo];for(var c=0;c<l.length;++c){var d=l[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function a(l,c){if(c)t:{var d=i;l=l.split(".");for(var _=0;_<l.length-1;_++){var D=l[_];if(!(D in d))break t;d=d[D]}l=l[l.length-1],_=d[l],c=c(_),c!=_&&c!=null&&t(d,l,{configurable:!0,writable:!0,value:c})}}a("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(l){return l||function(c){var d=[],_;for(_ in c)Object.prototype.hasOwnProperty.call(c,_)&&d.push([_,c[_]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},r=this||self;function o(l){var c=typeof l;return c=="object"&&l!=null||c=="function"}function u(l,c,d){return l.call.apply(l.bind,arguments)}function h(l,c,d){return h=u,h.apply(null,arguments)}function m(l,c){var d=Array.prototype.slice.call(arguments,1);return function(){var _=d.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function p(l,c){function d(){}d.prototype=c.prototype,l.Z=c.prototype,l.prototype=new d,l.prototype.constructor=l,l.Ob=function(_,D,O){for(var P=Array(arguments.length-2),W=2;W<arguments.length;W++)P[W-2]=arguments[W];return c.prototype[D].apply(_,P)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function T(l){const c=l.length;if(c>0){const d=Array(c);for(let _=0;_<c;_++)d[_]=l[_];return d}return[]}function C(l,c){for(let _=1;_<arguments.length;_++){const D=arguments[_];var d=typeof D;if(d=d!="object"?d:D?Array.isArray(D)?"array":d:"null",d=="array"||d=="object"&&typeof D.length=="number"){d=l.length||0;const O=D.length||0;l.length=d+O;for(let P=0;P<O;P++)l[d+P]=D[P]}else l.push(D)}}class V{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function M(l){r.setTimeout(()=>{throw l},0)}function S(){var l=E;let c=null;return l.g&&(c=l.g,l.g=l.g.next,l.g||(l.h=null),c.next=null),c}class b{constructor(){this.h=this.g=null}add(c,d){const _=N.get();_.set(c,d),this.h?this.h.next=_:this.g=_,this.h=_}}var N=new V(()=>new I,l=>l.reset());class I{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let j,k=!1,E=new b,g=()=>{const l=Promise.resolve(void 0);j=()=>{l.then(v)}};function v(){for(var l;l=S();){try{l.h.call(l.g)}catch(d){M(d)}var c=N;c.j(l),c.h<100&&(c.h++,l.next=c.g,c.g=l)}k=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(l,c){this.type=l,this.g=this.target=c,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var l=!1,c=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const d=()=>{};r.addEventListener("test",d,c),r.removeEventListener("test",d,c)}catch{}return l}();function x(l){return/^[\s\xa0]*$/.test(l)}function tt(l,c){w.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,c)}p(tt,w),tt.prototype.init=function(l,c){const d=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=c,c=l.relatedTarget,c||(d=="mouseover"?c=l.fromElement:d=="mouseout"&&(c=l.toElement)),this.relatedTarget=c,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&tt.Z.h.call(this)},tt.prototype.h=function(){tt.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),B=0;function Y(l,c,d,_,D){this.listener=l,this.proxy=null,this.src=c,this.type=d,this.capture=!!_,this.ha=D,this.key=++B,this.da=this.fa=!1}function $(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Tt(l,c,d){for(const _ in l)c.call(d,l[_],_,l)}function Pt(l,c){for(const d in l)c.call(void 0,l[d],d,l)}function Hi(l){const c={};for(const d in l)c[d]=l[d];return c}const Fi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra(l,c){let d,_;for(let D=1;D<arguments.length;D++){_=arguments[D];for(d in _)l[d]=_[d];for(let O=0;O<Fi.length;O++)d=Fi[O],Object.prototype.hasOwnProperty.call(_,d)&&(l[d]=_[d])}}function Ge(l){this.src=l,this.g={},this.h=0}Ge.prototype.add=function(l,c,d,_,D){const O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);const P=sc(l,c,_,D);return P>-1?(c=l[P],d||(c.fa=!1)):(c=new Y(c,this.src,O,!!_,D),c.fa=d,l.push(c)),c};function Yn(l,c){const d=c.type;if(d in l.g){var _=l.g[d],D=Array.prototype.indexOf.call(_,c,void 0),O;(O=D>=0)&&Array.prototype.splice.call(_,D,1),O&&($(c),l.g[d].length==0&&(delete l.g[d],l.h--))}}function sc(l,c,d,_){for(let D=0;D<l.length;++D){const O=l[D];if(!O.da&&O.listener==c&&O.capture==!!d&&O.ha==_)return D}return-1}var rc="closure_lm_"+(Math.random()*1e6|0),lc={};function qm(l,c,d,_,D){if(Array.isArray(c)){for(let O=0;O<c.length;O++)qm(l,c[O],d,_,D);return null}return d=Gm(d),l&&l[kt]?l.J(c,d,o(_)?!!_.capture:!1,D):ib(l,c,d,!1,_,D)}function ib(l,c,d,_,D,O){if(!c)throw Error("Invalid event type");const P=o(D)?!!D.capture:!!D;let W=uc(l);if(W||(l[rc]=W=new Ge(l)),d=W.add(c,d,_,P,O),d.proxy)return d;if(_=ab(),d.proxy=_,_.src=l,_.listener=d,l.addEventListener)R||(D=P),D===void 0&&(D=!1),l.addEventListener(c.toString(),_,D);else if(l.attachEvent)l.attachEvent(Fm(c.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return d}function ab(){function l(d){return c.call(l.src,l.listener,d)}const c=sb;return l}function Hm(l,c,d,_,D){if(Array.isArray(c))for(var O=0;O<c.length;O++)Hm(l,c[O],d,_,D);else _=o(_)?!!_.capture:!!_,d=Gm(d),l&&l[kt]?(l=l.i,O=String(c).toString(),O in l.g&&(c=l.g[O],d=sc(c,d,_,D),d>-1&&($(c[d]),Array.prototype.splice.call(c,d,1),c.length==0&&(delete l.g[O],l.h--)))):l&&(l=uc(l))&&(c=l.g[c.toString()],l=-1,c&&(l=sc(c,d,_,D)),(d=l>-1?c[l]:null)&&oc(d))}function oc(l){if(typeof l!="number"&&l&&!l.da){var c=l.src;if(c&&c[kt])Yn(c.i,l);else{var d=l.type,_=l.proxy;c.removeEventListener?c.removeEventListener(d,_,l.capture):c.detachEvent?c.detachEvent(Fm(d),_):c.addListener&&c.removeListener&&c.removeListener(_),(d=uc(c))?(Yn(d,l),d.h==0&&(d.src=null,c[rc]=null)):$(l)}}}function Fm(l){return l in lc?lc[l]:lc[l]="on"+l}function sb(l,c){if(l.da)l=!0;else{c=new tt(c,this);const d=l.listener,_=l.ha||l.src;l.fa&&oc(l),l=d.call(_,c)}return l}function uc(l){return l=l[rc],l instanceof Ge?l:null}var cc="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gm(l){return typeof l=="function"?l:(l[cc]||(l[cc]=function(c){return l.handleEvent(c)}),l[cc])}function fe(){A.call(this),this.i=new Ge(this),this.M=this,this.G=null}p(fe,A),fe.prototype[kt]=!0,fe.prototype.removeEventListener=function(l,c,d,_){Hm(this,l,c,d,_)};function pe(l,c){var d,_=l.G;if(_)for(d=[];_;_=_.G)d.push(_);if(l=l.M,_=c.type||c,typeof c=="string")c=new w(c,l);else if(c instanceof w)c.target=c.target||l;else{var D=c;c=new w(_,l),Ra(c,D)}D=!0;let O,P;if(d)for(P=d.length-1;P>=0;P--)O=c.g=d[P],D=Nl(O,_,!0,c)&&D;if(O=c.g=l,D=Nl(O,_,!0,c)&&D,D=Nl(O,_,!1,c)&&D,d)for(P=0;P<d.length;P++)O=c.g=d[P],D=Nl(O,_,!1,c)&&D}fe.prototype.N=function(){if(fe.Z.N.call(this),this.i){var l=this.i;for(const c in l.g){const d=l.g[c];for(let _=0;_<d.length;_++)$(d[_]);delete l.g[c],l.h--}}this.G=null},fe.prototype.J=function(l,c,d,_){return this.i.add(String(l),c,!1,d,_)},fe.prototype.K=function(l,c,d,_){return this.i.add(String(l),c,!0,d,_)};function Nl(l,c,d,_){if(c=l.i.g[String(c)],!c)return!0;c=c.concat();let D=!0;for(let O=0;O<c.length;++O){const P=c[O];if(P&&!P.da&&P.capture==d){const W=P.listener,Xt=P.ha||P.src;P.fa&&Yn(l.i,P),D=W.call(Xt,_)!==!1&&D}}return D&&!_.defaultPrevented}function rb(l,c){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:r.setTimeout(l,c||0)}function Qm(l){l.g=rb(()=>{l.g=null,l.i&&(l.i=!1,Qm(l))},l.l);const c=l.h;l.h=null,l.m.apply(null,c)}class lb extends A{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Qm(this)}N(){super.N(),this.g&&(r.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(l){A.call(this),this.h=l,this.g={}}p(Bs,A);var Ym=[];function Km(l){Tt(l.g,function(c,d){this.g.hasOwnProperty(d)&&oc(c)},l),l.g={}}Bs.prototype.N=function(){Bs.Z.N.call(this),Km(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hc=r.JSON.stringify,ob=r.JSON.parse,ub=class{stringify(l){return r.JSON.stringify(l,void 0)}parse(l){return r.JSON.parse(l,void 0)}};function Xm(){}function $m(){}var qs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fc(){w.call(this,"d")}p(fc,w);function dc(){w.call(this,"c")}p(dc,w);var Gi={},Zm=null;function Rl(){return Zm=Zm||new fe}Gi.Ia="serverreachability";function Jm(l){w.call(this,Gi.Ia,l)}p(Jm,w);function Hs(l){const c=Rl();pe(c,new Jm(c))}Gi.STAT_EVENT="statevent";function Wm(l,c){w.call(this,Gi.STAT_EVENT,l),this.stat=c}p(Wm,w);function ye(l){const c=Rl();pe(c,new Wm(c,l))}Gi.Ja="timingevent";function tg(l,c){w.call(this,Gi.Ja,l),this.size=c}p(tg,w);function Fs(l,c){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return r.setTimeout(function(){l()},c)}function Gs(){this.g=!0}Gs.prototype.ua=function(){this.g=!1};function cb(l,c,d,_,D,O){l.info(function(){if(l.g)if(O){var P="",W=O.split("&");for(let _t=0;_t<W.length;_t++){var Xt=W[_t].split("=");if(Xt.length>1){const Wt=Xt[0];Xt=Xt[1];const cn=Wt.split("_");P=cn.length>=2&&cn[1]=="type"?P+(Wt+"="+Xt+"&"):P+(Wt+"=redacted&")}}}else P=null;else P=O;return"XMLHTTP REQ ("+_+") [attempt "+D+"]: "+c+`
`+d+`
`+P})}function hb(l,c,d,_,D,O,P){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+D+"]: "+c+`
`+d+`
`+O+" "+P})}function Ca(l,c,d,_){l.info(function(){return"XMLHTTP TEXT ("+c+"): "+db(l,d)+(_?" "+_:"")})}function fb(l,c){l.info(function(){return"TIMEOUT: "+c})}Gs.prototype.info=function(){};function db(l,c){if(!l.g)return c;if(!c)return null;try{const O=JSON.parse(c);if(O){for(l=0;l<O.length;l++)if(Array.isArray(O[l])){var d=O[l];if(!(d.length<2)){var _=d[1];if(Array.isArray(_)&&!(_.length<1)){var D=_[0];if(D!="noop"&&D!="stop"&&D!="close")for(let P=1;P<_.length;P++)_[P]=""}}}}return hc(O)}catch{return c}}var Cl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},eg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ng;function mc(){}p(mc,Xm),mc.prototype.g=function(){return new XMLHttpRequest},ng=new mc;function Qs(l){return encodeURIComponent(String(l))}function mb(l){var c=1;l=l.split(":");const d=[];for(;c>0&&l.length;)d.push(l.shift()),c--;return l.length&&d.push(l.join(":")),d}function Kn(l,c,d,_){this.j=l,this.i=c,this.l=d,this.S=_||1,this.V=new Bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ig}function ig(){this.i=null,this.g="",this.h=!1}var ag={},gc={};function pc(l,c,d){l.M=1,l.A=Il(un(c)),l.u=d,l.R=!0,sg(l,null)}function sg(l,c){l.F=Date.now(),Dl(l),l.B=un(l.A);var d=l.B,_=l.S;Array.isArray(_)||(_=[String(_)]),_g(d.i,"t",_),l.C=0,d=l.j.L,l.h=new ig,l.g=zg(l.j,d?c:null,!l.u),l.P>0&&(l.O=new lb(h(l.Y,l,l.g),l.P)),c=l.V,d=l.g,_=l.ba;var D="readystatechange";Array.isArray(D)||(D&&(Ym[0]=D.toString()),D=Ym);for(let O=0;O<D.length;O++){const P=qm(d,D[O],_||c.handleEvent,!1,c.h||c);if(!P)break;c.g[P.key]=P}c=l.J?Hi(l.J):{},l.u?(l.v||(l.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,c)):(l.v="GET",l.g.ea(l.B,l.v,null,c)),Hs(),cb(l.i,l.v,l.B,l.l,l.S,l.u)}Kn.prototype.ba=function(l){l=l.target;const c=this.O;c&&Zn(l)==3?c.j():this.Y(l)},Kn.prototype.Y=function(l){try{if(l==this.g)t:{const W=Zn(this.g),Xt=this.g.ya(),_t=this.g.ca();if(!(W<3)&&(W!=3||this.g&&(this.h.h||this.g.la()||xg(this.g)))){this.K||W!=4||Xt==7||(Xt==8||_t<=0?Hs(3):Hs(2)),yc(this);var c=this.g.ca();this.X=c;var d=gb(this);if(this.o=c==200,hb(this.i,this.v,this.B,this.l,this.S,W,c),this.o){if(this.U&&!this.L){e:{if(this.g){var _,D=this.g;if((_=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(_)){var O=_;break e}}O=null}if(l=O)Ca(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_c(this,l);else{this.o=!1,this.m=3,ye(12),Qi(this),Ys(this);break t}}if(this.R){l=!0;let Wt;for(;!this.K&&this.C<d.length;)if(Wt=pb(this,d),Wt==gc){W==4&&(this.m=4,ye(14),l=!1),Ca(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==ag){this.m=4,ye(15),Ca(this.i,this.l,d,"[Invalid Chunk]"),l=!1;break}else Ca(this.i,this.l,Wt,null),_c(this,Wt);if(rg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),W!=4||d.length!=0||this.h.h||(this.m=1,ye(16),l=!1),this.o=this.o&&l,!l)Ca(this.i,this.l,d,"[Invalid Chunked Response]"),Qi(this),Ys(this);else if(d.length>0&&!this.W){this.W=!0;var P=this.j;P.g==this&&P.aa&&!P.P&&(P.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),wc(P),P.P=!0,ye(11))}}else Ca(this.i,this.l,d,null),_c(this,d);W==4&&Qi(this),this.o&&!this.K&&(W==4?Vg(this.j,this):(this.o=!1,Dl(this)))}else Db(this.g),c==400&&d.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),Qi(this),Ys(this)}}}catch{}finally{}};function gb(l){if(!rg(l))return l.g.la();const c=xg(l.g);if(c==="")return"";let d="";const _=c.length,D=Zn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Qi(l),Ys(l),"";l.h.i=new r.TextDecoder}for(let O=0;O<_;O++)l.h.h=!0,d+=l.h.i.decode(c[O],{stream:!(D&&O==_-1)});return c.length=0,l.h.g+=d,l.C=0,l.h.g}function rg(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function pb(l,c){var d=l.C,_=c.indexOf(`
`,d);return _==-1?gc:(d=Number(c.substring(d,_)),isNaN(d)?ag:(_+=1,_+d>c.length?gc:(c=c.slice(_,_+d),l.C=_+d,c)))}Kn.prototype.cancel=function(){this.K=!0,Qi(this)};function Dl(l){l.T=Date.now()+l.H,lg(l,l.H)}function lg(l,c){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Fs(h(l.aa,l),c)}function yc(l){l.D&&(r.clearTimeout(l.D),l.D=null)}Kn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(fb(this.i,this.B),this.M!=2&&(Hs(),ye(17)),Qi(this),this.m=2,Ys(this)):lg(this,this.T-l)};function Ys(l){l.j.I==0||l.K||Vg(l.j,l)}function Qi(l){yc(l);var c=l.O;c&&typeof c.dispose=="function"&&c.dispose(),l.O=null,Km(l.V),l.g&&(c=l.g,l.g=null,c.abort(),c.dispose())}function _c(l,c){try{var d=l.j;if(d.I!=0&&(d.g==l||vc(d.h,l))){if(!l.L&&vc(d.h,l)&&d.I==3){try{var _=d.Ba.g.parse(c)}catch{_=null}if(Array.isArray(_)&&_.length==3){var D=_;if(D[0]==0){t:if(!d.v){if(d.g)if(d.g.F+3e3<l.F)zl(d),Ol(d);else break t;xc(d),ye(18)}}else d.xa=D[1],0<d.xa-d.K&&D[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=Fs(h(d.Va,d),6e3));cg(d.h)<=1&&d.ta&&(d.ta=void 0)}else Ki(d,11)}else if((l.L||d.g==l)&&zl(d),!x(c))for(D=d.Ba.g.parse(c),c=0;c<D.length;c++){let _t=D[c];const Wt=_t[0];if(!(Wt<=d.K))if(d.K=Wt,_t=_t[1],d.I==2)if(_t[0]=="c"){d.M=_t[1],d.ba=_t[2];const cn=_t[3];cn!=null&&(d.ka=cn,d.j.info("VER="+d.ka));const Xi=_t[4];Xi!=null&&(d.za=Xi,d.j.info("SVER="+d.za));const Jn=_t[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(_=1.5*Jn,d.O=_,d.j.info("backChannelRequestTimeoutMs_="+_)),_=d;const Wn=l.g;if(Wn){const Ll=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ll){var O=_.h;O.g||Ll.indexOf("spdy")==-1&&Ll.indexOf("quic")==-1&&Ll.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Ec(O,O.h),O.h=null))}if(_.G){const Nc=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Nc&&(_.wa=Nc,St(_.J,_.G,Nc))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-l.F,d.j.info("Handshake RTT: "+d.T+"ms")),_=d;var P=l;if(_.na=jg(_,_.L?_.ba:null,_.W),P.L){hg(_.h,P);var W=P,Xt=_.O;Xt&&(W.H=Xt),W.D&&(yc(W),Dl(W)),_.g=P}else Dg(_);d.i.length>0&&jl(d)}else _t[0]!="stop"&&_t[0]!="close"||Ki(d,7);else d.I==3&&(_t[0]=="stop"||_t[0]=="close"?_t[0]=="stop"?Ki(d,7):Sc(d):_t[0]!="noop"&&d.l&&d.l.qa(_t),d.A=0)}}Hs(4)}catch{}}var yb=class{constructor(l,c){this.g=l,this.map=c}};function og(l){this.l=l||10,r.PerformanceNavigationTiming?(l=r.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(r.chrome&&r.chrome.loadTimes&&r.chrome.loadTimes()&&r.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ug(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function cg(l){return l.h?1:l.g?l.g.size:0}function vc(l,c){return l.h?l.h==c:l.g?l.g.has(c):!1}function Ec(l,c){l.g?l.g.add(c):l.h=c}function hg(l,c){l.h&&l.h==c?l.h=null:l.g&&l.g.has(c)&&l.g.delete(c)}og.prototype.cancel=function(){if(this.i=fg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function fg(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let c=l.i;for(const d of l.g.values())c=c.concat(d.G);return c}return T(l.i)}var dg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _b(l,c){if(l){l=l.split("&");for(let d=0;d<l.length;d++){const _=l[d].indexOf("=");let D,O=null;_>=0?(D=l[d].substring(0,_),O=l[d].substring(_+1)):D=l[d],c(D,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Xn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;l instanceof Xn?(this.l=l.l,Ks(this,l.j),this.o=l.o,this.g=l.g,Xs(this,l.u),this.h=l.h,Tc(this,vg(l.i)),this.m=l.m):l&&(c=String(l).match(dg))?(this.l=!1,Ks(this,c[1]||"",!0),this.o=$s(c[2]||""),this.g=$s(c[3]||"",!0),Xs(this,c[4]),this.h=$s(c[5]||"",!0),Tc(this,c[6]||"",!0),this.m=$s(c[7]||"")):(this.l=!1,this.i=new Js(null,this.l))}Xn.prototype.toString=function(){const l=[];var c=this.j;c&&l.push(Zs(c,mg,!0),":");var d=this.g;return(d||c=="file")&&(l.push("//"),(c=this.o)&&l.push(Zs(c,mg,!0),"@"),l.push(Qs(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&l.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&l.push("/"),l.push(Zs(d,d.charAt(0)=="/"?Tb:Eb,!0))),(d=this.i.toString())&&l.push("?",d),(d=this.m)&&l.push("#",Zs(d,Ab)),l.join("")},Xn.prototype.resolve=function(l){const c=un(this);let d=!!l.j;d?Ks(c,l.j):d=!!l.o,d?c.o=l.o:d=!!l.g,d?c.g=l.g:d=l.u!=null;var _=l.h;if(d)Xs(c,l.u);else if(d=!!l.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var D=c.h.lastIndexOf("/");D!=-1&&(_=c.h.slice(0,D+1)+_)}if(D=_,D==".."||D==".")_="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){_=D.lastIndexOf("/",0)==0,D=D.split("/");const O=[];for(let P=0;P<D.length;){const W=D[P++];W=="."?_&&P==D.length&&O.push(""):W==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),_&&P==D.length&&O.push("")):(O.push(W),_=!0)}_=O.join("/")}else _=D}return d?c.h=_:d=l.i.toString()!=="",d?Tc(c,vg(l.i)):d=!!l.m,d&&(c.m=l.m),c};function un(l){return new Xn(l)}function Ks(l,c,d){l.j=d?$s(c,!0):c,l.j&&(l.j=l.j.replace(/:$/,""))}function Xs(l,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);l.u=c}else l.u=null}function Tc(l,c,d){c instanceof Js?(l.i=c,Sb(l.i,l.l)):(d||(c=Zs(c,bb)),l.i=new Js(c,l.l))}function St(l,c,d){l.i.set(c,d)}function Il(l){return St(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function $s(l,c){return l?c?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Zs(l,c,d){return typeof l=="string"?(l=encodeURI(l).replace(c,vb),d&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function vb(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var mg=/[#\/\?@]/g,Eb=/[#\?:]/g,Tb=/[#\?]/g,bb=/[#\?@]/g,Ab=/#/g;function Js(l,c){this.h=this.g=null,this.i=l||null,this.j=!!c}function Yi(l){l.g||(l.g=new Map,l.h=0,l.i&&_b(l.i,function(c,d){l.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}e=Js.prototype,e.add=function(l,c){Yi(this),this.i=null,l=Da(this,l);let d=this.g.get(l);return d||this.g.set(l,d=[]),d.push(c),this.h+=1,this};function gg(l,c){Yi(l),c=Da(l,c),l.g.has(c)&&(l.i=null,l.h-=l.g.get(c).length,l.g.delete(c))}function pg(l,c){return Yi(l),c=Da(l,c),l.g.has(c)}e.forEach=function(l,c){Yi(this),this.g.forEach(function(d,_){d.forEach(function(D){l.call(c,D,_,this)},this)},this)};function yg(l,c){Yi(l);let d=[];if(typeof c=="string")pg(l,c)&&(d=d.concat(l.g.get(Da(l,c))));else for(l=Array.from(l.g.values()),c=0;c<l.length;c++)d=d.concat(l[c]);return d}e.set=function(l,c){return Yi(this),this.i=null,l=Da(this,l),pg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[c]),this.h+=1,this},e.get=function(l,c){return l?(l=yg(this,l),l.length>0?String(l[0]):c):c};function _g(l,c,d){gg(l,c),d.length>0&&(l.i=null,l.g.set(Da(l,c),T(d)),l.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],c=Array.from(this.g.keys());for(let _=0;_<c.length;_++){var d=c[_];const D=Qs(d);d=yg(this,d);for(let O=0;O<d.length;O++){let P=D;d[O]!==""&&(P+="="+Qs(d[O])),l.push(P)}}return this.i=l.join("&")};function vg(l){const c=new Js;return c.i=l.i,l.g&&(c.g=new Map(l.g),c.h=l.h),c}function Da(l,c){return c=String(c),l.j&&(c=c.toLowerCase()),c}function Sb(l,c){c&&!l.j&&(Yi(l),l.i=null,l.g.forEach(function(d,_){const D=_.toLowerCase();_!=D&&(gg(this,_),_g(this,D,d))},l)),l.j=c}function xb(l,c){const d=new Gs;if(r.Image){const _=new Image;_.onload=m($n,d,"TestLoadImage: loaded",!0,c,_),_.onerror=m($n,d,"TestLoadImage: error",!1,c,_),_.onabort=m($n,d,"TestLoadImage: abort",!1,c,_),_.ontimeout=m($n,d,"TestLoadImage: timeout",!1,c,_),r.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else c(!1)}function wb(l,c){const d=new Gs,_=new AbortController,D=setTimeout(()=>{_.abort(),$n(d,"TestPingServer: timeout",!1,c)},1e4);fetch(l,{signal:_.signal}).then(O=>{clearTimeout(D),O.ok?$n(d,"TestPingServer: ok",!0,c):$n(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),$n(d,"TestPingServer: error",!1,c)})}function $n(l,c,d,_,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),_(d)}catch{}}function Nb(){this.g=new ub}function bc(l){this.i=l.Sb||null,this.h=l.ab||!1}p(bc,Xm),bc.prototype.g=function(){return new Vl(this.i,this.h)};function Vl(l,c){fe.call(this),this.H=l,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Vl,fe),e=Vl.prototype,e.open=function(l,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=c,this.readyState=1,tr(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(c.body=l),(this.H||r).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},e.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof r.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Eg(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function Eg(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}e.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var c=l.value?l.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!l.done}))&&(this.response=this.responseText+=c)}l.done?Ws(this):tr(this),this.readyState==3&&Eg(this)}},e.Oa=function(l){this.g&&(this.response=this.responseText=l,Ws(this))},e.Na=function(l){this.g&&(this.response=l,Ws(this))},e.ga=function(){this.g&&Ws(this)};function Ws(l){l.readyState=4,l.l=null,l.j=null,l.B=null,tr(l)}e.setRequestHeader=function(l,c){this.A.append(l,c)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,l.push(d[0]+": "+d[1]),d=c.next();return l.join(`\r
`)};function tr(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Tg(l){let c="";return Tt(l,function(d,_){c+=_,c+=":",c+=d,c+=`\r
`}),c}function Ac(l,c,d){t:{for(_ in d){var _=!1;break t}_=!0}_||(d=Tg(d),typeof l=="string"?d!=null&&Qs(d):St(l,c,d))}function Vt(l){fe.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Vt,fe);var Rb=/^https?$/i,Cb=["POST","PUT"];e=Vt.prototype,e.Fa=function(l){this.H=l},e.ea=function(l,c,d,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);c=c?c.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ng.g(),this.g.onreadystatechange=y(h(this.Ca,this));try{this.B=!0,this.g.open(c,String(l),!0),this.B=!1}catch(O){bg(this,O);return}if(l=d||"",d=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var D in _)d.set(D,_[D]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const O of _.keys())d.set(O,_.get(O));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(d.keys()).find(O=>O.toLowerCase()=="content-type"),D=r.FormData&&l instanceof r.FormData,!(Array.prototype.indexOf.call(Cb,c,void 0)>=0)||_||D||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,P]of d)this.g.setRequestHeader(O,P);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(O){bg(this,O)}};function bg(l,c){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=c,l.o=5,Ag(l),Ml(l)}function Ag(l){l.A||(l.A=!0,pe(l,"complete"),pe(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,pe(this,"complete"),pe(this,"abort"),Ml(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ml(this,!0)),Vt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Sg(this):this.Xa())},e.Xa=function(){Sg(this)};function Sg(l){if(l.h&&typeof s<"u"){if(l.v&&Zn(l)==4)setTimeout(l.Ca.bind(l),0);else if(pe(l,"readystatechange"),Zn(l)==4){l.h=!1;try{const O=l.ca();t:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var d;if(!(d=c)){var _;if(_=O===0){let P=String(l.D).match(dg)[1]||null;!P&&r.self&&r.self.location&&(P=r.self.location.protocol.slice(0,-1)),_=!Rb.test(P?P.toLowerCase():"")}d=_}if(d)pe(l,"complete"),pe(l,"success");else{l.o=6;try{var D=Zn(l)>2?l.g.statusText:""}catch{D=""}l.l=D+" ["+l.ca()+"]",Ag(l)}}finally{Ml(l)}}}}function Ml(l,c){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const d=l.g;l.g=null,c||pe(l,"ready");try{d.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function Zn(l){return l.g?l.g.readyState:0}e.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(l){if(this.g){var c=this.g.responseText;return l&&c.indexOf(l)==0&&(c=c.substring(l.length)),ob(c)}};function xg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Db(l){const c={};l=(l.g&&Zn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(x(l[_]))continue;var d=mb(l[_]);const D=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const O=c[D]||[];c[D]=O,O.push(d)}Pt(c,function(_){return _.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(l,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[l]||c}function wg(l){this.za=0,this.i=[],this.j=new Gs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=er("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=er("baseRetryDelayMs",5e3,l),this.Za=er("retryDelaySeedMs",1e4,l),this.Ta=er("forwardChannelMaxRetries",2,l),this.va=er("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new og(l&&l.concurrentRequestLimit),this.Ba=new Nb,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=wg.prototype,e.ka=8,e.I=1,e.connect=function(l,c,d,_){ye(0),this.W=l,this.H=c||{},d&&_!==void 0&&(this.H.OSID=d,this.H.OAID=_),this.F=this.X,this.J=jg(this,null,this.W),jl(this)};function Sc(l){if(Ng(l),l.I==3){var c=l.V++,d=un(l.J);if(St(d,"SID",l.M),St(d,"RID",c),St(d,"TYPE","terminate"),nr(l,d),c=new Kn(l,l.j,c),c.M=2,c.A=Il(un(d)),d=!1,r.navigator&&r.navigator.sendBeacon)try{d=r.navigator.sendBeacon(c.A.toString(),"")}catch{}!d&&r.Image&&(new Image().src=c.A,d=!0),d||(c.g=zg(c.j,null),c.g.ea(c.A)),c.F=Date.now(),Dl(c)}Og(l)}function Ol(l){l.g&&(wc(l),l.g.cancel(),l.g=null)}function Ng(l){Ol(l),l.v&&(r.clearTimeout(l.v),l.v=null),zl(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&r.clearTimeout(l.m),l.m=null)}function jl(l){if(!ug(l.h)&&!l.m){l.m=!0;var c=l.Ea;j||g(),k||(j(),k=!0),E.add(c,l),l.D=0}}function Ib(l,c){return cg(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=c.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Fs(h(l.Ea,l,c),Mg(l,l.D)),l.D++,!0)}e.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const D=new Kn(this,this.j,l);let O=this.o;if(this.U&&(O?(O=Hi(O),Ra(O,this.U)):O=this.U),this.u!==null||this.R||(D.J=O,O=null),this.S)t:{for(var c=0,d=0;d<this.i.length;d++){e:{var _=this.i[d];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break e}_=void 0}if(_===void 0)break;if(c+=_,c>4096){c=d;break t}if(c===4096||d===this.i.length-1){c=d+1;break t}}c=1e3}else c=1e3;c=Cg(this,D,c),d=un(this.J),St(d,"RID",l),St(d,"CVER",22),this.G&&St(d,"X-HTTP-Session-Id",this.G),nr(this,d),O&&(this.R?c="headers="+Qs(Tg(O))+"&"+c:this.u&&Ac(d,this.u,O)),Ec(this.h,D),this.Ra&&St(d,"TYPE","init"),this.S?(St(d,"$req",c),St(d,"SID","null"),D.U=!0,pc(D,d,null)):pc(D,d,c),this.I=2}}else this.I==3&&(l?Rg(this,l):this.i.length==0||ug(this.h)||Rg(this))};function Rg(l,c){var d;c?d=c.l:d=l.V++;const _=un(l.J);St(_,"SID",l.M),St(_,"RID",d),St(_,"AID",l.K),nr(l,_),l.u&&l.o&&Ac(_,l.u,l.o),d=new Kn(l,l.j,d,l.D+1),l.u===null&&(d.J=l.o),c&&(l.i=c.G.concat(l.i)),c=Cg(l,d,1e3),d.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Ec(l.h,d),pc(d,_,c)}function nr(l,c){l.H&&Tt(l.H,function(d,_){St(c,_,d)}),l.l&&Tt({},function(d,_){St(c,_,d)})}function Cg(l,c,d){d=Math.min(l.i.length,d);const _=l.l?h(l.l.Ka,l.l,l):null;t:{var D=l.i;let W=-1;for(;;){const Xt=["count="+d];W==-1?d>0?(W=D[0].g,Xt.push("ofs="+W)):W=0:Xt.push("ofs="+W);let _t=!0;for(let Wt=0;Wt<d;Wt++){var O=D[Wt].g;const cn=D[Wt].map;if(O-=W,O<0)W=Math.max(0,D[Wt].g-100),_t=!1;else try{O="req"+O+"_"||"";try{var P=cn instanceof Map?cn:Object.entries(cn);for(const[Xi,Jn]of P){let Wn=Jn;o(Jn)&&(Wn=hc(Jn)),Xt.push(O+Xi+"="+encodeURIComponent(Wn))}}catch(Xi){throw Xt.push(O+"type="+encodeURIComponent("_badmap")),Xi}}catch{_&&_(cn)}}if(_t){P=Xt.join("&");break t}}P=void 0}return l=l.i.splice(0,d),c.G=l,P}function Dg(l){if(!l.g&&!l.v){l.Y=1;var c=l.Da;j||g(),k||(j(),k=!0),E.add(c,l),l.A=0}}function xc(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Fs(h(l.Da,l),Mg(l,l.A)),l.A++,!0)}e.Da=function(){if(this.v=null,Ig(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Fs(h(this.Wa,this),l)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),Ol(this),Ig(this))};function wc(l){l.B!=null&&(r.clearTimeout(l.B),l.B=null)}function Ig(l){l.g=new Kn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var c=un(l.na);St(c,"RID","rpc"),St(c,"SID",l.M),St(c,"AID",l.K),St(c,"CI",l.F?"0":"1"),!l.F&&l.ia&&St(c,"TO",l.ia),St(c,"TYPE","xmlhttp"),nr(l,c),l.u&&l.o&&Ac(c,l.u,l.o),l.O&&(l.g.H=l.O);var d=l.g;l=l.ba,d.M=1,d.A=Il(un(c)),d.u=null,d.R=!0,sg(d,l)}e.Va=function(){this.C!=null&&(this.C=null,Ol(this),xc(this),ye(19))};function zl(l){l.C!=null&&(r.clearTimeout(l.C),l.C=null)}function Vg(l,c){var d=null;if(l.g==c){zl(l),wc(l),l.g=null;var _=2}else if(vc(l.h,c))d=c.G,hg(l.h,c),_=1;else return;if(l.I!=0){if(c.o)if(_==1){d=c.u?c.u.length:0,c=Date.now()-c.F;var D=l.D;_=Rl(),pe(_,new tg(_,d)),jl(l)}else Dg(l);else if(D=c.m,D==3||D==0&&c.X>0||!(_==1&&Ib(l,c)||_==2&&xc(l)))switch(d&&d.length>0&&(c=l.h,c.i=c.i.concat(d)),D){case 1:Ki(l,5);break;case 4:Ki(l,10);break;case 3:Ki(l,6);break;default:Ki(l,2)}}}function Mg(l,c){let d=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(d*=2),d*c}function Ki(l,c){if(l.j.info("Error code "+c),c==2){var d=h(l.bb,l),_=l.Ua;const D=!_;_=new Xn(_||"//www.google.com/images/cleardot.gif"),r.location&&r.location.protocol=="http"||Ks(_,"https"),Il(_),D?xb(_.toString(),d):wb(_.toString(),d)}else ye(2);l.I=0,l.l&&l.l.pa(c),Og(l),Ng(l)}e.bb=function(l){l?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Og(l){if(l.I=0,l.ja=[],l.l){const c=fg(l.h);(c.length!=0||l.i.length!=0)&&(C(l.ja,c),C(l.ja,l.i),l.h.i.length=0,T(l.i),l.i.length=0),l.l.oa()}}function jg(l,c,d){var _=d instanceof Xn?un(d):new Xn(d);if(_.g!="")c&&(_.g=c+"."+_.g),Xs(_,_.u);else{var D=r.location;_=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;const O=new Xn(null);_&&Ks(O,_),c&&(O.g=c),D&&Xs(O,D),d&&(O.h=d),_=O}return d=l.G,c=l.wa,d&&c&&St(_,d,c),St(_,"VER",l.ka),nr(l,_),_}function zg(l,c,d){if(c&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=l.Aa&&!l.ma?new Vt(new bc({ab:d})):new Vt(l.ma),c.Fa(l.L),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ug(){}e=Ug.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Ul(){}Ul.prototype.g=function(l,c){return new Ie(l,c)};function Ie(l,c){fe.call(this),this.g=new wg(c),this.l=l,this.h=c&&c.messageUrlParams||null,l=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(l?l["X-WebChannel-Content-Type"]=c.messageContentType:l={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(l?l["X-WebChannel-Client-Profile"]=c.sa:l={"X-WebChannel-Client-Profile":c.sa}),this.g.U=l,(l=c&&c.Qb)&&!x(l)&&(this.g.u=l),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!x(c)&&(this.g.G=c,l=this.h,l!==null&&c in l&&(l=this.h,c in l&&delete l[c])),this.j=new Ia(this)}p(Ie,fe),Ie.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ie.prototype.close=function(){Sc(this.g)},Ie.prototype.o=function(l){var c=this.g;if(typeof l=="string"){var d={};d.__data__=l,l=d}else this.v&&(d={},d.__data__=hc(l),l=d);c.i.push(new yb(c.Ya++,l)),c.I==3&&jl(c)},Ie.prototype.N=function(){this.g.l=null,delete this.j,Sc(this.g),delete this.g,Ie.Z.N.call(this)};function Lg(l){fc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var c=l.__sm__;if(c){t:{for(const d in c){l=d;break t}l=void 0}(this.i=l)&&(l=this.i,c=c!==null&&l in c?c[l]:void 0),this.data=c}else this.data=l}p(Lg,fc);function kg(){dc.call(this),this.status=1}p(kg,dc);function Ia(l){this.g=l}p(Ia,Ug),Ia.prototype.ra=function(){pe(this.g,"a")},Ia.prototype.qa=function(l){pe(this.g,new Lg(l))},Ia.prototype.pa=function(l){pe(this.g,new kg)},Ia.prototype.oa=function(){pe(this.g,"b")},Ul.prototype.createWebChannel=Ul.prototype.g,Ie.prototype.send=Ie.prototype.o,Ie.prototype.open=Ie.prototype.m,Ie.prototype.close=Ie.prototype.close,IE=function(){return new Ul},DE=function(){return Rl()},CE=Gi,Rf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,So=Cl,eg.COMPLETE="complete",RE=eg,$m.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",fe.prototype.listen=fe.prototype.J,gr=$m,Vt.prototype.listenOnce=Vt.prototype.K,Vt.prototype.getLastError=Vt.prototype.Ha,Vt.prototype.getLastErrorCode=Vt.prototype.ya,Vt.prototype.getStatus=Vt.prototype.ca,Vt.prototype.getResponseJson=Vt.prototype.La,Vt.prototype.getResponseText=Vt.prototype.la,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Fa,NE=Vt}).apply(typeof eo<"u"?eo:typeof self<"u"?self:typeof window<"u"?window:{});const zy="@firebase/firestore",Uy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}me.UNAUTHENTICATED=new me(null),me.GOOGLE_CREDENTIALS=new me("google-credentials-uid"),me.FIRST_PARTY=new me("first-party-uid"),me.MOCK_USER=new me("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Zd("@firebase/firestore");function La(){return _a.logLevel}function H(e,...t){if(_a.logLevel<=ut.DEBUG){const n=t.map(sm);_a.debug(`Firestore (${zs}): ${e}`,...n)}}function Fn(e,...t){if(_a.logLevel<=ut.ERROR){const n=t.map(sm);_a.error(`Firestore (${zs}): ${e}`,...n)}}function Ts(e,...t){if(_a.logLevel<=ut.WARN){const n=t.map(sm);_a.warn(`Firestore (${zs}): ${e}`,...n)}}function sm(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,VE(e,i,n)}function VE(e,t,n){let i=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Fn(i),new Error(i)}function dt(e,t,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,e||VE(t,a,i)}function X(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Pi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(me.UNAUTHENTICATED))}shutdown(){}}class wR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NR{constructor(t){this.t=t,this.currentUser=me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){dt(this.o===void 0,42304);let i=this.i;const a=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new ua;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ua,t.enqueueRetryable(()=>a(this.currentUser))};const r=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},o=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),r())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ua)}},0),r()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new ME(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return dt(t===null||typeof t=="string",2055,{h:t}),new me(t)}}class RR{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=me.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CR{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new RR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(me.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ly{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){dt(this.o===void 0,3512);const i=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const r=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${r?"new":"existing"} token.`),r?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const a=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>a(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ly(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ly(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=IR(40);for(let s=0;s<a.length;++s)i.length<20&&a[s]<n&&(i+=t.charAt(a[s]%62))}return i}}function at(e,t){return e<t?-1:e>t?1:0}function Cf(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=e.charAt(i),s=t.charAt(i);if(a!==s)return _h(a)===_h(s)?at(a,s):_h(a)?1:-1}return at(e.length,t.length)}const VR=55296,MR=57343;function _h(e){const t=e.charCodeAt(0);return t>=VR&&t<=MR}function bs(e,t,n){return e.length===t.length&&e.every((i,a)=>n(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="__name__";class hn{constructor(t,n,i){n===void 0?n=0:n>t.length&&G(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&G(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return hn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof hn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const s=hn.compareSegments(t.get(a),n.get(a));if(s!==0)return s}return at(t.length,n.length)}static compareSegments(t,n){const i=hn.isNumericId(t),a=hn.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?hn.extractNumericId(t).compare(hn.extractNumericId(n)):Cf(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Si.fromString(t.substring(4,t.length-2))}}class bt extends hn{construct(t,n,i){return new bt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new bt(n)}static emptyPath(){return new bt([])}}const OR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class oe extends hn{construct(t,n,i){return new oe(t,n,i)}static isValidIdentifier(t){return OR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),oe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ky}static keyField(){return new oe([ky])}static fromServerFormat(t){const n=[];let i="",a=0;const s=()=>{if(i.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let r=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,a+=2}else o==="`"?(r=!r,a++):o!=="."||r?(i+=o,a++):(s(),a++)}if(s(),r)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new oe(n)}static emptyPath(){return new oe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.path=t}static fromPath(t){return new F(bt.fromString(t))}static fromName(t){return new F(bt.fromString(t).popFirst(5))}static empty(){return new F(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&bt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return bt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new F(new bt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(e,t,n){if(!n)throw new q(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function jR(e,t,n,i){if(t===!0&&i===!0)throw new q(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Py(e){if(!F.isDocumentKey(e))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function By(e){if(F.isDocumentKey(e))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function jE(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Fu(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":G(12329,{type:typeof e})}function xi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fu(e);throw new q(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(e,t){const n={typeString:e};return t&&(n.value=t),n}function Tl(e,t){if(!jE(e))throw new q(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const a=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const r=e[i];if(a&&typeof r!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(s!==void 0&&r!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new q(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=-62135596800,Hy=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(t){return Nt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Hy);return new Nt(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<qy)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hy}_compareTo(t){return this.seconds===t.seconds?at(this.nanoseconds,t.nanoseconds):at(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Tl(t,Nt._jsonSchema))return new Nt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-qy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:Yt("string",Nt._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{static fromTimestamp(t){return new K(t)}static min(){return new K(new Nt(0,0))}static max(){return new K(new Nt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=-1;function zR(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=K.fromTimestamp(i===1e9?new Nt(n+1,0):new Nt(n,i));return new Vi(a,F.empty(),t)}function UR(e){return new Vi(e.readTime,e.key,el)}class Vi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Vi(K.min(),F.empty(),el)}static max(){return new Vi(K.max(),F.empty(),el)}}function LR(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=F.comparator(e.documentKey,t.documentKey),n!==0?n:at(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Us(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==kR)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new L((i,a)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):L.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):L.reject(n)}static resolve(t){return new L((n,i)=>{n(t)})}static reject(t){return new L((n,i)=>{i(t)})}static waitFor(t){return new L((n,i)=>{let a=0,s=0,r=!1;t.forEach(o=>{++a,o.next(()=>{++s,r&&s===a&&n()},u=>i(u))}),r=!0,s===a&&n()})}static or(t){let n=L.resolve(!1);for(const i of t)n=n.next(a=>a?L.resolve(a):i());return n}static forEach(t,n){const i=[];return t.forEach((a,s)=>{i.push(n.call(this,a,s))}),this.waitFor(i)}static mapArray(t,n){return new L((i,a)=>{const s=t.length,r=new Array(s);let o=0;for(let u=0;u<s;u++){const h=u;n(t[h]).next(m=>{r[h]=m,++o,o===s&&i(r)},m=>a(m))}})}static doWhile(t,n){return new L((i,a)=>{const s=()=>{t()===!0?n().next(()=>{s()},a):i()};s()})}}function BR(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ls(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Gu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=-1;function Qu(e){return e==null}function cu(e){return e===0&&1/e==-1/0}function qR(e){return typeof e=="number"&&Number.isInteger(e)&&!cu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="";function HR(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Fy(t)),t=FR(e.get(n),t);return Fy(t)}function FR(e,t){let n=t;const i=e.length;for(let a=0;a<i;a++){const s=e.charAt(a);switch(s){case"\0":n+="";break;case zE:n+="";break;default:n+=s}}return n}function Fy(e){return e+zE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function UE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t,n){this.comparator=t,this.root=n||se.EMPTY}insert(t,n){return new It(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,se.BLACK,null,null))}remove(t){return new It(this.comparator,this.root.remove(t,this.comparator).copy(null,null,se.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new no(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new no(this.root,t,this.comparator,!1)}getReverseIterator(){return new no(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new no(this.root,t,this.comparator,!0)}}class no{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&a&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class se{constructor(t,n,i,a,s){this.key=t,this.value=n,this.color=i??se.RED,this.left=a??se.EMPTY,this.right=s??se.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,s){return new se(t??this.key,n??this.value,i??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const s=i(t,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(t,n,i),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return se.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return se.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,se.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,se.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw G(27949);return t+(this.isRed()?0:1)}}se.EMPTY=null,se.RED=!0,se.BLACK=!1;se.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(t,n,i,a,s){return this}insert(t,n,i){return new se(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.comparator=t,this.data=new It(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(t){return new Qy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Zt)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=i.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Zt(this.comparator);return n.data=t,n}}class Qy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.fields=t,t.sort(oe.comparator)}static empty(){return new ze([])}unionWith(t){let n=new Zt(oe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ze(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return bs(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LE("Invalid base64 string: "+s):s}}(t);return new he(n)}static fromUint8Array(t){const n=function(a){let s="";for(let r=0;r<a.length;++r)s+=String.fromCharCode(a[r]);return s}(t);return new he(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return at(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}he.EMPTY_BYTE_STRING=new he("");const GR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(e){if(dt(!!e,39018),typeof e=="string"){let t=0;const n=GR.exec(e);if(dt(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zt(e.seconds),nanos:zt(e.nanos)}}function zt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Oi(e){return typeof e=="string"?he.fromBase64String(e):he.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="server_timestamp",PE="__type__",BE="__previous_value__",qE="__local_write_time__";function om(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[PE])==null?void 0:i.stringValue)===kE}function Yu(e){const t=e.mapValue.fields[BE];return om(t)?Yu(t):t}function nl(e){const t=Mi(e.mapValue.fields[qE].timestampValue);return new Nt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,n,i,a,s,r,o,u,h,m){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=s,this.forceLongPolling=r,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=m}}const hu="(default)";class il{constructor(t,n){this.projectId=t,this.database=n||hu}static empty(){return new il("","")}get isDefaultDatabase(){return this.database===hu}isEqual(t){return t instanceof il&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="__type__",YR="__max__",io={mapValue:{}},FE="__vector__",fu="value";function ji(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?om(e)?4:XR(e)?9007199254740991:KR(e)?10:11:G(28295,{value:e})}function Tn(e,t){if(e===t)return!0;const n=ji(e);if(n!==ji(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nl(e).isEqual(nl(t));case 3:return function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const r=Mi(a.timestampValue),o=Mi(s.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,s){return Oi(a.bytesValue).isEqual(Oi(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,s){return zt(a.geoPointValue.latitude)===zt(s.geoPointValue.latitude)&&zt(a.geoPointValue.longitude)===zt(s.geoPointValue.longitude)}(e,t);case 2:return function(a,s){if("integerValue"in a&&"integerValue"in s)return zt(a.integerValue)===zt(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const r=zt(a.doubleValue),o=zt(s.doubleValue);return r===o?cu(r)===cu(o):isNaN(r)&&isNaN(o)}return!1}(e,t);case 9:return bs(e.arrayValue.values||[],t.arrayValue.values||[],Tn);case 10:case 11:return function(a,s){const r=a.mapValue.fields||{},o=s.mapValue.fields||{};if(Gy(r)!==Gy(o))return!1;for(const u in r)if(r.hasOwnProperty(u)&&(o[u]===void 0||!Tn(r[u],o[u])))return!1;return!0}(e,t);default:return G(52216,{left:e})}}function al(e,t){return(e.values||[]).find(n=>Tn(n,t))!==void 0}function As(e,t){if(e===t)return 0;const n=ji(e),i=ji(t);if(n!==i)return at(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(e.booleanValue,t.booleanValue);case 2:return function(s,r){const o=zt(s.integerValue||s.doubleValue),u=zt(r.integerValue||r.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return Yy(e.timestampValue,t.timestampValue);case 4:return Yy(nl(e),nl(t));case 5:return Cf(e.stringValue,t.stringValue);case 6:return function(s,r){const o=Oi(s),u=Oi(r);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,r){const o=s.split("/"),u=r.split("/");for(let h=0;h<o.length&&h<u.length;h++){const m=at(o[h],u[h]);if(m!==0)return m}return at(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,r){const o=at(zt(s.latitude),zt(r.latitude));return o!==0?o:at(zt(s.longitude),zt(r.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ky(e.arrayValue,t.arrayValue);case 10:return function(s,r){var y,T,C,V;const o=s.fields||{},u=r.fields||{},h=(y=o[fu])==null?void 0:y.arrayValue,m=(T=u[fu])==null?void 0:T.arrayValue,p=at(((C=h==null?void 0:h.values)==null?void 0:C.length)||0,((V=m==null?void 0:m.values)==null?void 0:V.length)||0);return p!==0?p:Ky(h,m)}(e.mapValue,t.mapValue);case 11:return function(s,r){if(s===io.mapValue&&r===io.mapValue)return 0;if(s===io.mapValue)return 1;if(r===io.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),h=r.fields||{},m=Object.keys(h);u.sort(),m.sort();for(let p=0;p<u.length&&p<m.length;++p){const y=Cf(u[p],m[p]);if(y!==0)return y;const T=As(o[u[p]],h[m[p]]);if(T!==0)return T}return at(u.length,m.length)}(e.mapValue,t.mapValue);default:throw G(23264,{he:n})}}function Yy(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return at(e,t);const n=Mi(e),i=Mi(t),a=at(n.seconds,i.seconds);return a!==0?a:at(n.nanos,i.nanos)}function Ky(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const s=As(n[a],i[a]);if(s)return s}return at(n.length,i.length)}function Ss(e){return Df(e)}function Df(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Mi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Oi(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return F.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",a=!0;for(const s of n.values||[])a?a=!1:i+=",",i+=Df(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const r of i)s?s=!1:a+=",",a+=`${r}:${Df(n.fields[r])}`;return a+"}"}(e.mapValue):G(61005,{value:e})}function xo(e){switch(ji(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Yu(e);return t?16+xo(t):16;case 5:return 2*e.stringValue.length;case 6:return Oi(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,s)=>a+xo(s),0)}(e.arrayValue);case 10:case 11:return function(i){let a=0;return Bi(i.fields,(s,r)=>{a+=s.length+xo(r)}),a}(e.mapValue);default:throw G(13486,{value:e})}}function Xy(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function If(e){return!!e&&"integerValue"in e}function um(e){return!!e&&"arrayValue"in e}function $y(e){return!!e&&"nullValue"in e}function Zy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wo(e){return!!e&&"mapValue"in e}function KR(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[HE])==null?void 0:i.stringValue)===FE}function jr(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Bi(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=jr(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=jr(e.arrayValue.values[n]);return t}return{...e}}function XR(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===YR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.value=t}static empty(){return new Ne({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!wo(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=jr(n)}setAll(t){let n=oe.emptyPath(),i={},a=[];t.forEach((r,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,i,a),i={},a=[],n=o.popLast()}r?i[o.lastSegment()]=jr(r):a.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,a)}delete(t){const n=this.field(t.popLast());wo(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Tn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];wo(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){Bi(n,(a,s)=>t[a]=s);for(const a of i)delete t[a]}clone(){return new Ne(jr(this.value))}}function GE(e){const t=[];return Bi(e.fields,(n,i)=>{const a=new oe([n]);if(wo(i)){const s=GE(i.mapValue).fields;if(s.length===0)t.push(a);else for(const r of s)t.push(a.child(r))}else t.push(a)}),new ze(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,n,i,a,s,r,o){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=s,this.data=r,this.documentState=o}static newInvalidDocument(t){return new ge(t,0,K.min(),K.min(),K.min(),Ne.empty(),0)}static newFoundDocument(t,n,i,a){return new ge(t,1,n,K.min(),i,a,0)}static newNoDocument(t,n){return new ge(t,2,n,K.min(),K.min(),Ne.empty(),0)}static newUnknownDocument(t,n){return new ge(t,3,n,K.min(),K.min(),Ne.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ne.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ne.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n){this.position=t,this.inclusive=n}}function Jy(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const s=t[a],r=e.position[a];if(s.field.isKeyField()?i=F.comparator(F.fromName(r.referenceValue),n.key):i=As(r,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Wy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Tn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(t,n="asc"){this.field=t,this.dir=n}}function $R(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{}class Gt extends QE{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new JR(t,n,i):n==="array-contains"?new eC(t,i):n==="in"?new nC(t,i):n==="not-in"?new iC(t,i):n==="array-contains-any"?new aC(t,i):new Gt(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new WR(t,i):new tC(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(As(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(As(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ln extends QE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ln(t,n)}matches(t){return YE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YE(e){return e.op==="and"}function KE(e){return ZR(e)&&YE(e)}function ZR(e){for(const t of e.filters)if(t instanceof ln)return!1;return!0}function Vf(e){if(e instanceof Gt)return e.field.canonicalString()+e.op.toString()+Ss(e.value);if(KE(e))return e.filters.map(t=>Vf(t)).join(",");{const t=e.filters.map(n=>Vf(n)).join(",");return`${e.op}(${t})`}}function XE(e,t){return e instanceof Gt?function(i,a){return a instanceof Gt&&i.op===a.op&&i.field.isEqual(a.field)&&Tn(i.value,a.value)}(e,t):e instanceof ln?function(i,a){return a instanceof ln&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((s,r,o)=>s&&XE(r,a.filters[o]),!0):!1}(e,t):void G(19439)}function $E(e){return e instanceof Gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ss(n.value)}`}(e):e instanceof ln?function(n){return n.op.toString()+" {"+n.getFilters().map($E).join(" ,")+"}"}(e):"Filter"}class JR extends Gt{constructor(t,n,i){super(t,n,i),this.key=F.fromName(i.referenceValue)}matches(t){const n=F.comparator(t.key,this.key);return this.matchesComparison(n)}}class WR extends Gt{constructor(t,n){super(t,"in",n),this.keys=ZE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class tC extends Gt{constructor(t,n){super(t,"not-in",n),this.keys=ZE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function ZE(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>F.fromName(i.referenceValue))}class eC extends Gt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return um(n)&&al(n.arrayValue,this.value)}}class nC extends Gt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&al(this.value.arrayValue,n)}}class iC extends Gt{constructor(t,n){super(t,"not-in",n)}matches(t){if(al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!al(this.value.arrayValue,n)}}class aC extends Gt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>al(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,n=null,i=[],a=[],s=null,r=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=s,this.startAt=r,this.endAt=o,this.Te=null}}function t0(e,t=null,n=[],i=[],a=null,s=null,r=null){return new sC(e,t,n,i,a,s,r)}function cm(e){const t=X(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Vf(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Qu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Ss(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Ss(i)).join(",")),t.Te=n}return t.Te}function hm(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$R(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!XE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wy(e.startAt,t.startAt)&&Wy(e.endAt,t.endAt)}function Mf(e){return F.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,n=null,i=[],a=[],s=null,r="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=s,this.limitType=r,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rC(e,t,n,i,a,s,r,o){return new ks(e,t,n,i,a,s,r,o)}function fm(e){return new ks(e)}function e0(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function JE(e){return e.collectionGroup!==null}function zr(e){const t=X(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(r){let o=new Zt(oe.comparator);return r.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new sl(s,i))}),n.has(oe.keyField().canonicalString())||t.Ie.push(new sl(oe.keyField(),i))}return t.Ie}function yn(e){const t=X(e);return t.Ee||(t.Ee=lC(t,zr(e))),t.Ee}function lC(e,t){if(e.limitType==="F")return t0(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const s=a.dir==="desc"?"asc":"desc";return new sl(a.field,s)});const n=e.endAt?new du(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new du(e.startAt.position,e.startAt.inclusive):null;return t0(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Of(e,t){const n=e.filters.concat([t]);return new ks(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function jf(e,t,n){return new ks(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ku(e,t){return hm(yn(e),yn(t))&&e.limitType===t.limitType}function WE(e){return`${cm(yn(e))}|lt:${e.limitType}`}function ka(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>$E(a)).join(", ")}]`),Qu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Ss(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Ss(a)).join(",")),`Target(${i})`}(yn(e))}; limitType=${e.limitType})`}function Xu(e,t){return t.isFoundDocument()&&function(i,a){const s=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):F.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,a){for(const s of zr(i))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,a){for(const s of i.filters)if(!s.matches(a))return!1;return!0}(e,t)&&function(i,a){return!(i.startAt&&!function(r,o,u){const h=Jy(r,o,u);return r.inclusive?h<=0:h<0}(i.startAt,zr(i),a)||i.endAt&&!function(r,o,u){const h=Jy(r,o,u);return r.inclusive?h>=0:h>0}(i.endAt,zr(i),a))}(e,t)}function oC(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function tT(e){return(t,n)=>{let i=!1;for(const a of zr(e)){const s=uC(a,t,n);if(s!==0)return s;i=i||a.field.isKeyField()}return 0}}function uC(e,t,n){const i=e.field.isKeyField()?F.comparator(t.key,n.key):function(s,r,o){const u=r.data.field(s),h=o.data.field(s);return u!==null&&h!==null?As(u,h):G(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return G(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,s]of i)if(this.equalsFn(a,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],t))return void(a[s]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Bi(this.inner,(n,i)=>{for(const[a,s]of i)t(a,s)})}isEmpty(){return UE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new It(F.comparator);function Gn(){return cC}const eT=new It(F.comparator);function pr(...e){let t=eT;for(const n of e)t=t.insert(n.key,n);return t}function nT(e){let t=eT;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function ia(){return Ur()}function iT(){return Ur()}function Ur(){return new xa(e=>e.toString(),(e,t)=>e.isEqual(t))}const hC=new It(F.comparator),fC=new Zt(F.comparator);function st(...e){let t=fC;for(const n of e)t=t.add(n);return t}const dC=new Zt(at);function mC(){return dC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cu(t)?"-0":t}}function aT(e){return{integerValue:""+e}}function gC(e,t){return qR(t)?aT(t):dm(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this._=void 0}}function pC(e,t,n){return e instanceof mu?function(a,s){const r={fields:{[PE]:{stringValue:kE},[qE]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&om(s)&&(s=Yu(s)),s&&(r.fields[BE]=s),{mapValue:r}}(n,t):e instanceof rl?rT(e,t):e instanceof ll?lT(e,t):function(a,s){const r=sT(a,s),o=n0(r)+n0(a.Ae);return If(r)&&If(a.Ae)?aT(o):dm(a.serializer,o)}(e,t)}function yC(e,t,n){return e instanceof rl?rT(e,t):e instanceof ll?lT(e,t):n}function sT(e,t){return e instanceof gu?function(i){return If(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class mu extends $u{}class rl extends $u{constructor(t){super(),this.elements=t}}function rT(e,t){const n=oT(t);for(const i of e.elements)n.some(a=>Tn(a,i))||n.push(i);return{arrayValue:{values:n}}}class ll extends $u{constructor(t){super(),this.elements=t}}function lT(e,t){let n=oT(t);for(const i of e.elements)n=n.filter(a=>!Tn(a,i));return{arrayValue:{values:n}}}class gu extends $u{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function n0(e){return zt(e.integerValue||e.doubleValue)}function oT(e){return um(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function _C(e,t){return e.field.isEqual(t.field)&&function(i,a){return i instanceof rl&&a instanceof rl||i instanceof ll&&a instanceof ll?bs(i.elements,a.elements,Tn):i instanceof gu&&a instanceof gu?Tn(i.Ae,a.Ae):i instanceof mu&&a instanceof mu}(e.transform,t.transform)}class vC{constructor(t,n){this.version=t,this.transformResults=n}}class rn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new rn}static exists(t){return new rn(void 0,t)}static updateTime(t){return new rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function No(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Zu{}function uT(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new mm(e.key,rn.none()):new bl(e.key,e.data,rn.none());{const n=e.data,i=Ne.empty();let a=new Zt(oe.comparator);for(let s of t.fields)if(!a.has(s)){let r=n.field(s);r===null&&s.length>1&&(s=s.popLast(),r=n.field(s)),r===null?i.delete(s):i.set(s,r),a=a.add(s)}return new qi(e.key,i,new ze(a.toArray()),rn.none())}}function EC(e,t,n){e instanceof bl?function(a,s,r){const o=a.value.clone(),u=a0(a.fieldTransforms,s,r.transformResults);o.setAll(u),s.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(e,t,n):e instanceof qi?function(a,s,r){if(!No(a.precondition,s))return void s.convertToUnknownDocument(r.version);const o=a0(a.fieldTransforms,s,r.transformResults),u=s.data;u.setAll(cT(a)),u.setAll(o),s.convertToFoundDocument(r.version,u).setHasCommittedMutations()}(e,t,n):function(a,s,r){s.convertToNoDocument(r.version).setHasCommittedMutations()}(0,t,n)}function Lr(e,t,n,i){return e instanceof bl?function(s,r,o,u){if(!No(s.precondition,r))return o;const h=s.value.clone(),m=s0(s.fieldTransforms,u,r);return h.setAll(m),r.convertToFoundDocument(r.version,h).setHasLocalMutations(),null}(e,t,n,i):e instanceof qi?function(s,r,o,u){if(!No(s.precondition,r))return o;const h=s0(s.fieldTransforms,u,r),m=r.data;return m.setAll(cT(s)),m.setAll(h),r.convertToFoundDocument(r.version,m).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(s,r,o){return No(s.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(e,t,n)}function TC(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),s=sT(i.transform,a||null);s!=null&&(n===null&&(n=Ne.empty()),n.set(i.field,s))}return n||null}function i0(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&bs(i,a,(s,r)=>_C(s,r))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class bl extends Zu{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qi extends Zu{constructor(t,n,i,a,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function cT(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function a0(e,t,n){const i=new Map;dt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const s=e[a],r=s.transform,o=t.data.field(s.field);i.set(s.field,yC(r,o,n[a]))}return i}function s0(e,t,n){const i=new Map;for(const a of e){const s=a.transform,r=n.data.field(a.field);i.set(a.field,pC(s,r,t))}return i}class mm extends Zu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bC extends Zu{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(t.key)&&EC(s,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Lr(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Lr(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=iT();return this.mutations.forEach(a=>{const s=t.get(a.key),r=s.overlayedDocument;let o=this.applyToLocalView(r,s.mutatedFields);o=n.has(a.key)?null:o;const u=uT(r,o);u!==null&&i.set(a.key,u),r.isValidDocument()||r.convertToNoDocument(K.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),st())}isEqual(t){return this.batchId===t.batchId&&bs(this.mutations,t.mutations,(n,i)=>i0(n,i))&&bs(this.baseMutations,t.baseMutations,(n,i)=>i0(n,i))}}class gm{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){dt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=function(){return hC}();const s=t.mutations;for(let r=0;r<s.length;r++)a=a.insert(s[r].key,i[r].version);return new gm(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,ot;function wC(e){switch(e){case U.OK:return G(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return G(15467,{code:e})}}function hT(e){if(e===void 0)return Fn("GRPC error has no .code"),U.UNKNOWN;switch(e){case Bt.OK:return U.OK;case Bt.CANCELLED:return U.CANCELLED;case Bt.UNKNOWN:return U.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return U.INTERNAL;case Bt.UNAVAILABLE:return U.UNAVAILABLE;case Bt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Bt.NOT_FOUND:return U.NOT_FOUND;case Bt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Bt.ABORTED:return U.ABORTED;case Bt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Bt.DATA_LOSS:return U.DATA_LOSS;default:return G(39323,{code:e})}}(ot=Bt||(Bt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Si([4294967295,4294967295],0);function r0(e){const t=NC().encode(e),n=new wE;return n.update(t),new Uint8Array(n.digest())}function l0(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Si([n,i],0),new Si([a,s],0)]}class pm{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new yr(`Invalid padding: ${n}`);if(i<0)throw new yr(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new yr(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new yr(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Si.fromNumber(this.ge)}ye(t,n,i){let a=t.add(n.multiply(Si.fromNumber(i)));return a.compare(RC)===1&&(a=new Si([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=r0(t),[i,a]=l0(n);for(let s=0;s<this.hashCount;s++){const r=this.ye(i,a,s);if(!this.we(r))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),r=new pm(s,a,n);return i.forEach(o=>r.insert(o)),r}insert(t){if(this.ge===0)return;const n=r0(t),[i,a]=l0(n);for(let s=0;s<this.hashCount;s++){const r=this.ye(i,a,s);this.Se(r)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class yr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n,i,a,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,Al.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Ju(K.min(),a,new It(at),Gn(),st())}}class Al{constructor(t,n,i,a,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Al(i,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t,n,i,a){this.be=t,this.removedTargetIds=n,this.key=i,this.De=a}}class fT{constructor(t,n){this.targetId=t,this.Ce=n}}class dT{constructor(t,n,i=he.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class o0{constructor(){this.ve=0,this.Fe=u0(),this.Me=he.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=st(),n=st(),i=st();return this.Fe.forEach((a,s)=>{switch(s){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:G(38017,{changeType:s})}}),new Al(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=u0()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CC{constructor(t){this.Ge=t,this.ze=new Map,this.je=Gn(),this.Je=ao(),this.He=ao(),this.Ye=new It(at)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:G(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,a)=>{this.rt(a)&&n(a)})}st(t){const n=t.targetId,i=t.Ce.count,a=this.ot(n);if(a){const s=a.target;if(Mf(s))if(i===0){const r=new F(s.path);this.et(n,r,ge.newNoDocument(r,K.min()))}else dt(i===1,20013,{expectedCount:i});else{const r=this._t(n);if(r!==i){const o=this.ut(t),u=o?this.ct(o,t,r):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:s=0}=n;let r,o;try{r=Oi(i).toUint8Array()}catch(u){if(u instanceof LE)return Ts("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new pm(r,a,s)}catch(u){return Ts(u instanceof yr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach(s=>{const r=this.Ge.ht(),o=`projects/${r.projectId}/databases/${r.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.et(n,s,null),a++)}),a}Tt(t){const n=new Map;this.ze.forEach((s,r)=>{const o=this.ot(r);if(o){if(s.current&&Mf(o.target)){const u=new F(o.target.path);this.It(u).has(r)||this.Et(r,u)||this.et(r,u,ge.newNoDocument(u,t))}s.Be&&(n.set(r,s.ke()),s.qe())}});let i=st();this.He.forEach((s,r)=>{let o=!0;r.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(s))}),this.je.forEach((s,r)=>r.setReadTime(t));const a=new Ju(t,n,this.Ye,this.je,i);return this.je=Gn(),this.Je=ao(),this.He=ao(),this.Ye=new It(at),a}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new o0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Zt(at),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Zt(at),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new o0),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function ao(){return new It(F.comparator)}function u0(){return new It(F.comparator)}const DC={asc:"ASCENDING",desc:"DESCENDING"},IC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VC={and:"AND",or:"OR"};class MC{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function zf(e,t){return e.useProto3Json||Qu(t)?t:{value:t}}function pu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function OC(e,t){return pu(e,t.toTimestamp())}function _n(e){return dt(!!e,49232),K.fromTimestamp(function(n){const i=Mi(n);return new Nt(i.seconds,i.nanos)}(e))}function ym(e,t){return Uf(e,t).canonicalString()}function Uf(e,t){const n=function(a){return new bt(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function gT(e){const t=bt.fromString(e);return dt(ET(t),10190,{key:t.toString()}),t}function Lf(e,t){return ym(e.databaseId,t.path)}function vh(e,t){const n=gT(t);if(n.get(1)!==e.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new F(yT(n))}function pT(e,t){return ym(e.databaseId,t)}function jC(e){const t=gT(e);return t.length===4?bt.emptyPath():yT(t)}function kf(e){return new bt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yT(e){return dt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function c0(e,t,n){return{name:Lf(e,t),fields:n.value.mapValue.fields}}function zC(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:G(39313,{state:h})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(dt(m===void 0||typeof m=="string",58123),he.fromBase64String(m||"")):(dt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),he.fromUint8Array(m||new Uint8Array))}(e,t.targetChange.resumeToken),r=t.targetChange.cause,o=r&&function(h){const m=h.code===void 0?U.UNKNOWN:hT(h.code);return new q(m,h.message||"")}(r);n=new dT(i,a,s,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=vh(e,i.document.name),s=_n(i.document.updateTime),r=i.document.createTime?_n(i.document.createTime):K.min(),o=new Ne({mapValue:{fields:i.document.fields}}),u=ge.newFoundDocument(a,s,r,o),h=i.targetIds||[],m=i.removedTargetIds||[];n=new Ro(h,m,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=vh(e,i.document),s=i.readTime?_n(i.readTime):K.min(),r=ge.newNoDocument(a,s),o=i.removedTargetIds||[];n=new Ro([],o,r.key,r)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=vh(e,i.document),s=i.removedTargetIds||[];n=new Ro([],s,a,null)}else{if(!("filter"in t))return G(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:s}=i,r=new xC(a,s),o=i.targetId;n=new fT(o,r)}}return n}function UC(e,t){let n;if(t instanceof bl)n={update:c0(e,t.key,t.value)};else if(t instanceof mm)n={delete:Lf(e,t.key)};else if(t instanceof qi)n={update:c0(e,t.key,t.data),updateMask:QC(t.fieldMask)};else{if(!(t instanceof bC))return G(16599,{Vt:t.type});n={verify:Lf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,r){const o=r.transform;if(o instanceof mu)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof rl)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ll)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof gu)return{fieldPath:r.field.canonicalString(),increment:o.Ae};throw G(20930,{transform:r.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(a,s){return s.updateTime!==void 0?{updateTime:OC(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G(27497)}(e,t.precondition)),n}function LC(e,t){return e&&e.length>0?(dt(t!==void 0,14353),e.map(n=>function(a,s){let r=a.updateTime?_n(a.updateTime):_n(s);return r.isEqual(K.min())&&(r=_n(s)),new vC(r,a.transformResults||[])}(n,t))):[]}function kC(e,t){return{documents:[pT(e,t.path)]}}function PC(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=pT(e,a);const s=function(h){if(h.length!==0)return vT(ln.create(h,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const r=function(h){if(h.length!==0)return h.map(m=>function(y){return{field:Pa(y.field),direction:HC(y.dir)}}(m))}(t.orderBy);r&&(n.structuredQuery.orderBy=r);const o=zf(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{ft:n,parent:a}}function BC(e){let t=jC(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){dt(i===1,65062);const m=n.from[0];m.allDescendants?a=m.collectionId:t=t.child(m.collectionId)}let s=[];n.where&&(s=function(p){const y=_T(p);return y instanceof ln&&KE(y)?y.getFilters():[y]}(n.where));let r=[];n.orderBy&&(r=function(p){return p.map(y=>function(C){return new sl(Ba(C.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(y))}(n.orderBy));let o=null;n.limit&&(o=function(p){let y;return y=typeof p=="object"?p.value:p,Qu(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){const y=!!p.before,T=p.values||[];return new du(T,y)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const y=!p.before,T=p.values||[];return new du(T,y)}(n.endAt)),rC(t,a,r,s,o,"F",u,h)}function qC(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function _T(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ba(n.unaryFilter.field);return Gt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Ba(n.unaryFilter.field);return Gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ba(n.unaryFilter.field);return Gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ba(n.unaryFilter.field);return Gt.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}}(e):e.fieldFilter!==void 0?function(n){return Gt.create(Ba(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ln.create(n.compositeFilter.filters.map(i=>_T(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return G(1026)}}(n.compositeFilter.op))}(e):G(30097,{filter:e})}function HC(e){return DC[e]}function FC(e){return IC[e]}function GC(e){return VC[e]}function Pa(e){return{fieldPath:e.canonicalString()}}function Ba(e){return oe.fromServerFormat(e.fieldPath)}function vT(e){return e instanceof Gt?function(n){if(n.op==="=="){if(Zy(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if($y(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zy(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if($y(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:FC(n.op),value:n.value}}}(e):e instanceof ln?function(n){const i=n.getFilters().map(a=>vT(a));return i.length===1?i[0]:{compositeFilter:{op:GC(n.op),filters:i}}}(e):G(54877,{filter:e})}function QC(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function ET(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,n,i,a,s=K.min(),r=K.min(),o=he.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=r,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new fi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t){this.yt=t}}function KC(e){const t=BC({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?jf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.Cn=new $C}addToCollectionParentIndex(t,n){return this.Cn.add(n),L.resolve()}getCollectionParents(t,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return L.resolve()}deleteFieldIndex(t,n){return L.resolve()}deleteAllFieldIndexes(t){return L.resolve()}createTargetIndexes(t,n){return L.resolve()}getDocumentsMatchingTarget(t,n){return L.resolve(null)}getIndexType(t,n){return L.resolve(0)}getFieldIndexes(t,n){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,n){return L.resolve(Vi.min())}getMinOffsetFromCollectionGroup(t,n){return L.resolve(Vi.min())}updateCollectionGroup(t,n,i){return L.resolve()}updateIndexEntries(t,n){return L.resolve()}}class $C{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new Zt(bt.comparator),s=!a.has(i);return this.index[n]=a.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Zt(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TT=41943040;class we{static withCacheSize(t){return new we(t,we.DEFAULT_COLLECTION_PERCENTILE,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */we.DEFAULT_COLLECTION_PERCENTILE=10,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,we.DEFAULT=new we(TT,we.DEFAULT_COLLECTION_PERCENTILE,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),we.DISABLED=new we(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new xs(0)}static cr(){return new xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="LruGarbageCollector",ZC=1048576;function d0([e,t],[n,i]){const a=at(e,n);return a===0?at(t,i):a}class JC{constructor(t){this.Ir=t,this.buffer=new Zt(d0),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();d0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WC{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){H(f0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ls(n)?H(f0,"Ignoring IndexedDB error during garbage collection: ",n):await Us(n)}await this.Vr(3e5)})}}class t4{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return L.resolve(Gu.ce);const i=new JC(n);return this.mr.forEachTarget(t,a=>i.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>i.Ar(a))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(h0)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h0):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,a,s,r,o,u,h;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),a=this.params.maximumSequenceNumbersToCollect):a=p,r=Date.now(),this.nthSequenceNumber(t,a))).next(p=>(i=p,o=Date.now(),this.removeTargets(t,i,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(h=Date.now(),La()<=ut.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${r-m}ms
	Determined least recently used ${a} in `+(o-r)+`ms
	Removed ${s} targets in `+(u-o)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-m}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:p})))}}function e4(e,t){return new t4(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.changes=new xa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ge.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(i!==null&&Lr(i.mutation,a,ze.empty(),Nt.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,st()).next(()=>i))}getLocalViewOfDocuments(t,n,i=st()){const a=ia();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,i).next(s=>{let r=pr();return s.forEach((o,u)=>{r=r.insert(o,u.overlayedDocument)}),r}))}getOverlayedDocuments(t,n){const i=ia();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,st()))}populateOverlays(t,n,i){const a=[];return i.forEach(s=>{n.has(s)||a.push(s)}),this.documentOverlayCache.getOverlays(t,a).next(s=>{s.forEach((r,o)=>{n.set(r,o)})})}computeViews(t,n,i,a){let s=Gn();const r=Ur(),o=function(){return Ur()}();return n.forEach((u,h)=>{const m=i.get(h.key);a.has(h.key)&&(m===void 0||m.mutation instanceof qi)?s=s.insert(h.key,h):m!==void 0?(r.set(h.key,m.mutation.getFieldMask()),Lr(m.mutation,h,m.mutation.getFieldMask(),Nt.now())):r.set(h.key,ze.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((h,m)=>r.set(h,m)),n.forEach((h,m)=>o.set(h,new i4(m,r.get(h)??null))),o))}recalculateAndSaveOverlays(t,n){const i=Ur();let a=new It((r,o)=>r-o),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(r=>{for(const o of r)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let m=i.get(u)||ze.empty();m=o.applyToLocalView(h,m),i.set(u,m);const p=(a.get(o.batchId)||st()).add(u);a=a.insert(o.batchId,p)})}).next(()=>{const r=[],o=a.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,m=u.value,p=iT();m.forEach(y=>{if(!s.has(y)){const T=uT(n.get(y),i.get(y));T!==null&&p.set(y,T),s=s.add(y)}}),r.push(this.documentOverlayCache.saveOverlays(t,h,p))}return L.waitFor(r)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,a){return function(r){return F.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):JE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next(s=>{const r=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-s.size):L.resolve(ia());let o=el,u=s;return r.next(h=>L.forEach(h,(m,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(m)?L.resolve():this.remoteDocumentCache.getEntry(t,m).next(y=>{u=u.insert(m,y)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,u,h,st())).next(m=>({batchId:o,changes:nT(m)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new F(n)).next(i=>{let a=pr();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const s=n.collectionGroup;let r=pr();return this.indexManager.getCollectionParents(t,s).next(o=>L.forEach(o,u=>{const h=function(p,y){return new ks(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,i,a).next(m=>{m.forEach((p,y)=>{r=r.insert(p,y)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,n,i,a){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,a))).next(r=>{s.forEach((u,h)=>{const m=h.getKey();r.get(m)===null&&(r=r.insert(m,ge.newInvalidDocument(m)))});let o=pr();return r.forEach((u,h)=>{const m=s.get(u);m!==void 0&&Lr(m.mutation,h,ze.empty(),Nt.now()),Xu(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return L.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:_n(a.createTime)}}(n)),L.resolve()}getNamedQuery(t,n){return L.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(a){return{name:a.name,query:KC(a.bundledQuery),readTime:_n(a.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.overlays=new It(F.comparator),this.qr=new Map}getOverlay(t,n){return L.resolve(this.overlays.get(n))}getOverlays(t,n){const i=ia();return L.forEach(n,a=>this.getOverlay(t,a).next(s=>{s!==null&&i.set(a,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((a,s)=>{this.St(t,n,s)}),L.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),L.resolve()}getOverlaysForCollection(t,n,i){const a=ia(),s=n.length+1,r=new F(n.child("")),o=this.overlays.getIteratorFrom(r);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>i&&a.set(u.getKey(),u)}return L.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let s=new It((h,m)=>h-m);const r=this.overlays.getIterator();for(;r.hasNext();){const h=r.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>i){let m=s.get(h.largestBatchId);m===null&&(m=ia(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const o=ia(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,m)=>o.set(h,m)),!(o.size()>=a)););return L.resolve(o)}St(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const r=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,r)}this.overlays=this.overlays.insert(i.key,new SC(n,i));let s=this.qr.get(n);s===void 0&&(s=st(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.sessionToken=he.EMPTY_BYTE_STRING}getSessionToken(t){return L.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this.Qr=new Zt(te.$r),this.Ur=new Zt(te.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new te(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new te(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new F(new bt([])),i=new te(n,t),a=new te(n,t+1),s=[];return this.Ur.forEachInRange([i,a],r=>{this.Gr(r),s.push(r.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new F(new bt([])),i=new te(n,t),a=new te(n,t+1);let s=st();return this.Ur.forEachInRange([i,a],r=>{s=s.add(r.key)}),s}containsKey(t){const n=new te(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class te{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return F.comparator(t.key,n.key)||at(t.Yr,n.Yr)}static Kr(t,n){return at(t.Yr,n.Yr)||F.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(te.$r)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const r=new AC(s,n,i,a);this.mutationQueue.push(r);for(const o of a)this.Zr=this.Zr.add(new te(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return L.resolve(r)}lookupMutationBatch(t,n){return L.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.ei(i),s=a<0?0:a;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?lm:this.tr-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new te(n,0),a=new te(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,a],r=>{const o=this.Xr(r.Yr);s.push(o)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Zt(at);return n.forEach(a=>{const s=new te(a,0),r=new te(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,r],o=>{i=i.add(o.Yr)})}),L.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let s=i;F.isDocumentKey(s)||(s=s.child(""));const r=new te(new F(s),0);let o=new Zt(at);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!i.isPrefixOf(h)&&(h.length===a&&(o=o.add(u.Yr)),!0)},r),L.resolve(this.ti(o))}ti(t){const n=[];return t.forEach(i=>{const a=this.Xr(i);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return L.forEach(n.mutations,a=>{const s=new te(a.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new te(n,0),a=this.Zr.firstAfterOrEqual(i);return L.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(t){this.ri=t,this.docs=function(){return new It(F.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),s=a?a.size:0,r=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:r}),this.size+=r-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():ge.newInvalidDocument(n))}getEntries(t,n){let i=Gn();return n.forEach(a=>{const s=this.docs.get(a);i=i.insert(a,s?s.document.mutableCopy():ge.newInvalidDocument(a))}),L.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let s=Gn();const r=n.path,o=new F(r.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:m}}=u.getNext();if(!r.isPrefixOf(h.path))break;h.path.length>r.length+1||LR(UR(m),i)<=0||(a.has(m.key)||Xu(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(t,n,i,a){G(9500)}ii(t,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new c4(this)}getSize(t){return L.resolve(this.size)}}class c4 extends n4{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)}),L.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(t){this.persistence=t,this.si=new xa(n=>cm(n),hm),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.oi=0,this._i=new _m,this.targetCount=0,this.ai=xs.ur()}forEachTarget(t,n){return this.si.forEach((i,a)=>n(a)),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),L.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new xs(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,L.resolve()}updateTargetData(t,n){return this.Pr(n),L.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,n,i){let a=0;const s=[];return this.si.forEach((r,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.si.delete(r),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),L.waitFor(s).next(()=>a)}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return L.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),L.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach(r=>{s.push(a.markPotentiallyOrphaned(t,r))}),L.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),L.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return L.resolve(i)}containsKey(t,n){return L.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,n){this.ui={},this.overlays={},this.ci=new Gu(0),this.li=!1,this.li=!0,this.hi=new l4,this.referenceDelegate=t(this),this.Pi=new h4(this),this.indexManager=new XC,this.remoteDocumentCache=function(a){return new u4(a)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new YC(n),this.Ii=new s4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new r4,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new o4(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){H("MemoryPersistence","Starting transaction:",t);const a=new f4(this.ci.next());return this.referenceDelegate.Ei(),i(a).next(s=>this.referenceDelegate.di(a).next(()=>s)).toPromise().then(s=>(a.raiseOnCommittedEvent(),s))}Ai(t,n){return L.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class f4 extends PR{constructor(t){super(),this.currentSequenceNumber=t}}class vm{constructor(t){this.persistence=t,this.Ri=new _m,this.Vi=null}static mi(t){return new vm(t)}get fi(){if(this.Vi)return this.Vi;throw G(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),L.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),L.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),L.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,i=>{const a=F.fromPath(i);return this.gi(t,a).next(s=>{s||n.removeEntry(a,K.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class yu{constructor(t,n){this.persistence=t,this.pi=new xa(i=>HR(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=e4(this,n)}static mi(t,n){return new yu(t,n)}Ei(){}di(t){return L.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(a=>i+a))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return L.forEach(this.pi,(i,a)=>this.br(t,i,a).next(s=>s?L.resolve():n(a)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(t,r=>this.br(t,r,n).next(o=>{o||(i++,s.removeEntry(r,K.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),L.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),L.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),L.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),L.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xo(t.data.value)),n}br(t,n,i){return L.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return L.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=a}static As(t,n){let i=st(),a=st();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new Em(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Lx()?8:BR(jx())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,a){const s={result:null};return this.ys(t,n).next(r=>{s.result=r}).next(()=>{if(!s.result)return this.ws(t,n,a,i).next(r=>{s.result=r})}).next(()=>{if(s.result)return;const r=new d4;return this.Ss(t,n,r).next(o=>{if(s.result=o,this.Vs)return this.bs(t,n,r,o.size)})}).next(()=>s.result)}bs(t,n,i,a){return i.documentReadCount<this.fs?(La()<=ut.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(La()<=ut.DEBUG&&H("QueryEngine","Query:",ka(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(La()<=ut.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,yn(n))):L.resolve())}ys(t,n){if(e0(n))return L.resolve(null);let i=yn(n);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=jf(n,null,"F"),i=yn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const r=st(...s);return this.ps.getDocuments(t,r).next(o=>this.indexManager.getMinOffset(t,i).next(u=>{const h=this.Ds(n,o);return this.Cs(n,h,r,u.readTime)?this.ys(t,jf(n,null,"F")):this.vs(t,h,n,u)}))})))}ws(t,n,i,a){return e0(n)||a.isEqual(K.min())?L.resolve(null):this.ps.getDocuments(t,i).next(s=>{const r=this.Ds(n,s);return this.Cs(n,r,i,a)?L.resolve(null):(La()<=ut.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ka(n)),this.vs(t,r,n,zR(a,el)).next(o=>o))})}Ds(t,n){let i=new Zt(tT(t));return n.forEach((a,s)=>{Xu(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(t,n,i){return La()<=ut.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",ka(n)),this.ps.getDocumentsMatchingQuery(t,n,Vi.min(),i)}vs(t,n,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next(s=>(n.forEach(r=>{s=s.insert(r.key,r)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="LocalStore",g4=3e8;class p4{constructor(t,n,i,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new It(at),this.xs=new xa(s=>cm(s),hm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new a4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function y4(e,t,n,i){return new p4(e,t,n,i)}async function AT(e,t){const n=X(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(s=>(a=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const r=[],o=[];let u=st();for(const h of a){r.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}for(const h of s){o.push(h.batchId);for(const m of h.mutations)u=u.add(m.key)}return n.localDocuments.getDocuments(i,u).next(h=>({Ls:h,removedBatchIds:r,addedBatchIds:o}))})})}function _4(e,t){const n=X(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,u,h,m){const p=h.batch,y=p.keys();let T=L.resolve();return y.forEach(C=>{T=T.next(()=>m.getEntry(u,C)).next(V=>{const M=h.docVersions.get(C);dt(M!==null,48541),V.version.compareTo(M)<0&&(p.applyToRemoteDocument(V,h),V.isValidDocument()&&(V.setReadTime(h.commitVersion),m.addEntry(V)))})}),T.next(()=>o.mutationQueue.removeMutationBatch(u,p))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let u=st();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,a))})}function ST(e){const t=X(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function v4(e,t){const n=X(e),i=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const r=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const o=[];t.targetChanges.forEach((m,p)=>{const y=a.get(p);if(!y)return;o.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(s,m.addedDocuments,p)));let T=y.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?T=T.withResumeToken(he.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,i)),a=a.insert(p,T),function(V,M,S){return V.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=g4?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(y,T,m)&&o.push(n.Pi.updateTargetData(s,T))});let u=Gn(),h=st();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),o.push(E4(s,r,t.documentUpdates).next(m=>{u=m.ks,h=m.qs})),!i.isEqual(K.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next(p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));o.push(m)}return L.waitFor(o).next(()=>r.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(n.Ms=a,s))}function E4(e,t,n){let i=st(),a=st();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let r=Gn();return n.forEach((o,u)=>{const h=s.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(o)),u.isNoDocument()&&u.version.isEqual(K.min())?(t.removeEntry(o,u.readTime),r=r.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(u),r=r.insert(o,u)):H(Tm,"Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{ks:r,qs:a}})}function T4(e,t){const n=X(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=lm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function b4(e,t){const n=X(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Pi.getTargetData(i,t).next(s=>s?(a=s,L.resolve(a)):n.Pi.allocateTargetId(i).next(r=>(a=new fi(t,r,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function Pf(e,t,n){const i=X(e),a=i.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,r=>i.persistence.referenceDelegate.removeTarget(r,a))}catch(r){if(!Ls(r))throw r;H(Tm,`Failed to update sequence numbers for target ${t}: ${r}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function m0(e,t,n){const i=X(e);let a=K.min(),s=st();return i.persistence.runTransaction("Execute query","readwrite",r=>function(u,h,m){const p=X(u),y=p.xs.get(m);return y!==void 0?L.resolve(p.Ms.get(y)):p.Pi.getTargetData(h,m)}(i,r,yn(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(r,o.targetId).next(u=>{s=u})}).next(()=>i.Fs.getDocumentsMatchingQuery(r,t,n?a:K.min(),n?s:st())).next(o=>(A4(i,oC(t),o),{documents:o,Qs:s})))}function A4(e,t,n){let i=e.Os.get(t)||K.min();n.forEach((a,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Os.set(t,i)}class g0{constructor(){this.activeTargetIds=mC()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class S4{constructor(){this.Mo=new g0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new g0,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="ConnectivityMonitor";class y0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(p0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){H(p0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so=null;function Bf(){return so===null?so=function(){return 268435456+Math.round(2147483648*Math.random())}():so++,"0x"+so.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="RestConnection",w4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===hu?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,n,i,a,s){const r=Bf(),o=this.zo(t,n.toUriEncodedString());H(Eh,`Sending RPC '${t}' ${r}:`,o,i);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,a,s);const{host:h}=new URL(o),m=$d(h);return this.Jo(t,o,u,i,m).then(p=>(H(Eh,`Received RPC '${t}' ${r}: `,p),p),p=>{throw Ts(Eh,`RPC '${t}' ${r} failed with error: `,p,"url: ",o,"request:",i),p})}Ho(t,n,i,a,s,r){return this.Go(t,n,i,a,s)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>t[s]=a),i&&i.headers.forEach((a,s)=>t[s]=a)}zo(t,n){const i=w4[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de="WebChannelConnection";class C4 extends N4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,a,s){const r=Bf();return new Promise((o,u)=>{const h=new NE;h.setWithCredentials(!0),h.listenOnce(RE.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case So.NO_ERROR:const p=h.getResponseJson();H(de,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(p)),o(p);break;case So.TIMEOUT:H(de,`RPC '${t}' ${r} timed out`),u(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case So.HTTP_ERROR:const y=h.getStatus();if(H(de,`RPC '${t}' ${r} failed with status:`,y,"response text:",h.getResponseText()),y>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const V=function(S){const b=S.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(b)>=0?b:U.UNKNOWN}(C.status);u(new q(V,C.message))}else u(new q(U.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new q(U.UNAVAILABLE,"Connection failed."));break;default:G(9055,{l_:t,streamId:r,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{H(de,`RPC '${t}' ${r} completed.`)}});const m=JSON.stringify(a);H(de,`RPC '${t}' ${r} sending request:`,a),h.send(n,"POST",m,i,15)})}T_(t,n,i){const a=Bf(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=IE(),o=DE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const m=s.join("");H(de,`Creating RPC '${t}' stream ${a}: ${m}`,u);const p=r.createWebChannel(m,u);this.I_(p);let y=!1,T=!1;const C=new R4({Yo:M=>{T?H(de,`Not sending because RPC '${t}' stream ${a} is closed:`,M):(y||(H(de,`Opening RPC '${t}' stream ${a} transport.`),p.open(),y=!0),H(de,`RPC '${t}' stream ${a} sending:`,M),p.send(M))},Zo:()=>p.close()}),V=(M,S,b)=>{M.listen(S,N=>{try{b(N)}catch(I){setTimeout(()=>{throw I},0)}})};return V(p,gr.EventType.OPEN,()=>{T||(H(de,`RPC '${t}' stream ${a} transport opened.`),C.o_())}),V(p,gr.EventType.CLOSE,()=>{T||(T=!0,H(de,`RPC '${t}' stream ${a} transport closed`),C.a_(),this.E_(p))}),V(p,gr.EventType.ERROR,M=>{T||(T=!0,Ts(de,`RPC '${t}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),C.a_(new q(U.UNAVAILABLE,"The operation could not be completed")))}),V(p,gr.EventType.MESSAGE,M=>{var S;if(!T){const b=M.data[0];dt(!!b,16349);const N=b,I=(N==null?void 0:N.error)||((S=N[0])==null?void 0:S.error);if(I){H(de,`RPC '${t}' stream ${a} received error:`,I);const j=I.status;let k=function(v){const A=Bt[v];if(A!==void 0)return hT(A)}(j),E=I.message;k===void 0&&(k=U.INTERNAL,E="Unknown error status: "+j+" with message "+I.message),T=!0,C.a_(new q(k,E)),p.close()}else H(de,`RPC '${t}' stream ${a} received:`,b),C.u_(b)}}),V(o,CE.STAT_EVENT,M=>{M.stat===Rf.PROXY?H(de,`RPC '${t}' stream ${a} detected buffering proxy`):M.stat===Rf.NOPROXY&&H(de,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Th(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(e){return new MC(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(t,n,i=1e3,a=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&H("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="PersistentStream";class wT{constructor(t,n,i,a,s,r,o,u){this.Mi=t,this.S_=i,this.b_=a,this.connection=s,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.D_===n&&this.G_(i,a)},i=>{t(()=>{const a=new q(U.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{i(()=>this.z_(a))}),this.stream.onMessage(a=>{i(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return H(_0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(H(_0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D4 extends wT{constructor(t,n,i,a,s,r){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,r),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=zC(this.serializer,t),i=function(s){if(!("targetChange"in s))return K.min();const r=s.targetChange;return r.targetIds&&r.targetIds.length?K.min():r.readTime?_n(r.readTime):K.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=kf(this.serializer),n.addTarget=function(s,r){let o;const u=r.target;if(o=Mf(u)?{documents:kC(s,u)}:{query:PC(s,u).ft},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0){o.resumeToken=mT(s,r.resumeToken);const h=zf(s,r.expectedCount);h!==null&&(o.expectedCount=h)}else if(r.snapshotVersion.compareTo(K.min())>0){o.readTime=pu(s,r.snapshotVersion.toTimestamp());const h=zf(s,r.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,t);const i=qC(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=kf(this.serializer),n.removeTarget=t,this.q_(n)}}class I4 extends wT{constructor(t,n,i,a,s,r){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,r),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return dt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,dt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){dt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=LC(t.writeResults,t.commitTime),i=_n(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=kf(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>UC(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{}class M4 extends V4{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.Go(t,Uf(n,i),a,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(U.UNKNOWN,s.toString())})}Ho(t,n,i,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Ho(t,Uf(n,i),a,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(U.UNKNOWN,r.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class O4{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fn(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class j4{constructor(t,n,i,a,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(r=>{i.enqueueAndForget(async()=>{wa(this)&&(H(va,"Restarting streams for network reachability change."),await async function(u){const h=X(u);h.Ea.add(4),await Sl(h),h.Ra.set("Unknown"),h.Ea.delete(4),await tc(h)}(this))})}),this.Ra=new O4(i,a)}}async function tc(e){if(wa(e))for(const t of e.da)await t(!0)}async function Sl(e){for(const t of e.da)await t(!1)}function NT(e,t){const n=X(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),xm(n)?Sm(n):Ps(n).O_()&&Am(n,t))}function bm(e,t){const n=X(e),i=Ps(n);n.Ia.delete(t),i.O_()&&RT(n,t),n.Ia.size===0&&(i.O_()?i.L_():wa(n)&&n.Ra.set("Unknown"))}function Am(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(K.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ps(e).Y_(t)}function RT(e,t){e.Va.Ue(t),Ps(e).Z_(t)}function Sm(e){e.Va=new CC({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ps(e).start(),e.Ra.ua()}function xm(e){return wa(e)&&!Ps(e).x_()&&e.Ia.size>0}function wa(e){return X(e).Ea.size===0}function CT(e){e.Va=void 0}async function z4(e){e.Ra.set("Online")}async function U4(e){e.Ia.forEach((t,n)=>{Am(e,t)})}async function L4(e,t){CT(e),xm(e)?(e.Ra.ha(t),Sm(e)):e.Ra.set("Unknown")}async function k4(e,t,n){if(e.Ra.set("Online"),t instanceof dT&&t.state===2&&t.cause)try{await async function(a,s){const r=s.cause;for(const o of s.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,r),a.Ia.delete(o),a.Va.removeTarget(o))}(e,t)}catch(i){H(va,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await _u(e,i)}else if(t instanceof Ro?e.Va.Ze(t):t instanceof fT?e.Va.st(t):e.Va.tt(t),!n.isEqual(K.min()))try{const i=await ST(e.localStore);n.compareTo(i)>=0&&await function(s,r){const o=s.Va.Tt(r);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const m=s.Ia.get(h);m&&s.Ia.set(h,m.withResumeToken(u.resumeToken,r))}}),o.targetMismatches.forEach((u,h)=>{const m=s.Ia.get(u);if(!m)return;s.Ia.set(u,m.withResumeToken(he.EMPTY_BYTE_STRING,m.snapshotVersion)),RT(s,u);const p=new fi(m.target,u,h,m.sequenceNumber);Am(s,p)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(i){H(va,"Failed to raise snapshot:",i),await _u(e,i)}}async function _u(e,t,n){if(!Ls(t))throw t;e.Ea.add(1),await Sl(e),e.Ra.set("Offline"),n||(n=()=>ST(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(va,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await tc(e)})}function DT(e,t){return t().catch(n=>_u(e,n,t))}async function ec(e){const t=X(e),n=zi(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:lm;for(;P4(t);)try{const a=await T4(t.localStore,i);if(a===null){t.Ta.length===0&&n.L_();break}i=a.batchId,B4(t,a)}catch(a){await _u(t,a)}IT(t)&&VT(t)}function P4(e){return wa(e)&&e.Ta.length<10}function B4(e,t){e.Ta.push(t);const n=zi(e);n.O_()&&n.X_&&n.ea(t.mutations)}function IT(e){return wa(e)&&!zi(e).x_()&&e.Ta.length>0}function VT(e){zi(e).start()}async function q4(e){zi(e).ra()}async function H4(e){const t=zi(e);for(const n of e.Ta)t.ea(n.mutations)}async function F4(e,t,n){const i=e.Ta.shift(),a=gm.from(i,t,n);await DT(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await ec(e)}async function G4(e,t){t&&zi(e).X_&&await async function(i,a){if(function(r){return wC(r)&&r!==U.ABORTED}(a.code)){const s=i.Ta.shift();zi(i).B_(),await DT(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,a)),await ec(i)}}(e,t),IT(e)&&VT(e)}async function v0(e,t){const n=X(e);n.asyncQueue.verifyOperationInProgress(),H(va,"RemoteStore received new credentials");const i=wa(n);n.Ea.add(3),await Sl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await tc(n)}async function Q4(e,t){const n=X(e);t?(n.Ea.delete(2),await tc(n)):t||(n.Ea.add(2),await Sl(n),n.Ra.set("Unknown"))}function Ps(e){return e.ma||(e.ma=function(n,i,a){const s=X(n);return s.sa(),new D4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{Xo:z4.bind(null,e),t_:U4.bind(null,e),r_:L4.bind(null,e),H_:k4.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),xm(e)?Sm(e):e.Ra.set("Unknown")):(await e.ma.stop(),CT(e))})),e.ma}function zi(e){return e.fa||(e.fa=function(n,i,a){const s=X(n);return s.sa(),new I4(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:q4.bind(null,e),r_:G4.bind(null,e),ta:H4.bind(null,e),na:F4.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await ec(e)):(await e.fa.stop(),e.Ta.length>0&&(H(va,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n,i,a,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=s,this.deferred=new ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(r=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,s){const r=Date.now()+i,o=new wm(t,n,r,a,s);return o.start(i),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(e,t){if(Fn("AsyncQueue",`${t}: ${e}`),Ls(e))return new q(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{static emptySet(t){return new os(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||F.comparator(n.key,i.key):(n,i)=>F.comparator(n.key,i.key),this.keyedMap=pr(),this.sortedSet=new It(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof os)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=i.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new os;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.ga=new It(F.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):G(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class ws{constructor(t,n,i,a,s,r,o,u,h){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=s,this.fromCache=r,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(t,n,i,a,s){const r=[];return n.forEach(o=>{r.push({type:0,doc:o})}),new ws(t,n,os.emptySet(n),r,i,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ku(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class K4{constructor(){this.queries=T0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=X(n),s=a.queries;a.queries=T0(),s.forEach((r,o)=>{for(const u of o.Sa)u.onError(i)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function T0(){return new xa(e=>WE(e),Ku)}async function X4(e,t){const n=X(e);let i=3;const a=t.query;let s=n.queries.get(a);s?!s.ba()&&t.Da()&&(i=2):(s=new Y4,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(r){const o=Nm(r,`Initialization of query '${ka(t.query)}' failed`);return void t.onError(o)}n.queries.set(a,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&Rm(n)}async function $4(e,t){const n=X(e),i=t.query;let a=3;const s=n.queries.get(i);if(s){const r=s.Sa.indexOf(t);r>=0&&(s.Sa.splice(r,1),s.Sa.length===0?a=t.Da()?0:1:!s.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Z4(e,t){const n=X(e);let i=!1;for(const a of t){const s=a.query,r=n.queries.get(s);if(r){for(const o of r.Sa)o.Fa(a)&&(i=!0);r.wa=a}}i&&Rm(n)}function J4(e,t,n){const i=X(e),a=i.queries.get(t);if(a)for(const s of a.Sa)s.onError(n);i.queries.delete(t)}function Rm(e){e.Ca.forEach(t=>{t.next()})}var qf,b0;(b0=qf||(qf={})).Ma="default",b0.Cache="cache";class W4{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new ws(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=ws.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t){this.key=t}}class OT{constructor(t){this.key=t}}class tD{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=tT(t),this.tu=new os(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new E0,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,r=a,o=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((m,p)=>{const y=a.get(m),T=Xu(this.query,p)?p:null,C=!!y&&this.mutatedKeys.has(y.key),V=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let M=!1;y&&T?y.data.isEqual(T.data)?C!==V&&(i.track({type:3,doc:T}),M=!0):this.su(y,T)||(i.track({type:2,doc:T}),M=!0,(u&&this.eu(T,u)>0||h&&this.eu(T,h)<0)&&(o=!0)):!y&&T?(i.track({type:0,doc:T}),M=!0):y&&!T&&(i.track({type:1,doc:y}),M=!0,(u||h)&&(o=!0)),M&&(T?(r=r.add(T),s=V?s.add(m):s.delete(m)):(r=r.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;r.size>this.query.limit;){const m=this.query.limitType==="F"?r.last():r.first();r=r.delete(m.key),s=s.delete(m.key),i.track({type:1,doc:m})}return{tu:r,iu:i,Cs:o,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const r=t.iu.ya();r.sort((m,p)=>function(T,C){const V=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{Rt:M})}};return V(T)-V(C)}(m.type,p.type)||this.eu(m.doc,p.doc)),this.ou(i),a=a??!1;const o=n&&!a?this._u():[],u=this.Xa.size===0&&this.current&&!a?1:0,h=u!==this.Za;return this.Za=u,r.length!==0||h?{snapshot:new ws(this.query,t.tu,s,r,t.mutatedKeys,u===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=st(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new OT(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new MT(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=st();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return ws.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cm="SyncEngine";class eD{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class nD{constructor(t){this.key=t,this.hu=!1}}class iD{constructor(t,n,i,a,s,r){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=r,this.Pu={},this.Tu=new xa(o=>WE(o),Ku),this.Iu=new Map,this.Eu=new Set,this.du=new It(F.comparator),this.Au=new Map,this.Ru=new _m,this.Vu={},this.mu=new Map,this.fu=xs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aD(e,t,n=!0){const i=PT(e);let a;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await jT(i,t,n,!0),a}async function sD(e,t){const n=PT(e);await jT(n,t,!0,!1)}async function jT(e,t,n,i){const a=await b4(e.localStore,yn(t)),s=a.targetId,r=e.sharedClientState.addLocalQueryTarget(s,n);let o;return i&&(o=await rD(e,t,s,r==="current",a.resumeToken)),e.isPrimaryClient&&n&&NT(e.remoteStore,a),o}async function rD(e,t,n,i,a){e.pu=(p,y,T)=>async function(V,M,S,b){let N=M.view.ru(S);N.Cs&&(N=await m0(V.localStore,M.query,!1).then(({documents:E})=>M.view.ru(E,N)));const I=b&&b.targetChanges.get(M.targetId),j=b&&b.targetMismatches.get(M.targetId)!=null,k=M.view.applyChanges(N,V.isPrimaryClient,I,j);return S0(V,M.targetId,k.au),k.snapshot}(e,p,y,T);const s=await m0(e.localStore,t,!0),r=new tD(t,s.Qs),o=r.ru(s.documents),u=Al.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),h=r.applyChanges(o,e.isPrimaryClient,u);S0(e,n,h.au);const m=new eD(t,n,r);return e.Tu.set(t,m),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),h.snapshot}async function lD(e,t,n){const i=X(e),a=i.Tu.get(t),s=i.Iu.get(a.targetId);if(s.length>1)return i.Iu.set(a.targetId,s.filter(r=>!Ku(r,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Pf(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&bm(i.remoteStore,a.targetId),Hf(i,a.targetId)}).catch(Us)):(Hf(i,a.targetId),await Pf(i.localStore,a.targetId,!0))}async function oD(e,t){const n=X(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),bm(n.remoteStore,i.targetId))}async function uD(e,t,n){const i=pD(e);try{const a=await function(r,o){const u=X(r),h=Nt.now(),m=o.reduce((T,C)=>T.add(C.key),st());let p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=Gn(),V=st();return u.Ns.getEntries(T,m).next(M=>{C=M,C.forEach((S,b)=>{b.isValidDocument()||(V=V.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(T,C)).next(M=>{p=M;const S=[];for(const b of o){const N=TC(b,p.get(b.key).overlayedDocument);N!=null&&S.push(new qi(b.key,N,GE(N.value.mapValue),rn.exists(!0)))}return u.mutationQueue.addMutationBatch(T,h,S,o)}).next(M=>{y=M;const S=M.applyToLocalDocumentSet(p,V);return u.documentOverlayCache.saveOverlays(T,M.batchId,S)})}).then(()=>({batchId:y.batchId,changes:nT(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(r,o,u){let h=r.Vu[r.currentUser.toKey()];h||(h=new It(at)),h=h.insert(o,u),r.Vu[r.currentUser.toKey()]=h}(i,a.batchId,n),await xl(i,a.changes),await ec(i.remoteStore)}catch(a){const s=Nm(a,"Failed to persist write");n.reject(s)}}async function zT(e,t){const n=X(e);try{const i=await v4(n.localStore,t);t.targetChanges.forEach((a,s)=>{const r=n.Au.get(s);r&&(dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?r.hu=!0:a.modifiedDocuments.size>0?dt(r.hu,14607):a.removedDocuments.size>0&&(dt(r.hu,42227),r.hu=!1))}),await xl(n,i,t)}catch(i){await Us(i)}}function A0(e,t,n){const i=X(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach((s,r)=>{const o=r.view.va(t);o.snapshot&&a.push(o.snapshot)}),function(r,o){const u=X(r);u.onlineState=o;let h=!1;u.queries.forEach((m,p)=>{for(const y of p.Sa)y.va(o)&&(h=!0)}),h&&Rm(u)}(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function cD(e,t,n){const i=X(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Au.get(t),s=a&&a.key;if(s){let r=new It(F.comparator);r=r.insert(s,ge.newNoDocument(s,K.min()));const o=st().add(s),u=new Ju(K.min(),new Map,new It(at),r,o);await zT(i,u),i.du=i.du.remove(s),i.Au.delete(t),Dm(i)}else await Pf(i.localStore,t,!1).then(()=>Hf(i,t,n)).catch(Us)}async function hD(e,t){const n=X(e),i=t.batch.batchId;try{const a=await _4(n.localStore,t);LT(n,i,null),UT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await xl(n,a)}catch(a){await Us(a)}}async function fD(e,t,n){const i=X(e);try{const a=await function(r,o){const u=X(r);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return u.mutationQueue.lookupMutationBatch(h,o).next(p=>(dt(p!==null,37113),m=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,m,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>u.localDocuments.getDocuments(h,m))})}(i.localStore,t);LT(i,t,n),UT(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await xl(i,a)}catch(a){await Us(a)}}function UT(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function LT(e,t,n){const i=X(e);let a=i.Vu[i.currentUser.toKey()];if(a){const s=a.get(t);s&&(n?s.reject(n):s.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function Hf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||kT(e,i)})}function kT(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(bm(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Dm(e))}function S0(e,t,n){for(const i of n)i instanceof MT?(e.Ru.addReference(i.key,t),dD(e,i)):i instanceof OT?(H(Cm,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||kT(e,i.key)):G(19791,{wu:i})}function dD(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(H(Cm,"New document in limbo: "+n),e.Eu.add(i),Dm(e))}function Dm(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new F(bt.fromString(t)),i=e.fu.next();e.Au.set(i,new nD(n)),e.du=e.du.insert(n,i),NT(e.remoteStore,new fi(yn(fm(n.path)),i,"TargetPurposeLimboResolution",Gu.ce))}}async function xl(e,t,n){const i=X(e),a=[],s=[],r=[];i.Tu.isEmpty()||(i.Tu.forEach((o,u)=>{r.push(i.pu(u,t,n).then(h=>{var m;if((h||n)&&i.isPrimaryClient){const p=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:m.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){a.push(h);const p=Em.As(u.targetId,h);s.push(p)}}))}),await Promise.all(r),i.Pu.H_(a),await async function(u,h){const m=X(u);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(h,y=>L.forEach(y.Es,T=>m.persistence.referenceDelegate.addReference(p,y.targetId,T)).next(()=>L.forEach(y.ds,T=>m.persistence.referenceDelegate.removeReference(p,y.targetId,T)))))}catch(p){if(!Ls(p))throw p;H(Tm,"Failed to update sequence numbers: "+p)}for(const p of h){const y=p.targetId;if(!p.fromCache){const T=m.Ms.get(y),C=T.snapshotVersion,V=T.withLastLimboFreeSnapshotVersion(C);m.Ms=m.Ms.insert(y,V)}}}(i.localStore,s))}async function mD(e,t){const n=X(e);if(!n.currentUser.isEqual(t)){H(Cm,"User change. New user:",t.toKey());const i=await AT(n.localStore,t);n.currentUser=t,function(s,r){s.mu.forEach(o=>{o.forEach(u=>{u.reject(new q(U.CANCELLED,r))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await xl(n,i.Ls)}}function gD(e,t){const n=X(e),i=n.Au.get(t);if(i&&i.hu)return st().add(i.key);{let a=st();const s=n.Iu.get(t);if(!s)return a;for(const r of s){const o=n.Tu.get(r);a=a.unionWith(o.view.nu)}return a}}function PT(e){const t=X(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cD.bind(null,t),t.Pu.H_=Z4.bind(null,t.eventManager),t.Pu.yu=J4.bind(null,t.eventManager),t}function pD(e){const t=X(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fD.bind(null,t),t}class vu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wu(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return y4(this.persistence,new m4,t.initialUser,this.serializer)}Cu(t){return new bT(vm.mi,this.serializer)}Du(t){return new S4}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vu.provider={build:()=>new vu};class yD extends vu{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){dt(this.persistence.referenceDelegate instanceof yu,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new WC(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?we.withCacheSize(this.cacheSizeBytes):we.DEFAULT;return new bT(i=>yu.mi(i,n),this.serializer)}}class Ff{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>A0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mD.bind(null,this.syncEngine),await Q4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new K4}()}createDatastore(t){const n=Wu(t.databaseInfo.databaseId),i=function(s){return new C4(s)}(t.databaseInfo);return function(s,r,o,u){return new M4(s,r,o,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,a,s,r,o){return new j4(i,a,s,r,o)}(this.localStore,this.datastore,t.asyncQueue,n=>A0(this.syncEngine,n,0),function(){return y0.v()?new y0:new x4}())}createSyncEngine(t,n){return function(a,s,r,o,u,h,m){const p=new iD(a,s,r,o,u,h);return m&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const s=X(a);H(va,"RemoteStore shutting down."),s.Ea.add(5),await Sl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Ff.provider={build:()=>new Ff};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Fn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="FirestoreClient";class vD{constructor(t,n,i,a,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=me.UNAUTHENTICATED,this.clientId=rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async r=>{H(Ui,"Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(H(Ui,"Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Nm(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function bh(e,t){e.asyncQueue.verifyOperationInProgress(),H(Ui,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async a=>{i.isEqual(a)||(await AT(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function x0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ED(e);H(Ui,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>v0(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,a)=>v0(t.remoteStore,a)),e._onlineComponents=t}async function ED(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(Ui,"Using user provided OfflineComponentProvider");try{await bh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===U.FAILED_PRECONDITION||a.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ts("Error using user provided cache. Falling back to memory cache: "+n),await bh(e,new vu)}}else H(Ui,"Using default OfflineComponentProvider"),await bh(e,new yD(void 0));return e._offlineComponents}async function BT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(Ui,"Using user provided OnlineComponentProvider"),await x0(e,e._uninitializedComponentsProvider._online)):(H(Ui,"Using default OnlineComponentProvider"),await x0(e,new Ff))),e._onlineComponents}function TD(e){return BT(e).then(t=>t.syncEngine)}async function w0(e){const t=await BT(e),n=t.eventManager;return n.onListen=aD.bind(null,t.syncEngine),n.onUnlisten=lD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=sD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=oD.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="firestore.googleapis.com",R0=!0;class C0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HT,this.ssl=R0}else this.host=t.host,this.ssl=t.ssl??R0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=TT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZC)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qT(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nc{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new xR;switch(i.type){case"firstParty":return new CR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=N0.get(n);i&&(H("ComponentProvider","Removing Datastore"),N0.delete(n),i.terminate())}(this),Promise.resolve()}}function bD(e,t,n,i={}){var h;e=xi(e,nc);const a=$d(t),s=e._getSettings(),r={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;a&&(Dx(`https://${o}`),Ox("Firestore",!0)),s.host!==HT&&s.host!==o&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:o,ssl:a,emulatorOptions:i};if(!Wr(u,r)&&(e._setSettings(u),i.mockUserToken)){let m,p;if(typeof i.mockUserToken=="string")m=i.mockUserToken,p=me.MOCK_USER;else{m=Ix(i.mockUserToken,(h=e._app)==null?void 0:h.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new me(y)}e._authCredentials=new wR(new ME(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Na(this.firestore,t,this._query)}}class Kt{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Kt(this.firestore,t,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(Tl(n,Kt._jsonSchema))return new Kt(t,i||null,new F(bt.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Yt("string",Kt._jsonSchemaVersion),referencePath:Yt("string")};class wi extends Na{constructor(t,n,i){super(t,n,fm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Kt(this.firestore,null,new F(t))}withConverter(t){return new wi(this.firestore,t,this._path)}}function D0(e,t,...n){if(e=Fe(e),OE("collection","path",t),e instanceof nc){const i=bt.fromString(t,...n);return By(i),new wi(e,null,i)}{if(!(e instanceof Kt||e instanceof wi))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(bt.fromString(t,...n));return By(i),new wi(e.firestore,null,i)}}function _r(e,t,...n){if(e=Fe(e),arguments.length===1&&(t=rm.newId()),OE("doc","path",t),e instanceof nc){const i=bt.fromString(t,...n);return Py(i),new Kt(e,null,new F(i))}{if(!(e instanceof Kt||e instanceof wi))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(bt.fromString(t,...n));return Py(i),new Kt(e.firestore,e instanceof wi?e.converter:null,new F(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="AsyncQueue";class V0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xT(this,"async_queue_retry"),this._c=()=>{const i=Th();i&&H(I0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Th();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Th();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ua;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ls(t))throw t;H(I0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,Fn("INTERNAL UNHANDLED ERROR: ",M0(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=wm.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(a),a}uc(){this.nc&&G(47125,{Pc:M0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function M0(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const s of i)if(s in a&&typeof a[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Ns extends nc{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new V0,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new V0(t),this._firestoreClient=void 0,await t}}}function AD(e,t){const n=typeof e=="object"?e:nE(),i=typeof e=="string"?e:hu,a=El(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const s=Rx("firestore");s&&bD(a,...s)}return a}function FT(e){if(e._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||SD(e),e._firestoreClient}function SD(e){var i,a,s;const t=e._freezeSettings(),n=function(o,u,h,m){return new QR(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,qT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new vD(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this._byteString=t}static fromBase64String(t){try{return new We(he.fromBase64String(t))}catch(n){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new We(he.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:We._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Tl(t,We._jsonSchema))return We.fromBase64String(t.bytes)}}We._jsonSchemaVersion="firestore/bytes/1.0",We._jsonSchema={type:Yt("string",We._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new oe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return at(this._lat,t._lat)||at(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vn._jsonSchemaVersion}}static fromJSON(t){if(Tl(t,vn._jsonSchema))return new vn(t.latitude,t.longitude)}}vn._jsonSchemaVersion="firestore/geoPoint/1.0",vn._jsonSchema={type:Yt("string",vn._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==a[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:En._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Tl(t,En._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new En(t.vectorValues);throw new q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}En._jsonSchemaVersion="firestore/vectorValue/1.0",En._jsonSchema={type:Yt("string",En._jsonSchemaVersion),vectorValues:Yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=/^__.*__$/;class wD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new qi(t,this.data,this.fieldMask,n,this.fieldTransforms):new bl(t,this.data,n,this.fieldTransforms)}}class GT{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new qi(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function QT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ac:e})}}class Vm{constructor(t,n,i,a,s,r){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=r||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Vm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const n=(a=this.path)==null?void 0:a.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var a;const n=(a=this.path)==null?void 0:a.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Eu(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(QT(this.Ac)&&xD.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ND{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Wu(t)}Cc(t,n,i,a=!1){return new Vm({Ac:t,methodName:n,Dc:i,path:oe.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mm(e){const t=e._freezeSettings(),n=Wu(e._databaseId);return new ND(e._databaseId,!!t.ignoreUndefinedProperties,n)}function RD(e,t,n,i,a,s={}){const r=e.Cc(s.merge||s.mergeFields?2:0,t,n,a);Om("Data must be an object, but it was:",r,i);const o=YT(i,r);let u,h;if(s.merge)u=new ze(r.fieldMask),h=r.fieldTransforms;else if(s.mergeFields){const m=[];for(const p of s.mergeFields){const y=Gf(t,p,n);if(!r.contains(y))throw new q(U.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);XT(m,y)||m.push(y)}u=new ze(m),h=r.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=r.fieldTransforms;return new wD(new Ne(o),u,h)}class ac extends Im{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ac}}function CD(e,t,n,i){const a=e.Cc(1,t,n);Om("Data must be an object, but it was:",a,i);const s=[],r=Ne.empty();Bi(i,(u,h)=>{const m=jm(t,u,n);h=Fe(h);const p=a.yc(m);if(h instanceof ac)s.push(m);else{const y=wl(h,p);y!=null&&(s.push(m),r.set(m,y))}});const o=new ze(s);return new GT(r,o,a.fieldTransforms)}function DD(e,t,n,i,a,s){const r=e.Cc(1,t,n),o=[Gf(t,i,n)],u=[a];if(s.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)o.push(Gf(t,s[y])),u.push(s[y+1]);const h=[],m=Ne.empty();for(let y=o.length-1;y>=0;--y)if(!XT(h,o[y])){const T=o[y];let C=u[y];C=Fe(C);const V=r.yc(T);if(C instanceof ac)h.push(T);else{const M=wl(C,V);M!=null&&(h.push(T),m.set(T,M))}}const p=new ze(h);return new GT(m,p,r.fieldTransforms)}function ID(e,t,n,i=!1){return wl(n,e.Cc(i?4:3,t))}function wl(e,t){if(KT(e=Fe(e)))return Om("Unsupported field value:",t,e),YT(e,t);if(e instanceof Im)return function(i,a){if(!QT(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(a);s&&a.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,a){const s=[];let r=0;for(const o of i){let u=wl(o,a.wc(r));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),r++}return{arrayValue:{values:s}}}(e,t)}return function(i,a){if((i=Fe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return gC(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Nt.fromDate(i);return{timestampValue:pu(a.serializer,s)}}if(i instanceof Nt){const s=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pu(a.serializer,s)}}if(i instanceof vn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof We)return{bytesValue:mT(a.serializer,i._byteString)};if(i instanceof Kt){const s=a.databaseId,r=i.firestore._databaseId;if(!r.isEqual(s))throw a.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ym(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof En)return function(r,o){return{mapValue:{fields:{[HE]:{stringValue:FE},[fu]:{arrayValue:{values:r.toArray().map(h=>{if(typeof h!="number")throw o.Sc("VectorValues must only contain numeric values.");return dm(o.serializer,h)})}}}}}}(i,a);throw a.Sc(`Unsupported field value: ${Fu(i)}`)}(e,t)}function YT(e,t){const n={};return UE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bi(e,(i,a)=>{const s=wl(a,t.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function KT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Nt||e instanceof vn||e instanceof We||e instanceof Kt||e instanceof Im||e instanceof En)}function Om(e,t,n){if(!KT(n)||!jE(n)){const i=Fu(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function Gf(e,t,n){if((t=Fe(t))instanceof ic)return t._internalPath;if(typeof t=="string")return jm(e,t);throw Eu("Field path arguments must be of type string or ",e,!1,void 0,n)}const VD=new RegExp("[~\\*/\\[\\]]");function jm(e,t,n){if(t.search(VD)>=0)throw Eu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ic(...t.split("."))._internalPath}catch{throw Eu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Eu(e,t,n,i,a){const s=i&&!i.isEmpty(),r=a!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(s||r)&&(u+=" (found",s&&(u+=` in field ${i}`),r&&(u+=` in document ${a}`),u+=")"),new q(U.INVALID_ARGUMENT,o+e+u)}function XT(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,n,i,a,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MD extends $T{data(){return super.data()}}function zm(e,t){return typeof t=="string"?jm(e,t):t instanceof ic?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Um{}class ZT extends Um{}function jD(e,t,...n){let i=[];t instanceof Um&&i.push(t),i=i.concat(n),function(s){const r=s.filter(u=>u instanceof km).length,o=s.filter(u=>u instanceof Lm).length;if(r>1||r>0&&o>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)e=a._apply(e);return e}class Lm extends ZT{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Lm(t,n,i)}_apply(t){const n=this._parse(t);return JT(t._query,n),new Na(t.firestore,t.converter,Of(t._query,n))}_parse(t){const n=Mm(t.firestore);return function(s,r,o,u,h,m,p){let y;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){z0(p,m);const C=[];for(const V of p)C.push(j0(u,s,V));y={arrayValue:{values:C}}}else y=j0(u,s,p)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||z0(p,m),y=ID(o,r,p,m==="in"||m==="not-in");return Gt.create(h,m,y)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class km extends Um{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new km(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:ln.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(a,s){let r=a;const o=s.getFlattenedFilters();for(const u of o)JT(r,u),r=Of(r,u)}(t._query,n),new Na(t.firestore,t.converter,Of(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pm extends ZT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Pm(t,n)}_apply(t){const n=function(a,s,r){if(a.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sl(s,r)}(t._query,this._field,this._direction);return new Na(t.firestore,t.converter,function(a,s){const r=a.explicitOrderBy.concat([s]);return new ks(a.path,a.collectionGroup,r,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,n))}}function zD(e,t="asc"){const n=t,i=zm("orderBy",e);return Pm._create(i,n)}function j0(e,t,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JE(t)&&n.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(bt.fromString(n));if(!F.isDocumentKey(i))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Xy(e,new F(i))}if(n instanceof Kt)return Xy(e,n._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fu(n)}.`)}function z0(e,t){if(!Array.isArray(e)||e.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JT(e,t){const n=function(a,s){for(const r of a)for(const o of r.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class UD{convertValue(t,n="none"){switch(ji(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Oi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw G(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return Bi(t,(a,s)=>{i[a]=this.convertValue(s,n)}),i}convertVectorValue(t){var i,a,s;const n=(s=(a=(i=t.fields)==null?void 0:i[fu].arrayValue)==null?void 0:a.values)==null?void 0:s.map(r=>zt(r.doubleValue));return new En(n)}convertGeoPoint(t){return new vn(zt(t.latitude),zt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Yu(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(nl(t));default:return null}}convertTimestamp(t){const n=Mi(t);return new Nt(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=bt.fromString(t);dt(ET(i),9688,{name:t});const a=new il(i.get(1),i.get(3)),s=new F(i.popFirst(5));return a.isEqual(n)||Fn(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class vr{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ca extends $T{constructor(t,n,i,a,s,r){super(t,n,i,a,r),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Co(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(zm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ca._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:Yt("string",ca._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Co extends ca{data(t={}){return super.data(t)}}class us{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new vr(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Co(this._firestore,this._userDataWriter,i.key,i,new vr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,s){if(a._snapshot.oldDocs.isEmpty()){let r=0;return a._snapshot.docChanges.map(o=>{const u=new Co(a._firestore,a._userDataWriter,o.doc.key,o.doc,new vr(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:r++}})}{let r=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const u=new Co(a._firestore,a._userDataWriter,o.doc.key,o.doc,new vr(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,m=-1;return o.type!==0&&(h=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),m=r.indexOf(o.doc.key)),{type:kD(o.type),doc:u,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=us._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:e})}}us._jsonSchemaVersion="firestore/querySnapshot/1.0",us._jsonSchema={type:Yt("string",us._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class WT extends UD{constructor(t){super(),this.firestore=t}convertBytes(t){return new We(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function Ah(e,t,n,...i){e=xi(e,Kt);const a=xi(e.firestore,Ns),s=Mm(a);let r;return r=typeof(t=Fe(t))=="string"||t instanceof ic?DD(s,"updateDoc",e._key,t,n,i):CD(s,"updateDoc",e._key,t),Bm(a,[r.toMutation(e._key,rn.exists(!0))])}function PD(e){return Bm(xi(e.firestore,Ns),[new mm(e._key,rn.none())])}function BD(e,t){const n=xi(e.firestore,Ns),i=_r(e),a=LD(e.converter,t);return Bm(n,[RD(Mm(e.firestore),"addDoc",i._key,a,e.converter!==null,{}).toMutation(i._key,rn.exists(!1))]).then(()=>i)}function qD(e,...t){var u,h,m;e=Fe(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||O0(t[i])||(n=t[i++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(O0(t[i])){const p=t[i];t[i]=(u=p.next)==null?void 0:u.bind(p),t[i+1]=(h=p.error)==null?void 0:h.bind(p),t[i+2]=(m=p.complete)==null?void 0:m.bind(p)}let s,r,o;if(e instanceof Kt)r=xi(e.firestore,Ns),o=fm(e._key.path),s={next:p=>{t[i]&&t[i](HD(r,e,p))},error:t[i+1],complete:t[i+2]};else{const p=xi(e,Na);r=xi(p.firestore,Ns),o=p._query;const y=new WT(r);s={next:T=>{t[i]&&t[i](new us(r,y,p,T))},error:t[i+1],complete:t[i+2]},OD(e._query)}return function(y,T,C,V){const M=new _D(V),S=new W4(T,M,C);return y.asyncQueue.enqueueAndForget(async()=>X4(await w0(y),S)),()=>{M.Nu(),y.asyncQueue.enqueueAndForget(async()=>$4(await w0(y),S))}}(FT(r),o,a,s)}function Bm(e,t){return function(i,a){const s=new ua;return i.asyncQueue.enqueueAndForget(async()=>uD(await TD(i),a,s)),s.promise}(FT(e),t)}function HD(e,t,n){const i=n.docs.get(t._key),a=new WT(e);return new ca(e,a,t._key,i,new vr(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(a){zs=a})(Gw),Ii(new qn("firestore",(i,{instanceIdentifier:a,options:s})=>{const r=i.getProvider("app").getImmediate(),o=new Ns(new NR(i.getProvider("auth-internal")),new DR(r,i.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new il(h.options.projectId,m)}(r,a),r);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),pn(zy,Uy,t),pn(zy,Uy,"esm2020")})();const FD={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""},tb=eE(FD);ER(tb);const Oa=AD(tb),ct="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors bg-white",vt="block text-sm font-bold text-gray-700 mb-1",Do="bg-white p-6 rounded-lg shadow-sm border border-gray-200",ro={:[{name:"",price:980},{name:"",price:1080},{name:"",price:750},{name:"",price:1380},{name:"",price:1180},{name:"",price:1080}],:[{name:"",price:980},{name:"",price:980},{name:"",price:880},{name:"",price:1080},{name:"",price:850},{name:"",price:1380},{name:"",price:1380},{name:"",price:880},{name:"",price:650},{name:"",price:1380},{name:"",price:880},{name:"",price:590},{name:"",price:650},{name:"",price:880}],:[{name:"",price:1180},{name:"",price:1580},{name:"",price:650},{name:"",price:1980},{name:"",price:1480},{name:"",price:1380},{name:"",price:1280},{name:"",price:1880},{name:"",price:650},{name:"",price:1180},{name:"",price:1280},{name:"",price:1380},{name:"",price:1380},{name:"",price:1580},{name:"",price:1580}],:[{name:"",price:1180},{name:"",price:1180},{name:"",price:980},{name:"",price:980},{name:"",price:1280},{name:"",price:1680},{name:"",price:1380},{name:"",price:980},{name:"",price:700},{name:"",price:650},{name:"",price:1180},{name:"",price:980},{name:"",price:1280},{name:"",price:1180},{name:"",price:1180},{name:"",price:1380},{name:"",price:1380}],:[{name:"",price:1180},{name:"",price:1980},{name:"",price:880},{name:"",price:980},{name:"",price:1580}],:[{name:"",price:980},{name:"",price:1280},{name:"",price:1180},{name:"",price:980},{name:"",price:980},{name:"",price:1080},{name:"",price:750},{name:"",price:1680},{name:"",price:1080},{name:"",price:1080},{name:"",price:1780},{name:"",price:1080},{name:"",price:1080},{name:"",price:1080},{name:"",price:980},{name:"",price:680},{name:"",price:680},{name:"",price:650},{name:"",price:850},{name:"",price:1380},{name:"",price:1680},{name:"",price:1280}],:[{name:"",price:880},{name:"",price:880}],:[{name:"",price:1180},{name:"",price:1680},{name:"",price:1980},{name:"",price:1980},{name:"",price:3680},{name:"",price:1580}],:[{name:"",price:650}],:[{name:"",price:980},{name:"",price:680},{name:"",price:580},{name:"",price:650},{name:"",price:720},{name:"",price:780},{name:"",price:650},{name:"",price:980}],:[{name:"",price:650},{name:"",price:780}]},Qf={:{default:0,zones:{:500,:500,:500,:500,:500,:500,:800,:800,:800,:800,:1e3,:1e3,:1e3}},:{default:0,zones:{:500,:500,:500,:500,:500,:1e3,:1e3,:1e3,:1e3,:1e3,:1e3,:1e3,:1e3,:1e3,:1e3,:1500,:1500,:1500,:1500,:1500,:1500,:1800,:1800,:1800,:1800,:1800,:1800,:1800,:1800}},:{default:2e3,zones:{}},:{default:2e3,zones:{}},:{default:2500,zones:{}},:{default:2500,holiday:3500,zones:{}},:{default:2800,zones:{}},"()":{default:3500,zones:{}},"()":{default:3800,zones:{}},"()":{default:4800,zones:{}},"()":{default:5e3,zones:{}},"()":{default:5500,zones:{}},"()":{default:6500,zones:{}},"()":{default:6500,zones:{}},:{default:0,zones:{:500,:500,:500,:500,:500,:500,:500,:500,:800,:800,:800,:800,:1200,:1200,:1200,:1200,:1200,:1200,:1200,:1200,:1200,:1200,:1200,:1500,:1500,:1500,:1500,:1500,:1500}},:{default:1800,zones:{}},:{default:1800,zones:{}},"()":{default:1800,zones:{}},:{default:0,zones:{:500,:500,:500,:500,:500,:500,:500,:500,:500,:500,:500,:800,:800,:800,:800,:800,:800,:800,:1e3,:1e3,:1e3,:1e3,:1e3,:1e3,:1e3,:1500,:1500,:1500,"(/)":2500}},:{default:1500,zones:{}},:{default:2200,zones:{}},"()":{default:2500,zones:{}},:{default:0,zones:{:2e3,:2500}}},U0=e=>e==="North"?["","","","","","","","()","()","()","()","()","()","()"]:e==="Central"?["","","","()"]:e==="South"?["","","","","()"]:[],L0=e=>{const{price:t,peopleCount:n,locationMode:i,outingRegion:a,city:s,area:r,hasInvoice:o,customDiscount:u,extraFee:h}=e;let m=null,p=0,y=0,T=1,C=!1;const V=parseInt(n)||0,M=parseInt(t)||0,S=parseInt(u)||0,b=parseInt(h)||0;if(i==="outing"?a==="North"?["","","",""].includes(s)||s.includes("()")?V<25?m=`(${s.replace(/\(.*?\)/,"")}) 25 `:V>=35&&(T=.9,C=!0):(V>=20&&(T=.9,C=!0),["",""].includes(s)&&V>=10&&V<=14&&(p=2e3)):a==="Central"?s===""?V<10?m=" 10 ":V>=15&&(T=.9,C=!0):V<15?m=" 15 ":V>=20&&(T=.9,C=!0):a==="South"&&(s===""?V<10?m=" 10 ":V>=15&&(T=.9,C=!0):V<15?m=" 15 ":V>=20&&(T=.9,C=!0)):e.regionType==="North"?V>=20&&(T=.9,C=!0):e.regionType==="Central"?V<10?m=" 10 ":V>=15&&(T=.9,C=!0):e.regionType==="South"&&(V<6?m=" 6 ":V>=15&&(T=.9,C=!0)),i==="outing"&&s){const v=Qf[s];v&&(v.zones&&r&&v.zones[r]?y=v.zones[r]:y=v.default)}const N=M*V,I=Math.round(N*T),j=N-I,k=I-S,E=o?Math.round(k*.05):0,g=k+E+y+p+b;return{subTotal:N,discountAmount:j,isDiscountApplied:C,tax:E,transportFee:y,teacherFee:p,finalTotal:g,error:m}},eb=e=>e?new Date(e).toLocaleDateString("zh-TW"):"",GD=({status:e,onChange:t})=>{const n=[{value:"draft",label:"",color:"bg-gray-100 text-gray-800"},{value:"pending",label:"",color:"bg-blue-100 text-blue-800"},{value:"confirmed",label:"",color:"bg-purple-100 text-purple-800"},{value:"paid",label:"",color:"bg-orange-100 text-orange-800"},{value:"closed",label:"",color:"bg-green-100 text-green-800"}],i=n.find(a=>a.value===e)||n[0];return f.jsxs("div",{className:"relative inline-block text-left group",children:[f.jsx("select",{value:e,onChange:a=>t(a.target.value),className:`appearance-none cursor-pointer pl-3 pr-8 py-1 rounded-full text-xs font-medium border-0 focus:ring-2 focus:ring-offset-1 focus:ring-blue-300 ${i.color}`,children:n.map(a=>f.jsx("option",{value:a.value,className:"bg-white text-gray-900",children:a.label},a.value))}),f.jsx(GS,{className:"w-3 h-3 absolute right-2 top-1.5 pointer-events-none opacity-50"})]})},nb=({clientInfo:e,items:t,totalAmount:n,dateStr:i,idStr:a})=>f.jsxs("div",{id:"printable-area",className:"bg-white w-full min-h-[600px] shadow-lg p-8 text-sm scale-100 origin-top mx-auto max-w-[210mm] print:shadow-none print:w-full print:max-w-none print:p-0 print:m-0 print:text-black",children:[f.jsxs("div",{className:"flex justify-between items-end border-b-2 border-gray-800 pb-4 mb-6",children:[f.jsx("div",{children:f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""})}),f.jsxs("div",{className:"text-right text-gray-600",children:[f.jsxs("p",{children:[": ",i]}),f.jsx("p",{className:"font-bold mt-1",children:"3"})]})]}),f.jsxs("div",{className:"mb-8 bg-gray-50 p-4 rounded border border-gray-100 print:bg-white print:border-gray-300",children:[f.jsx("h2",{className:"font-bold text-gray-800 border-b border-gray-200 mb-3 pb-1",children:""}),f.jsxs("div",{className:"grid grid-cols-2 gap-y-2 gap-x-4",children:[f.jsxs("p",{children:[f.jsx("span",{className:"text-gray-500 mr-2",children:":"})," ",e.companyName||"-"]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-gray-500 mr-2",children:":"})," ",e.taxId||"-"]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-gray-500 mr-2",children:":"})," ",e.contactPerson||"-"]}),f.jsxs("p",{children:[f.jsx("span",{className:"text-gray-500 mr-2",children:":"})," ",e.phone||"-"]}),f.jsxs("p",{className:"col-span-2",children:[f.jsx("span",{className:"text-gray-500 mr-2",children:"Email:"})," ",e.email||"-"]})]})]}),f.jsxs("table",{className:"w-full mb-6 border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-gray-800 text-white print:bg-gray-200 print:text-black",children:[f.jsx("th",{className:"p-3 text-left rounded-l print:rounded-none",children:""}),f.jsx("th",{className:"p-3 text-right",children:""}),f.jsx("th",{className:"p-3 text-right",children:""}),f.jsx("th",{className:"p-3 text-right rounded-r print:rounded-none",children:""})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map((s,r)=>f.jsxs(Zb.Fragment,{children:[f.jsxs("tr",{children:[f.jsxs("td",{className:"p-3",children:[f.jsx("div",{className:"font-bold text-gray-800",children:s.courseName}),s.itemNote&&f.jsxs("div",{className:"text-xs text-gray-500 mt-1 font-medium bg-yellow-50 inline-block px-1 rounded border border-yellow-100 print:bg-transparent print:border-gray-400",children:[": ",s.itemNote]}),f.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex flex-col gap-1",children:[(s.eventDate||s.eventTime)&&f.jsxs("div",{children:["",s.eventDate," ",s.eventTime]}),s.address&&f.jsxs("div",{children:["",s.address]})]})]}),f.jsxs("td",{className:"p-3 text-right text-gray-600",children:["$",s.price.toLocaleString()]}),f.jsx("td",{className:"p-3 text-right text-gray-600",children:s.peopleCount}),f.jsxs("td",{className:"p-3 text-right font-medium",children:["$",s.calc.subTotal.toLocaleString()]})]}),(s.calc.isDiscountApplied||s.customDiscount>0)&&f.jsxs("tr",{className:"bg-red-50 text-xs print:bg-transparent",children:[f.jsxs("td",{colSpan:"3",className:"p-2 pl-4 text-right text-red-600 print:text-black",children:[" ",s.customDiscountDesc?`(${s.customDiscountDesc})`:""]}),f.jsxs("td",{className:"p-2 text-right text-red-600 font-bold print:text-black",children:["-$",((s.calc.discountAmount||0)+parseInt(s.customDiscount||0)).toLocaleString()]})]}),s.calc.transportFee>0&&f.jsxs("tr",{className:"bg-green-50 text-xs text-green-900 print:bg-transparent print:text-black",children:[f.jsxs("td",{colSpan:"3",className:"p-2 pl-4 text-right",children:[" (",s.city.replace(/\(.*?\)/,""),s.area,")"]}),f.jsxs("td",{className:"p-2 text-right font-bold",children:["$",s.calc.transportFee.toLocaleString()]})]}),s.calc.teacherFee>0&&f.jsxs("tr",{className:"bg-green-50 text-xs text-green-900 print:bg-transparent print:text-black",children:[f.jsx("td",{colSpan:"3",className:"p-2 pl-4 text-right",children:""}),f.jsxs("td",{className:"p-2 text-right font-bold",children:["$",s.calc.teacherFee.toLocaleString()]})]}),s.extraFee>0&&f.jsxs("tr",{className:"bg-green-50 text-xs text-green-900 print:bg-transparent print:text-black",children:[f.jsxs("td",{colSpan:"3",className:"p-2 pl-4 text-right",children:[" ",s.extraFeeDesc?`(${s.extraFeeDesc})`:""]}),f.jsxs("td",{className:"p-2 text-right font-bold",children:["$",parseInt(s.extraFee).toLocaleString()]})]}),s.hasInvoice&&f.jsxs("tr",{className:"bg-green-50 text-xs text-green-900 print:bg-transparent print:text-black",children:[f.jsx("td",{colSpan:"3",className:"p-2 pl-4 text-right",children:" (5%)"}),f.jsxs("td",{className:"p-2 text-right font-bold",children:["$",s.calc.tax.toLocaleString()]})]}),f.jsxs("tr",{className:"bg-gray-100 font-bold text-gray-900 border-b-2 border-gray-300 print:bg-gray-50",children:[f.jsx("td",{colSpan:"3",className:"p-2 text-right",children:""}),f.jsxs("td",{className:"p-2 text-right",children:["$",s.calc.finalTotal.toLocaleString()]})]})]},r))})]}),f.jsx("div",{className:"flex justify-end mt-8",children:f.jsxs("div",{className:"w-1/2 bg-gray-50 p-4 rounded border border-gray-200 print:w-2/3 print:bg-white print:border-gray-800",children:[f.jsxs("div",{className:"flex justify-between items-center text-2xl font-bold text-blue-900 print:text-black",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["$",n.toLocaleString()]})]}),f.jsx("p",{className:"text-right text-xs text-gray-500 mt-2",children:""})]})}),f.jsxs("div",{className:"mt-8 pt-6 border-t-2 border-gray-800 text-xs text-gray-700 leading-relaxed",children:[f.jsx("h4",{className:"font-bold text-sm mb-2",children:" / "}),f.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[f.jsx("li",{children:"3"}),f.jsx("li",{children:""}),f.jsx("li",{children:""}),f.jsx("li",{children:"Mail: xiabenhow@gmail.com Line :@xiabenhow"}),f.jsx("li",{className:"text-red-600 font-bold",children:"50%7"}),f.jsx("li",{children:""})]}),f.jsx("div",{className:"mt-4 p-3 bg-gray-100 rounded border border-gray-300 print:bg-transparent print:border-gray-800",children:f.jsx("p",{className:"font-bold text-sm",children:"  808    1115-940-021201"})})]}),f.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-300 flex justify-between text-sm",children:[f.jsx("div",{children:f.jsx("p",{children:"_________________"})}),f.jsx("div",{children:f.jsx("p",{children:"_________________"})})]})]}),QD=({quote:e,onClose:t})=>{const n=()=>{const i=window.open("","","height=800,width=1000");i.document.write("<html><head><title></title>"),i.document.write('<script src="https://cdn.tailwindcss.com"><\/script>'),i.document.write("<style>@page { size: A4; margin: 10mm; }</style>"),i.document.write("</head><body>"),i.document.write(document.getElementById("modal-preview-area").innerHTML),i.document.write("</body></html>"),i.document.close(),i.focus(),setTimeout(()=>{i.print(),i.close()},500)};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 print:hidden",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-[900px] p-6 overflow-auto max-h-[95vh]",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[" (",e.clientInfo.companyName,")"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:n,className:"bg-gray-800 text-white px-4 py-2 rounded shadow hover:bg-gray-700 flex items-center gap-2 font-bold text-sm",children:[f.jsx(H1,{className:"w-4 h-4"})," /"]}),f.jsx("button",{onClick:t,className:"p-2",children:f.jsx(Kd,{className:"w-6 h-6 text-gray-500"})})]})]}),f.jsx("div",{id:"modal-preview-area",className:"transform scale-[0.8] origin-top mx-auto min-h-[700px] w-[125%]",children:f.jsx(nb,{clientInfo:e.clientInfo,items:e.items,totalAmount:e.totalAmount,dateStr:eb(e.createdAt),idStr:e.id.slice(-4)})})]})})},YD=({quote:e,onClose:t,onSave:n})=>{var h;const[i,a]=et.useState({depositAmount:0,depositNote:"",additionalPayment:0,additionalPaymentNote:"",finalPayment:0,finalPaymentNote:""});et.useEffect(()=>{e.paymentDetails&&a({depositAmount:parseInt(e.paymentDetails.depositAmount)||0,depositNote:e.paymentDetails.depositNote||"",additionalPayment:parseInt(e.paymentDetails.additionalPayment)||0,additionalPaymentNote:e.paymentDetails.additionalPaymentNote||"",finalPayment:parseInt(e.paymentDetails.finalPayment)||0,finalPaymentNote:e.paymentDetails.finalPaymentNote||""})},[e]);const s=(e.totalAmount||0)+parseInt(i.additionalPayment||0),r=parseInt(i.depositAmount||0)+parseInt(i.finalPayment||0),o=s-r,u=()=>{let m=e.status,p=e.closedAt;if(o===0)confirm(" (Closed)")&&(m="closed",p=new Date().toISOString());else if(o<0){alert("");return}n(e.id,{paymentDetails:i,status:m,closedAt:p}),t()};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 overflow-auto max-h-[90vh]",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[" (",e.clientInfo.companyName,")"]}),f.jsx("button",{onClick:t,children:f.jsx(Kd,{className:"w-6 h-6 text-gray-500"})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[f.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-500 mb-2",children:""}),f.jsxs("div",{className:"text-2xl font-bold",children:["$",(h=e.totalAmount)==null?void 0:h.toLocaleString()]})]}),f.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[f.jsx("h3",{className:"text-sm font-semibold text-blue-500 mb-2",children:" ()"}),f.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:["$",s.toLocaleString()]})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"border p-4 rounded-lg",children:[f.jsxs("h4",{className:"font-bold mb-3 flex items-center",children:[f.jsx(HS,{className:"w-4 h-4 mr-2 text-green-500"})," 1.  (Deposit)"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{type:"number",className:ct,value:i.depositAmount,onChange:m=>a({...i,depositAmount:m.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:vt,children:" ()"}),f.jsx("input",{type:"text",className:ct,value:i.depositNote,onChange:m=>a({...i,depositNote:m.target.value})})]})]})]}),f.jsxs("div",{className:"border p-4 rounded-lg border-orange-200 bg-orange-50",children:[f.jsxs("h4",{className:"font-bold mb-3 flex items-center",children:[f.jsx(Tf,{className:"w-4 h-4 mr-2"})," 2.  (Additional)"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{type:"number",className:ct,value:i.additionalPayment,onChange:m=>a({...i,additionalPayment:m.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{type:"text",className:ct,value:i.additionalPaymentNote,onChange:m=>a({...i,additionalPaymentNote:m.target.value})})]})]})]}),f.jsxs("div",{className:"border p-4 rounded-lg",children:[f.jsxs("h4",{className:"font-bold mb-3 flex items-center",children:[f.jsx(q1,{className:"w-4 h-4 mr-2 text-green-500"})," 3.  (Final)"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{type:"number",className:ct,value:i.finalPayment,onChange:m=>a({...i,finalPayment:m.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{type:"text",className:ct,value:i.finalPaymentNote,onChange:m=>a({...i,finalPaymentNote:m.target.value})})]})]})]})]}),f.jsxs("div",{className:"mt-6 flex justify-between items-center p-4 bg-gray-100 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-600",children:""}),f.jsxs("span",{className:`text-xl font-bold ${o>0?"text-red-600":"text-green-600"}`,children:["$",o.toLocaleString()]})]}),f.jsxs("div",{className:"space-x-2",children:[f.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-600 hover:bg-gray-200 rounded",children:""}),f.jsxs("button",{onClick:u,className:"px-6 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 font-bold flex items-center",children:[f.jsx(G1,{className:"w-4 h-4 mr-2"})," "]})]})]})]})})},KD=({quotes:e})=>{const t=et.useMemo(()=>{const s=new Set;return e.forEach(r=>{if(r.status!=="draft"){const o=new Date(r.createdAt),u=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;s.add(u)}}),Array.from(s).sort().reverse()},[e]),[n,i]=et.useState(t[0]||"");et.useEffect(()=>{!n&&t.length>0&&i(t[0])},[t]);const a=et.useMemo(()=>{const s={totalRevenue:0,totalOrders:0,regions:{North:{name:"",revenue:0,count:0,color:"bg-blue-500"},Central:{name:"",revenue:0,count:0,color:"bg-yellow-500"},South:{name:"",revenue:0,count:0,color:"bg-green-500"}},statuses:{pending:{name:"",count:0,color:"bg-blue-100 text-blue-800"},confirmed:{name:" ()",count:0,color:"bg-purple-100 text-purple-800"},paid:{name:" ()",count:0,color:"bg-orange-100 text-orange-800"},closed:{name:"",count:0,color:"bg-green-100 text-green-800"}}};return n&&e.forEach(r=>{const o=new Date(r.createdAt),u=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;if(r.status!=="draft"&&u===n){let h="North";if(r.items&&r.items.length>0){const p=r.items[0],y=p.locationMode==="outing"?p.outingRegion||"North":p.regionType||"North";s.regions[y]&&(h=y)}const m=r.totalAmount||0;s.totalRevenue+=m,s.totalOrders+=1,s.regions[h].revenue+=m,s.regions[h].count+=1,s.statuses[r.status]&&(s.statuses[r.status].count+=1)}}),s},[e,n]);return t.length===0?f.jsxs("div",{className:"p-8 text-center text-gray-500",children:[f.jsx(kS,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),f.jsx("p",{children:""})]}):f.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[f.jsx(px,{className:"mr-3 text-blue-600"})," "]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-600 font-medium",children:":"}),f.jsx("select",{className:ct+" w-40",value:n,onChange:s=>i(s.target.value),children:t.map(s=>f.jsx("option",{value:s,children:s},s))})]})]}),f.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-8 text-white shadow-lg mb-8",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"text-blue-100 font-medium mb-1",children:[" (",n,")"]}),f.jsxs("h3",{className:"text-4xl font-bold tracking-tight",children:["$",a.totalRevenue.toLocaleString()]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-blue-100 font-medium mb-1",children:""}),f.jsxs("h3",{className:"text-3xl font-bold",children:[a.totalOrders," ",f.jsx("span",{className:"text-base font-normal opacity-80",children:""})]})]})]})}),f.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center",children:[f.jsx(BS,{className:"w-5 h-5 mr-2"})," "]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:Object.keys(a.statuses).map(s=>f.jsxs("div",{className:`p-4 rounded-lg border ${a.statuses[s].color.replace("bg-","border-").replace("100","200")} ${a.statuses[s].color}`,children:[f.jsx("p",{className:"text-xs font-bold uppercase opacity-70",children:a.statuses[s].name}),f.jsx("p",{className:"text-2xl font-bold mt-1",children:a.statuses[s].count})]},s))}),f.jsxs("h3",{className:"text-lg font-bold text-gray-700 mb-4 flex items-center",children:[f.jsx(F1,{className:"w-5 h-5 mr-2"})," "]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.keys(a.regions).map(s=>{const r=a.regions[s],o=a.totalRevenue>0?Math.round(r.revenue/a.totalRevenue*100):0;return f.jsxs("div",{className:"bg-white p-6 rounded-xl shadow border border-gray-100 relative overflow-hidden",children:[f.jsx("div",{className:`absolute top-0 left-0 w-2 h-full ${r.color}`}),f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h4",{className:"text-lg font-bold text-gray-700",children:[r.name,""]}),f.jsxs("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:[o,"% "]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-wider",children:""}),f.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",r.revenue.toLocaleString()]})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-500 text-xs uppercase tracking-wider",children:""}),f.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:[r.count," "]})]})]})]},s)})})]})},XD=({quotes:e})=>{const t=new Date,[n,i]=et.useState(t),[a,s]=et.useState("month"),[r,o]=et.useState("all"),u=e.filter(j=>j.status!=="draft"),h=j=>r==="all"?j:j.filter(k=>{var g,v,A;return!k.items||k.items.length===0?!1:(((g=k.items[0])==null?void 0:g.locationMode)==="outing"?((v=k.items[0])==null?void 0:v.outingRegion)||"North":((A=k.items[0])==null?void 0:A.regionType)||"North")===r}),m=(j,k)=>new Date(j,k+1,0).getDate(),p=new Date(n.getFullYear(),n.getMonth(),1).getDay(),y=()=>{if(a==="month"&&i(new Date(n.getFullYear(),n.getMonth()+1,1)),a==="week"){const j=new Date(n);j.setDate(j.getDate()+7),i(j)}if(a==="day"){const j=new Date(n);j.setDate(j.getDate()+1),i(j)}},T=()=>{if(a==="month"&&i(new Date(n.getFullYear(),n.getMonth()-1,1)),a==="week"){const j=new Date(n);j.setDate(j.getDate()-7),i(j)}if(a==="day"){const j=new Date(n);j.setDate(j.getDate()-1),i(j)}},C=j=>{const k=new Date(n.getFullYear(),n.getMonth(),j);i(k),s("day")},V=j=>{const k=u.filter(E=>!E.items||E.items.length===0?!1:E.items.some(g=>{if(!g.eventDate)return!1;const v=new Date(g.eventDate);return v.getDate()===j.getDate()&&v.getMonth()===j.getMonth()&&v.getFullYear()===j.getFullYear()}));return h(k)},M={North:"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200",Central:"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200",South:"bg-green-100 text-green-800 border-green-200 hover:bg-green-200"},S=()=>f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("h2",{className:"text-2xl font-bold flex items-center",children:[f.jsx(US,{className:"mr-2"}),a==="month"&&`${n.getFullYear()} ${n.getMonth()+1}`,a==="week"&&` (${n.toLocaleDateString()})`,a==="day"&&`${n.toLocaleDateString()} (${["","","","","","",""][n.getDay()]})`]}),f.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[f.jsx("button",{onClick:()=>s("month"),className:`px-3 py-1 text-sm rounded ${a==="month"?"bg-white shadow text-blue-600 font-bold":"text-gray-600"}`,children:""}),f.jsx("button",{onClick:()=>s("week"),className:`px-3 py-1 text-sm rounded ${a==="week"?"bg-white shadow text-blue-600 font-bold":"text-gray-600"}`,children:""}),f.jsx("button",{onClick:()=>s("day"),className:`px-3 py-1 text-sm rounded ${a==="day"?"bg-white shadow text-blue-600 font-bold":"text-gray-600"}`,children:""})]})]}),f.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[f.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 overflow-x-auto",children:[f.jsx("button",{onClick:()=>o("all"),className:`px-3 py-1 text-sm whitespace-nowrap rounded ${r==="all"?"bg-gray-800 text-white shadow":"text-gray-600"}`,children:""}),f.jsx("button",{onClick:()=>o("North"),className:`px-3 py-1 text-sm whitespace-nowrap rounded ${r==="North"?"bg-blue-600 text-white shadow":"text-gray-600"}`,children:""}),f.jsx("button",{onClick:()=>o("Central"),className:`px-3 py-1 text-sm whitespace-nowrap rounded ${r==="Central"?"bg-yellow-600 text-white shadow":"text-gray-600"}`,children:""}),f.jsx("button",{onClick:()=>o("South"),className:`px-3 py-1 text-sm whitespace-nowrap rounded ${r==="South"?"bg-green-600 text-white shadow":"text-gray-600"}`,children:""})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:T,className:"p-2 hover:bg-gray-100 rounded border",children:f.jsx(XS,{})}),f.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 rounded border",children:f.jsx(YS,{})})]})]})]}),b=()=>{const j=Array.from({length:m(n.getFullYear(),n.getMonth())},(E,g)=>g+1),k=Array.from({length:p},(E,g)=>g);return f.jsxs("div",{className:"grid grid-cols-7 gap-px bg-gray-200 border border-gray-200",children:[["","","","","","",""].map(E=>f.jsx("div",{className:"bg-gray-50 p-2 text-center font-bold text-gray-500",children:E},E)),k.map(E=>f.jsx("div",{className:"bg-white min-h-[100px]"},`blank-${E}`)),j.map(E=>{const g=new Date(n.getFullYear(),n.getMonth(),E),v=V(g),A=g.toDateString()===t.toDateString();return f.jsxs("div",{onClick:()=>C(E),className:`bg-white min-h-[100px] p-2 border hover:bg-blue-50 transition relative cursor-pointer group ${A?"ring-2 ring-red-500":""}`,children:[f.jsx("span",{className:`text-sm text-gray-400 font-semibold absolute top-1 right-2 group-hover:text-blue-600 ${A?"text-red-600":""}`,children:E}),f.jsx("div",{className:"mt-4 space-y-1",children:v.map(w=>{var x,tt,kt,B,Y;const R=((x=w.items[0])==null?void 0:x.locationMode)==="outing"?((tt=w.items[0])==null?void 0:tt.outingRegion)||"North":((kt=w.items[0])==null?void 0:kt.regionType)||"North";return f.jsxs("div",{className:`text-xs p-1 rounded border truncate ${M[R]}`,title:`${w.clientInfo.companyName}`,children:[(Y=(B=w.items[0])==null?void 0:B.eventTime)==null?void 0:Y.slice(0,5)," ",w.clientInfo.companyName]},w.id)})})]},E)})]})},N=()=>{const j=new Date(n);j.setDate(n.getDate()-n.getDay());const k=Array.from({length:7},(E,g)=>{const v=new Date(j);return v.setDate(j.getDate()+g),v});return f.jsx("div",{className:"grid grid-cols-7 gap-px bg-gray-200 border h-[600px]",children:k.map((E,g)=>{const v=E.toDateString()===t.toDateString();return f.jsxs("div",{className:`bg-white flex flex-col h-full ${v?"ring-2 ring-red-500":""}`,children:[f.jsxs("div",{className:"p-2 border-b bg-gray-50 text-center font-bold",children:[f.jsx("div",{children:["","","","","","",""][E.getDay()]}),f.jsx("div",{className:`text-2xl ${v?"text-red-600":""}`,children:E.getDate()})]}),f.jsx("div",{className:"flex-1 p-2 space-y-2 overflow-auto",children:V(E).map(A=>{var R,x,tt,kt,B,Y;const w=((R=A.items[0])==null?void 0:R.locationMode)==="outing"?((x=A.items[0])==null?void 0:x.outingRegion)||"North":((tt=A.items[0])==null?void 0:tt.regionType)||"North";return f.jsxs("div",{className:`text-xs p-2 rounded border shadow-sm ${M[w]}`,children:[f.jsx("div",{className:"font-bold",children:(B=(kt=A.items[0])==null?void 0:kt.eventTime)==null?void 0:B.slice(0,5)}),f.jsx("div",{children:A.clientInfo.companyName}),f.jsx("div",{className:"text-[10px] mt-1 opacity-75",children:(Y=A.items[0])==null?void 0:Y.courseName})]},A.id)})})]},g)})})},I=()=>{const j=V(n).sort((k,E)=>{var g,v;return(((g=k.items[0])==null?void 0:g.eventTime)||"").localeCompare(((v=E.items[0])==null?void 0:v.eventTime)||"")});return f.jsxs("div",{className:"border rounded-lg bg-white min-h-[500px] p-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-6 border-b pb-4",children:""}),j.length===0?f.jsx("div",{className:"text-gray-400 text-center py-10",children:""}):f.jsx("div",{className:"space-y-4",children:j.map(k=>{var g,v,A,w,R,x,tt,kt;const E=((g=k.items[0])==null?void 0:g.locationMode)==="outing"?((v=k.items[0])==null?void 0:v.outingRegion)||"North":((A=k.items[0])==null?void 0:A.regionType)||"North";return f.jsxs("div",{className:`flex items-start p-4 rounded-lg border-l-4 shadow-sm bg-white ${E.includes("North")?"border-l-blue-500":E.includes("Central")?"border-l-yellow-500":"border-l-green-500"}`,children:[f.jsxs("div",{className:"mr-6 text-center min-w-[80px]",children:[f.jsx("div",{className:"text-xl font-bold text-gray-800",children:(w=k.items[0])==null?void 0:w.eventTime}),f.jsx("div",{className:`text-xs px-2 py-1 rounded-full mt-2 inline-block ${M[E]}`,children:E==="North"?"":E==="Central"?"":""})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-bold text-gray-900",children:k.clientInfo.companyName}),f.jsxs("div",{className:"text-gray-600 mt-1 flex items-center",children:[f.jsx(Pu,{className:"w-4 h-4 mr-1"})," ",(R=k.items[0])==null?void 0:R.courseName," (",(x=k.items[0])==null?void 0:x.peopleCount,")"]}),f.jsxs("div",{className:"text-gray-500 mt-1 text-sm flex items-center",children:[f.jsx(F1,{className:"w-4 h-4 mr-1"})," ",(tt=k.items[0])==null?void 0:tt.city," ",(kt=k.items[0])==null?void 0:kt.address]}),f.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[": ",k.clientInfo.contactPerson," (",k.clientInfo.phone,")"]})]})]},k.id)})})]})};return f.jsxs("div",{className:"max-w-6xl mx-auto bg-white p-6 rounded shadow",children:[S(),a==="month"&&b(),a==="week"&&N(),a==="day"&&I(),f.jsxs("div",{className:"mt-4 flex gap-4 text-xs text-gray-500 justify-end",children:[f.jsxs("span",{className:"flex items-center",children:[f.jsx("div",{className:"w-3 h-3 bg-blue-100 border border-blue-200 mr-1"})," "]}),f.jsxs("span",{className:"flex items-center",children:[f.jsx("div",{className:"w-3 h-3 bg-yellow-100 border border-yellow-200 mr-1"})," "]}),f.jsxs("span",{className:"flex items-center",children:[f.jsx("div",{className:"w-3 h-3 bg-green-100 border border-green-200 mr-1"})," "]})]})]})},$D=({quotes:e,onEdit:t,onDelete:n,onPayment:i,onPreview:a,onStatusChange:s,onExport:r,onCreate:o})=>{const[u,h]=et.useState(""),[m,p]=et.useState(""),[y,T]=et.useState("all"),C=et.useMemo(()=>{const M={};return e.forEach(S=>{const b=new Date(S.createdAt),N=`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}`;M[N]||(M[N]=[]),M[N].push(S)}),M},[e]),V=Object.keys(C).sort().reverse().filter(M=>!m||M===m);return f.jsxs("div",{className:"max-w-6xl mx-auto",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[" (",e.length," )"]}),f.jsxs("div",{className:"flex gap-2 flex-wrap",children:[f.jsxs("button",{onClick:r,className:"px-4 py-2 bg-white border border-gray-300 rounded text-gray-600 hover:bg-gray-50 flex items-center shadow-sm font-medium text-sm",children:[f.jsx(Pu,{className:"w-4 h-4 mr-2"}),"  (CSV)"]}),f.jsx("button",{onClick:o,className:"md:hidden px-4 py-2 bg-teal-600 text-white rounded font-medium shadow-sm",children:""})]})]}),f.jsxs("div",{className:Do+" mb-6 flex flex-col md:flex-row gap-4 items-center",children:[f.jsxs("div",{className:"relative flex-1 w-full",children:[f.jsx(hx,{className:"absolute left-3 top-3 text-gray-400 w-5 h-5"}),f.jsx("input",{type:"text",placeholder:"...",className:ct+" pl-10",value:u,onChange:M=>h(M.target.value)})]}),f.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[f.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap min-w-[3rem]",children:":"}),f.jsxs("select",{className:ct+" md:w-40",value:m,onChange:M=>p(M.target.value),children:[f.jsx("option",{value:"",children:""}),Object.keys(C).sort().reverse().map(M=>f.jsx("option",{value:M,children:M},M))]})]}),f.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[f.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap min-w-[3rem]",children:":"}),f.jsxs("select",{className:ct+" md:w-40",value:y,onChange:M=>T(M.target.value),children:[f.jsx("option",{value:"all",children:""}),f.jsx("option",{value:"draft",children:""}),f.jsx("option",{value:"pending",children:""}),f.jsx("option",{value:"confirmed",children:" ()"}),f.jsx("option",{value:"paid",children:" ()"}),f.jsx("option",{value:"closed",children:""})]})]})]}),f.jsx("div",{className:"space-y-6",children:V.map(M=>{const S=C[M].filter(b=>{const N=u.toLowerCase(),I=b.clientInfo.companyName.toLowerCase().includes(N)||b.clientInfo.phone.includes(N),j=y==="all"||b.status===y;return I&&j});return S.length===0?null:f.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-200 overflow-hidden",children:[f.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200 flex items-center font-semibold text-gray-700",children:[f.jsx(ax,{className:"w-5 h-5 mr-2 text-yellow-500"})," ",M," (",S.length,")"]}),f.jsx("div",{className:"divide-y divide-gray-100",children:S.map(b=>{var N,I;return f.jsxs("div",{className:"p-4 hover:bg-blue-50 transition flex flex-col md:flex-row justify-between items-center gap-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-1 flex-wrap",children:[f.jsx(GD,{status:b.status,onChange:j=>s(b.id,j)}),f.jsx("span",{className:"font-bold text-lg text-gray-900 truncate",children:b.clientInfo.companyName}),f.jsxs("span",{className:"text-xs text-gray-400 font-mono",children:["#",b.id.slice(-4)]})]}),f.jsxs("div",{className:"text-sm text-gray-600 truncate",children:[f.jsxs("span",{className:"mr-3",children:[": ",b.clientInfo.contactPerson]}),f.jsxs("span",{children:[": ",(N=b.items[0])==null?void 0:N.courseName," ",b.items.length>1?`(+${b.items.length-1})`:""]})]})]}),f.jsxs("div",{className:"flex flex-col items-end gap-2 min-w-[150px]",children:[f.jsxs("div",{className:"text-xl font-bold text-blue-600",children:["$",(I=b.totalAmount)==null?void 0:I.toLocaleString()]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>a(b),className:"p-2 text-blue-600 hover:bg-blue-100 rounded tooltip transition-colors",children:f.jsx(ex,{className:"w-5 h-5"})}),["confirmed","paid","closed"].includes(b.status)&&f.jsx("button",{onClick:()=>i(b),className:"p-2 text-orange-600 hover:bg-orange-100 rounded tooltip transition-colors",children:f.jsx(q1,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>t(b),className:"p-2 text-gray-600 hover:bg-gray-100 rounded transition-colors",children:f.jsx(dx,{className:"w-5 h-5"})}),f.jsx("button",{onClick:()=>n(b.id),className:"p-2 text-red-600 hover:bg-red-100 rounded transition-colors",children:f.jsx(Q1,{className:"w-5 h-5"})})]})]})]},b.id)})})]},M)})})]})},ZD=({initialData:e,onSave:t,onCancel:n})=>{var k,E;const[i,a]=et.useState((e==null?void 0:e.clientInfo)||{companyName:"",taxId:"",contactPerson:"",phone:"",email:"",address:""}),[s,r]=et.useState((e==null?void 0:e.status)||"draft"),[o,u]=et.useState((e==null?void 0:e.paymentDueDate)||""),[h,m]=et.useState((e==null?void 0:e.adminNotes)||""),[p,y]=et.useState((e==null?void 0:e.items)||[]),T={id:Date.now(),courseSeries:"",courseName:"",price:980,peopleCount:1,locationMode:"store",regionType:"North",outingRegion:"North",city:"",area:"",eventDate:"",eventTime:"",hasInvoice:!1,customDiscount:0,customDiscountDesc:"",extraFee:0,extraFeeDesc:"",address:"",itemNote:""},[C,V]=et.useState(T),M=et.useMemo(()=>p.reduce((g,v)=>g+(v.calc.finalTotal||0),0),[p]),S=(g,v)=>{const A={...C,[g]:v};if(g==="courseName"){const R=ro[A.courseSeries].find(x=>x.name===v);R&&(A.price=R.price)}if(g==="courseSeries"){const w=ro[v];w&&w.length>0&&(A.courseName=w[0].name,A.price=w[0].price)}if(g==="outingRegion"){const w=U0(v);A.city=w[0]||"",A.area=""}g==="city"&&(A.area=""),V(A)},b=()=>{const g=L0(C);if(g.error){alert(`${g.error}`);return}y([...p,{...C,id:Date.now(),calc:g}]),V({...T,id:Date.now()+1})},N=g=>{const v=[...p];v.splice(g,1),y(v)},I=()=>{if(p.length===0){alert("");return}t({clientInfo:i,items:p,totalAmount:M,status:s,paymentDueDate:o,adminNotes:h})},j=L0(C);return f.jsxs("div",{className:"flex flex-col gap-8 max-w-5xl mx-auto p-4 md:p-8 relative print:block print:w-full print:h-auto",children:[f.jsx("div",{className:"print:hidden",children:f.jsxs("section",{className:Do,children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 border-b pb-2 text-gray-700 flex items-center",children:[f.jsx("div",{className:"w-1 h-6 bg-slate-800 mr-2 rounded"}),""]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:vt,children:"/"}),f.jsx("input",{className:ct,value:i.companyName,onChange:g=>a({...i,companyName:g.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{className:ct,value:i.taxId,onChange:g=>a({...i,taxId:g.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{className:ct,value:i.contactPerson,onChange:g=>a({...i,contactPerson:g.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{className:ct,value:i.phone,onChange:g=>a({...i,phone:g.target.value})})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{className:ct,value:i.email,onChange:g=>a({...i,email:g.target.value})})]})]})]})}),f.jsx("div",{className:"print:hidden",children:f.jsxs("section",{className:`${Do} border-blue-300 border-2`,children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 border-b pb-2 text-blue-800 flex items-center",children:[f.jsx(Tf,{className:"w-5 h-5 mr-2"})," "]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("select",{className:ct,value:C.courseSeries,onChange:g=>S("courseSeries",g.target.value),children:Object.keys(ro).map(g=>f.jsx("option",{value:g,children:g},g))})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsxs("label",{className:vt,children:[" (: $",C.price,")"]}),f.jsx("select",{className:ct,value:C.courseName,onChange:g=>S("courseName",g.target.value),children:(k=ro[C.courseSeries])==null?void 0:k.map(g=>f.jsxs("option",{value:g.name,children:[g.name," ($",g.price,")"]},g.name))})]})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{type:"number",className:ct,value:C.peopleCount,onChange:g=>S("peopleCount",g.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{type:"date",className:ct,value:C.eventDate,onChange:g=>S("eventDate",g.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{type:"time",className:ct,value:C.eventTime,onChange:g=>S("eventTime",g.target.value)})]}),f.jsx("div",{className:"flex items-center pt-6",children:f.jsxs("label",{className:"flex items-center cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",className:"mr-2 w-4 h-4",checked:C.hasInvoice,onChange:g=>S("hasInvoice",g.target.checked)})," (5%)"]})})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded border border-gray-200 mb-4",children:[f.jsxs("div",{className:"flex gap-6 mb-4",children:[f.jsxs("label",{className:"flex items-center cursor-pointer font-bold",children:[f.jsx("input",{type:"radio",className:"mr-2",checked:C.locationMode==="outing",onChange:()=>S("locationMode","outing")})," "]}),f.jsxs("label",{className:"flex items-center cursor-pointer font-bold",children:[f.jsx("input",{type:"radio",className:"mr-2",checked:C.locationMode==="store",onChange:()=>{S("locationMode","store"),S("city",""),S("area","")}})," "]})]}),C.locationMode==="outing"?f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsxs("select",{className:ct,value:C.outingRegion,onChange:g=>S("outingRegion",g.target.value),children:[f.jsx("option",{value:"North",children:""}),f.jsx("option",{value:"Central",children:""}),f.jsx("option",{value:"South",children:""})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("select",{className:ct,value:C.city,onChange:g=>S("city",g.target.value),children:U0(C.outingRegion).map(g=>f.jsx("option",{value:g,children:g},g))})]}),((E=Qf[C.city])==null?void 0:E.zones)&&f.jsxs("div",{children:[f.jsxs("label",{className:vt,children:[" (",j.transportFee>0?`+$${j.transportFee}`:"",")"]}),f.jsxs("select",{className:ct,value:C.area,onChange:g=>S("area",g.target.value),children:[f.jsx("option",{value:"",children:"..."}),Object.entries(Qf[C.city].zones).map(([g,v])=>f.jsxs("option",{value:g,children:[g," (+$",v,")"]},g))]})]}),f.jsxs("div",{className:"md:col-span-3",children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{className:ct,value:C.address,onChange:g=>S("address",g.target.value)})]})]}):f.jsx("div",{className:"flex gap-4",children:f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsxs("select",{className:ct,value:C.regionType,onChange:g=>S("regionType",g.target.value),children:[f.jsx("option",{value:"North",children:""}),f.jsx("option",{value:"Central",children:""}),f.jsx("option",{value:"South",children:""})]})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{className:"bg-red-50 p-2 rounded",children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{type:"number",className:ct,value:C.customDiscount,onChange:g=>S("customDiscount",g.target.value),placeholder:""})]}),f.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{type:"number",className:ct,value:C.extraFee,onChange:g=>S("extraFee",g.target.value),placeholder:""})]})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:vt,children:" ()"}),f.jsx("input",{type:"text",className:ct,placeholder:": ...",value:C.itemNote,onChange:g=>S("itemNote",g.target.value)})]}),f.jsxs("div",{className:"flex justify-between items-center mt-4 pt-4 border-t",children:[f.jsx("div",{className:"text-gray-600 font-medium",children:j.error?f.jsxs("span",{className:"text-red-600 flex items-center",children:[f.jsx(ZS,{className:"w-5 h-5 mr-2"})," ",j.error]}):f.jsxs("span",{children:[": ",f.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["$",j.finalTotal.toLocaleString()]})]})}),f.jsxs("button",{onClick:b,disabled:!!j.error,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded font-bold shadow disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center",children:[f.jsx(Tf,{className:"w-5 h-5 mr-2"})," "]})]})]})}),f.jsxs("div",{className:"print:hidden space-y-4",children:[f.jsxs("h3",{className:"font-bold text-gray-700",children:[" (",p.length,")"]}),p.length===0?f.jsx("div",{className:"text-center py-8 bg-gray-100 rounded text-gray-500 border-dashed border-2",children:""}):p.map((g,v)=>f.jsxs("div",{className:"bg-white p-4 rounded shadow border-l-4 border-green-500 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-lg",children:g.courseName}),f.jsxs("div",{className:"text-sm text-gray-500",children:[g.peopleCount," | ",g.locationMode==="outing"?"":""," | ",g.city," ",g.area]}),g.calc.error&&f.jsx("div",{className:"text-red-500 text-xs",children:g.calc.error})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("span",{className:"font-bold text-xl",children:["$",g.calc.finalTotal.toLocaleString()]}),f.jsx("button",{onClick:()=>N(v),className:"text-red-500 hover:bg-red-50 p-2 rounded",children:f.jsx(Q1,{className:"w-5 h-5"})})]})]},g.id))]}),f.jsx("div",{className:"print:hidden",children:f.jsx("section",{className:Do,children:f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsxs("select",{className:ct,value:s,onChange:g=>r(g.target.value),children:[f.jsx("option",{value:"draft",children:""}),f.jsx("option",{value:"pending",children:""}),f.jsx("option",{value:"confirmed",children:""}),f.jsx("option",{value:"paid",children:""}),f.jsx("option",{value:"closed",children:""})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:vt,children:""}),f.jsx("input",{type:"date",className:ct,value:o,onChange:g=>u(g.target.value)})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:vt,children:""}),f.jsx("textarea",{className:ct,rows:"2",value:h,onChange:g=>m(g.target.value)})]})]})})}),f.jsxs("div",{className:"flex justify-end gap-4 pt-4 print:hidden",children:[f.jsx("button",{onClick:n,className:"px-6 py-3 bg-white border border-gray-300 rounded text-gray-700 font-bold",children:""}),f.jsxs("button",{onClick:I,className:"px-8 py-3 bg-green-600 text-white rounded font-bold hover:bg-green-700 shadow-lg flex items-center",children:[f.jsx(G1,{className:"w-5 h-5 mr-2"})," "]})]}),f.jsxs("div",{className:"mt-8 border-t-4 border-gray-800 pt-8 print:block",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6 print:hidden",children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[f.jsx(Pu,{className:"w-6 h-6 mr-2"})," "]}),f.jsxs("button",{onClick:()=>window.print(),className:"bg-gray-800 text-white px-6 py-2 rounded shadow font-bold flex items-center",children:[f.jsx(H1,{className:"w-4 h-4 mr-2"}),"  PDF"]})]}),f.jsx(nb,{clientInfo:i,items:p,totalAmount:M,dateStr:new Date().toLocaleDateString("zh-TW"),idStr:"PREVIEW"})]})]})},lo=({tab:e,label:t,currentTab:n,onClick:i})=>f.jsx("button",{onClick:()=>i(e),className:`w-full text-left block px-3 py-2 rounded-md text-base font-medium ${n===e?"bg-blue-50 border-blue-500 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:border-gray-300"}`,children:t}),JD=()=>{const[e,t]=et.useState("list"),[n,i]=et.useState([]),[a,s]=et.useState(null),[r,o]=et.useState(!1),[u,h]=et.useState(!1),[m,p]=et.useState(null),[y,T]=et.useState(null),[C,V]=et.useState(!1);et.useEffect(()=>{const A=jD(D0(Oa,"quotes"),zD("createdAt","desc")),w=qD(A,R=>{const x=R.docs.map(tt=>({id:tt.id,...tt.data()}));i(x)},R=>{console.error("Firebase Snapshot Error:",R)});return()=>w()},[]);const M=A=>{t(A),V(!1)},S=()=>{s(null),t("create")},b=A=>{s(A),t("create")},N=async A=>{try{if(a){const w=_r(Oa,"quotes",a.id),{id:R,...x}=A;await Ah(w,{...x,updatedAt:new Date().toISOString()})}else await BD(D0(Oa,"quotes"),{...A,createdAt:new Date().toISOString(),status:A.status||"draft"});t("list")}catch(w){console.error("Error adding/updating document: ",w),alert(": "+w.message)}},I=async A=>{if(confirm(""))try{await PD(_r(Oa,"quotes",A))}catch(w){console.error("Error deleting document: ",w),alert("")}},j=async(A,w)=>{try{const R=_r(Oa,"quotes",A);await Ah(R,w)}catch(R){console.error(R),alert("")}},k=async(A,w)=>{try{const R=_r(Oa,"quotes",A);await Ah(R,{status:w})}catch(R){console.error(R),alert("")}},E=A=>{p(A),o(!0)},g=A=>{T(A),h(!0)},v=()=>{const A=["ID","","","","","",""],w=n.map(tt=>[tt.id,tt.status,tt.clientInfo.companyName,tt.clientInfo.contactPerson,tt.clientInfo.phone,tt.totalAmount,eb(tt.createdAt)]),R="data:text/csv;charset=utf-8,\uFEFF"+[A,...w].map(tt=>tt.join(",")).join(`
`),x=document.createElement("a");x.setAttribute("href",encodeURI(R)),x.setAttribute("download","quotes_report.csv"),document.body.appendChild(x),x.click(),x.remove()};return f.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-900 flex flex-col",children:[f.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm print:hidden",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"bg-slate-800 text-white p-2 rounded mr-2",children:f.jsx(Pu,{className:"w-6 h-6"})}),f.jsx("span",{className:"font-bold text-xl text-gray-800 tracking-wide",children:" ()"})]}),f.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[f.jsx("button",{onClick:S,className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="create"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:""}),f.jsx("button",{onClick:()=>M("list"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="list"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:""}),f.jsx("button",{onClick:()=>M("calendar"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="calendar"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:""}),f.jsx("button",{onClick:()=>M("stats"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${e==="stats"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:""})]}),f.jsx("div",{className:"flex items-center md:hidden",children:f.jsx("button",{onClick:()=>V(!C),className:"p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:C?f.jsx(Kd,{className:"w-6 h-6"}):f.jsx(lx,{className:"w-6 h-6"})})})]})}),C&&f.jsx("div",{className:"md:hidden absolute top-16 left-0 w-full bg-white z-50 border-t border-gray-200 shadow-xl",children:f.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[f.jsx(lo,{tab:"create",label:"",currentTab:e,onClick:M}),f.jsx(lo,{tab:"list",label:"",currentTab:e,onClick:M}),f.jsx(lo,{tab:"calendar",label:"",currentTab:e,onClick:M}),f.jsx(lo,{tab:"stats",label:"",currentTab:e,onClick:M})]})})]}),f.jsxs("main",{className:"flex-1 overflow-auto bg-gray-50 print:bg-white print:p-0 print:overflow-visible",children:[e==="list"&&f.jsx("div",{className:"print:hidden p-4 md:p-8",children:f.jsx($D,{quotes:n,onEdit:b,onDelete:I,onPayment:E,onPreview:g,onStatusChange:k,onExport:v,onCreate:S})}),e==="create"&&f.jsx(ZD,{initialData:a,onSave:N,onCancel:()=>t("list")}),e==="stats"&&f.jsx(KD,{quotes:n}),e==="calendar"&&f.jsx(XD,{quotes:n})]}),r&&f.jsx(YD,{quote:m,onClose:()=>o(!1),onSave:j}),u&&f.jsx(QD,{quote:y,onClose:()=>h(!1)})]})};DS.createRoot(document.getElementById("root")).render(f.jsx(et.StrictMode,{children:f.jsx(JD,{})}));
